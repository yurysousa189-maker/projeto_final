(self.modernJsonp=self.modernJsonp||[]).push([["53602"],{822794:function(e,t,n){n.d(t,{Z:()=>i});var s=n(994193);async function i(e,t){let{api:n}=(0,s.t)(),i=(0,s.u)();try{i.attempt("setMultipleBizEntityPropertiesFullUpdate",t);let s=new Date().getTime(),o=await n.put("/ads/v4/business_entities",e,!1);return i.success("setMultipleBizEntityPropertiesFullUpdate",t),i.latency("setMultipleBizEntityPropertiesFullUpdate",new Date().getTime()-s,t),o}catch(e){throw i.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}}(0,s.u)()},71697:function(e,t,n){var s,i;n.r(t),n.d(t,{default:()=>a});let o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};o.hash="d6f840c748407c7aa62123d5beac3239";let a=o},99643:function(e,t,n){n.d(t,{b:()=>r,m:()=>l});var s=n(667294),i=n(213491),o=n(785893);let{Provider:a,get:l}=(0,i.Z)("LensContext");function r({children:e}){let[t,n]=(0,s.useState)(),[i,l]=(0,s.useState)([]),[r,c]=(0,s.useState)(),[u,d]=(0,s.useState)(),[_,p]=(0,s.useState)(!1);return(0,o.jsx)(a,{value:{heroImageUrl:t,historyData:i,image:r,imageData:u,isLensModalOpen:_,setHeroImageUrl:n,setHistoryData:l,setImage:c,setImageData:d,setIsLensModalOpen:p},children:e})}},537391:function(e,t,n){n.d(t,{H:()=>b,g:()=>f});var s=n(667294),i=n(65711),o=n(69406),a=n(684645),l=n(505633),r=n(719301),c=n(457223),u=n(213491),d=n(47755),_=n(935059),p=n(721703),h=n(647587),m=n(785893);let{Provider:g,get:f}=(0,u.Z)("BusinessHierarchyContext"),b=({children:e})=>{let[t,n]=(0,s.useState)([]),[u,f]=(0,s.useState)([]),[b,y]=(0,s.useState)(!1),[x,v]=(0,s.useState)(!1),[w,P]=(0,s.useState)(null),[A,C]=(0,s.useState)(null),[k,Z]=(0,s.useState)([]),[S,j]=(0,s.useState)({}),z=(0,h.Z)(),I=(0,s.useRef)(z),L=(0,_.Z)(),E=(0,i.Z)(),T=(0,s.useRef)({}),B=(0,s.useCallback)((e,t)=>{let n;t===o.Oz.BUSINESS_HIERARCHY?n=(0,c.Z)(r.Q6.DASHBOARD,"","",e):t===o.Oz.BUSINESS_ACCOUNT&&(n=(0,c.Z)(r.Q6.DASHBOARD,e));let s=(0,p.Z)({site:"www",path:n});(0,l.Z)(s)},[]),M=L.isAuth,{id:R="",username:N="",email:O="",fullName:D="",imageSmallUrl:U="",imageMediumUrl:H="",isAuth:F}=L.isAuth?L:{id:"",username:"",email:"",fullName:"",imageSmallUrl:"",imageMediumUrl:""},$=(0,s.useCallback)(async e=>{if(!E)return[];if(v(!0),T.current[e])return v(!1),T.current[e];{let{data:t}=(await (0,d.Z)({url:"/ads/v4/business_access/business_hierarchies",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:e}})).resource_response,n=t&&t.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user&&"entity_type"in e.user&&(e.user.entity_type=o.Oz.USER_ACCOUNT),e))),e))||[],s=/^\d+$/.test(e),i=RegExp(e.toLowerCase(),"g"),l=[];A||C(l=await I.current());let r=(A??l).filter(t=>s?t.id.includes(e):t.user.full_name.toLowerCase().match(i)).map(a.IT),c=[...n.map(e=>e.id??""),...r.map(e=>e.id)];return M&&(s?(R||"").includes(e):(D||"").toLowerCase().match(i))&&c.push(R),T.current[e]=c,v(!1),c}},[E,I,M,R,D,A]),V=async(e,t)=>{if((!F||!E||A)&&!e)return;y(!0);let s=[];try{let{data:e}=(await (0,d.Z)({url:"/ads/v4/business_access/business_hierarchies"})).resource_response;s=e&&e.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user&&"entity_type"in e.user&&(e.user.entity_type=o.Oz.USER_ACCOUNT),e))),e))||[],n(s)}catch{n([])}try{let n=[];(!A||e)&&(n=await I.current(),f(n.filter(e=>t&&A&&!A.some(({id:t})=>t===e.id)).map(e=>e.user.full_name)),C(n));let i=e?n:A??n;Z(i.map(a.IT)),j(i.reduce((e,t)=>(e[t.id]=t.business_roles||[],e),{})),P((0,a.WP)({id:R,username:N,email:O,fullName:D,imageSmallUrl:U,imageMediumUrl:H})),T.current[""]=[...s.map(e=>e.id),...i.map(a.IT).map(e=>e.id),R],y(!1)}catch{y(!1)}},W=(0,s.useCallback)(V,[R,N,O,D,U,H,F,E,A]),G=(0,s.useCallback)(e=>t.some(t=>t.id===e||"children"in t&&t.children.some(t=>t.id===e||t.user.id===e)),[t]),q=(0,s.useCallback)(e=>t.map(e=>"BUSINESS_HIERARCHY"===e.entity_type?e:null).find(t=>!!t&&t.children.some(t=>t.user.id===e)),[t]),Y=(0,s.useCallback)(()=>{f([])},[f]),X=(0,s.useMemo)(()=>({businessHierarchies:[...w?.id&&!G(w.id)?[w]:[],...t,...k.filter(e=>!G(e.id))],switchAccount:B,searchAccounts:$,loadingAccounts:b,isSearchingAccounts:x,fetchData:W,getParentHierarchyForIdIfExists:q,viewerRolesOfEachEmployer:S,tooltipEmployers:u,hideTooltip:Y}),[t,B,$,k,b,x,w,W,G,q,S,u,Y]);return(0,m.jsx)(g,{value:X,children:e})}},310008:function(e,t,n){n.d(t,{r:()=>b,Z:()=>f});var s=n(667294),i=n(731517),o=n(822794),a=n(47755),l=n(994193);let r=async(e,t)=>{let{statsLog:n}=(0,l.t)();try{let s=new Date,i=await (0,a.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),o=new Date;return n&&(n.success("getMultipleBizEntityProperties",t),n.latency("getMultipleBizEntityProperties",o.getTime()-s.getTime(),t)),i.resource_response.data}catch(e){throw n&&n.failure("getMultipleBizEntityProperties",t),e}},c=async(e,t,n="PUT")=>{let{statsLog:s}=(0,l.t)();try{let i=new Date,o=await (0,a.Z)({url:"/ads/v4/business_entities",data:e,method:n}),l=new Date;return s&&(s.success("setMultipleBizEntityPropertiesFullUpdate",t),s.latency("setMultipleBizEntityPropertiesFullUpdate",l.getTime()-i.getTime(),t)),o.resource_response.data}catch(e){throw s&&s.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}};var u=n(213491),d=n(236269),_=n(935059),p=n(501010),h=n(767415),m=n(785893);let{Provider:g,get:f}=(0,u.Z)("CustomShortcutsContext"),b=({children:e})=>{let t=(0,_.Z)(),n=t.isAuth?t.id:void 0,a=t.isAuth&&t.isPartner,l=t.isAuth&&t.isLimitedLogin,u=(0,p.Z)(),[f,b]=(0,s.useState)({}),y=(0,s.useCallback)(async()=>{let{anyEnabled:e}=u.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),t=Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]).every(e=>!window.location.href?.includes(e));if(n&&a&&!l&&t)try{let t;t=e?r:i.Z;let s=(await t([{entity_id:n,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(s&&s.properties))return;let o=s.properties.NAVBAR_CONFIG;b(o?.customShortcuts||{})}catch(e){(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:n,error:(0,d.Z)(e,"message")}})}},[n,a,l,u]),x=(0,s.useCallback)(async e=>{let{anyEnabled:t}=u.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!n)return(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:n,error:"Auth_Error"}}),{error:"Auth_Error"};try{let s;s=t?c:o.Z;return await s([{entity_id:n,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:e}}}]),y(),{error:null}}catch(e){return(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:n,error:(0,d.Z)(e,"message")}}),{error:"Upsert_Error"}}},[n,u,y]);(0,s.useEffect)(()=>{y()},[y]);let v=(0,s.useMemo)(()=>({shortcuts:f,upsertShortcuts:x}),[f,x]);return(0,m.jsx)(g,{value:v,children:e})}},363061:function(e,t,n){n.d(t,{Z:()=>s});function s(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},53596:function(e,t,n){n.d(t,{Z:()=>s});let s='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},967574:function(e,t,n){n.d(t,{Z:()=>L});var s=n(686659),i=n(667294),o=n(740097),a=n(230201),l=n(943152),r=n(935059),c=n(67077),u=n(565758),d=n(108930),_=n(104999),p=n(660613),h=n(478559),m=n(281183),g=n(114870),f=n(24246),b=n(236906),y=n(968960),x=n(661376),v=n(247387),w=n(145626),P=n(402191),A=n(505633),C=n(504644),k=n(792559),Z=n(696749),S=n(484125);let j=["chrome","windows"];var z=n(841353),I=n(785893);function L({onDismiss:e,handleFocus:t,advertiser:n,showAdsSupportOption:L,isWwwSite:E,isImportContentEnabled:T}){(0,i.useEffect)(()=>{(0,s.Z)("HeaderAccountsOptionsDropdown","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsDropdown.tsx")},[]);let B=(0,r.Z)(),M=(0,f.Z)(),{logContextEvent:R}=(0,a.u)(),{isLoaded:N,data:O}=(0,x.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:D,data:U}=(0,x.Z)({name:"ApiResource",options:{url:"/v3/users/settings/"}}),{content_claiming_access:H=!1}=O||{},{handleShowReportBugModal:F}=(0,z.P)(),$=function(){let e=(0,r.Z)(),t=(0,_.Z)(),n=(0,h.aU)();return function(){t({event_type:101,component:8,element:8005}),(0,m.lv)()>1?(e.isAuth&&((0,p.RD)(e.id),(0,p.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,m.Q)()})):((0,p.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}(),V=function(){let e=(0,f.Z)(),t=(0,i.use)(S.Z),n=(0,C.kM)(window,t),s=(0,_.Z)(),o=e=>{s({component:247,element:e,event_type:101})},a=(0,Z.Z)(e.bt("Instala a app {{appName}}", "Install the {{appName}} app", "header.accountsOptionsMenu.installApp", undefined, true),{appName:(0,k.Z)(n)});return j.includes(n)?{onClick:()=>{if("windows"===n)o(11409),(0,A.Z)(`${v.TMP}&cid=flyout_cta`,!0);else if("chrome"===n&&t){let e=t();e&&(o(11410),e.prompt())}},text:a}:null}(),W=B.isAuth&&!!B.isEmployee,G=!!B.isAuth&&B.isPartner,q=B.isAuth&&!!B.teenSafetyOptionsUrl,Y=!!B.isAuth&&!B.isLimitedLogin,X=B.isAuth?B.id:void 0,J=(0,l.Z)(),{fetchedUserAccounts:K,handleAccountRepClick:Q,handleAddSecondaryAccount:ee,handleClick:et,handleLinkedAccountSwitch:en,handleUnlockBusinessTools:es,isLoading:ei,showUnlockBusinessTools:eo}=(0,g.Z)(e,E),ea=(0,d.Z)(),el=K.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),er=K.find(e=>e.id===(B.isAuth&&B.id)),ec=B.isAuth&&B.partner?.is_linked_business;ec&&(el=el.sort(e=>er?.owners?.some(t=>t.id===e.id)?-1:1));let eu=ei&&(0,I.jsx)(b.Z,{}),ed=er?.businesses?.length?er.businesses.map(e=>X!==e.id&&(0,I.jsx)(o.Lt.Item,{accessibilityRole:"unset",dataTestId:"lba-account-switch-option",onSelect:()=>en(e,er.id),option:ea.lbaAccountSwitch(e),children:(0,I.jsx)(u.Z,{user:e},e.id)},e.id)):null,e_=el.map(e=>e.id!==X?[(0,I.jsx)(o.Lt.Item,{accessibilityRole:"unset",onSelect:()=>Q(e),option:ea.parentAccount(e),children:(0,I.jsx)(u.Z,{isCurrentAccount:X===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>X!==t.id&&(0,I.jsx)(o.Lt.Item,{accessibilityRole:"unset",dataTestId:"lba-account-switch-option",onSelect:()=>en(t,e.id),option:ea.businessAccount(t),children:(0,I.jsx)(u.Z,{user:t},t.id)},t.id)):[]]:null),ep=E&&(0,I.jsx)(o.Lt.Link,{dataTestId:"header-menu-add-account",href:"/add-account",onClick:ee,option:ea.addAccount}),eh=(0,I.jsx)(o.Lt.Link,{dataTestId:"header-menu-add-account",href:"/add-account",onClick:ee,option:ea.addAccount}),em=eo&&(0,I.jsx)(o.Lt.Link,{dataTestId:"header-menu-business-account",href:B.isAuth?"https://www.pinterest.com/convert-business":`${v.KDH}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`,onClick:es,option:ea.convertToBusiness}),eg=(0,I.jsx)(o.Lt.Link,{href:v.zXf,onClick:({event:e})=>{e.preventDefault(),et(15983),t()},option:ea.accountClaiming}),ef=T?(0,I.jsx)(o.Lt.Link,{href:v.RMT,onClick:({event:e})=>{e.preventDefault(),et(18167),t()},option:ea.importContent}):null,eb=N&&H&&(0,I.jsx)(o.Lt.Link,{href:"/content-claiming",onClick:()=>{et(13606),t()},option:ea.contentClaiming}),ey=W&&(0,I.jsx)(o.Lt.Item,{accessibilityRole:"unset",onSelect:()=>{F(),et(13607),e()},option:ea.reportBug}),ex=(0,I.jsx)(o.Lt.Link,{accessibilityRole:"unset",dataTestId:"header-menu-options-settings",href:Y?`https://${(0,c.Z)()}/settings`:"",onClick:({event:e})=>{if(J){e.stopPropagation(),J();return}et(247),t()},option:ea.settings}),ev=(0,I.jsx)(o.Lt.Link,{href:Y?"/edit":"",onClick:({event:e})=>{if(J){e.stopPropagation(),J();return}et(11345),t()},option:ea.homefeedTuner},"header-menu-options-homefeed-tuner"),ew=!G&&V?(0,I.jsx)(o.Lt.Item,{accessibilityRole:"unset",onSelect:()=>{V.onClick(),e()},option:ea.installApp(V.text)}):null,eP=(0,I.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-privacy",href:Y?`https://${(0,c.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(J){e.stopPropagation(),J();return}et(13334),t()},option:ea.settingsPrivacy}),eA=(0,I.jsx)(o.Lt.Link,{href:Y?"/reports-and-violations":"",onClick:({event:e})=>{if(J){e.stopPropagation(),J();return}et(14618),t()},option:ea.reportsAndViolationsCenter}),eC=q?(0,I.jsx)(o.Lt.Link,{href:B.teenSafetyOptionsUrl??"",iconEnd:"visit",onClick:()=>{R({event_type:101,element:14321}),et(14321),t()},option:ea.teenSafetyResources}):null,ek=G&&L&&(!n||(0,y.Z)((n||{}).actions||[],7))&&(0,I.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:v.JbB,iconEnd:"visit",onClick:()=>{et(10106),t()},option:ea.adsSupport}),eZ=G?(0,I.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:v.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",iconEnd:"visit",onClick:()=>{et(11345),t()},option:ea.requestFeature}):null,eS=(0,I.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-help",href:`${v.gOE}?source=gear_menu_web`,iconEnd:"visit",onClick:()=>{et(8002),t()},option:ea.getHelp}),ej=(0,I.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-tos",href:v.U5h,iconEnd:"visit",onClick:()=>{et(61),t()},option:ea.termsOfService}),ez=(0,I.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-policy",href:v.R_9,iconEnd:"visit",onClick:()=>{et(8004),t()},option:ea.privacyPolicy}),eI=(0,I.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:"https://www.pinterest.com/public-beta/",iconEnd:"visit",onClick:()=>{et(13613),t()},option:ea.betaTester},"header-menu-options-beta-tester"),eL=(0,I.jsx)(o.Lt.Item,{accessibilityRole:"unset",dataTestId:"header-menu-options-logout",onSelect:$,option:ea.logOut}),eE=(0,I.jsxs)(o.Lt.Section,{label:M.bt("As tuas contas", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[eu,ed,e_,D&&!U?.opt_in_private_account&&ep,eL]},"your-accounts"),eT=(0,I.jsxs)(o.Lt.Section,{label:M.bt("As tuas contas", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[eu,ed,e_,D&&!U?.opt_in_private_account&&eh,ex]},"your-accounts"),eB=(0,I.jsxs)(o.Lt.Section,{label:M.bt("Conteúdo", "Content", "header.accountsOptionsMenu.contentHeader", undefined, true),children:[ef,eb,eg,eA,ew]}),eM=(0,I.jsxs)(o.Lt.Section,{label:M.bt("Ajuda", "Help", "header.accountsOptionsMenu.helpHeader", undefined, true),children:[eC,eS,ek,eZ,ey]}),eR=(0,I.jsxs)(o.Lt.Section,{label:M.bt("Privacidade", "Privacy", "header.accountsOptionsMenu.privacyHeader", undefined, true),children:[ez,eP]}),eN=(0,I.jsxs)(o.Lt.Section,{label:"",children:[ej,eL]});return{currentlyIn:(0,I.jsxs)(o.Lt.Section,{label:M.bt("Atualmente em", "Currently in", "SwitchAccountsList.CurrentlyInTitle", undefined, true),children:[!!er&&(0,I.jsx)(o.Lt.Item,{accessibilityRole:"unset",onSelect:()=>ec?en(er,void 0):Q(er),option:ea.currentAccount,selected:ea.currentAccount,children:(0,I.jsx)(o.rU,{href:E?`/${er.username}/`:`${w.C0}/${er.username}/`,underline:"none",children:(0,I.jsx)(u.Z,{isCurrentAccount:!0,user:er})})}),!U?.opt_in_private_account&&em]},"currently-in"),yourAccount:G?eT:eE,moreOptions:[eB,eM,eR,eN],settingsAndSupport:[ey,ex,ev,eb,eg,eA,ew,eI,(0,I.jsxs)(o.Lt.Section,{label:M.bt("Suporte", "Support", "SettingsMenu.SupportOptions", undefined, true),children:[eS,(0,I.jsx)(o.Lt.Link,{href:`${v.iYv}/tools/widget-builder/?type=profile&url=${encodeURIComponent(`https://${window.location.hostname}/${er?.username||""}/`)}`,iconEnd:"visit",onClick:()=>{R({event_type:101,component:218,element:8001})},option:{label:M.bt("Criar widget", "Create widget", "A link to create an embeddable widget", undefined, true),value:"make-widget-link"}},"make-widget-link"),(0,I.jsx)(o.Lt.Link,{href:v.hwP,iconEnd:"visit",onClick:()=>{R({event_type:101,component:218,element:8011})},option:{label:M.bt("Removidos", "Removals", "menu item that takes user to the Pinterest copyright page", undefined, true),value:"removals"}},"removals"),(0,I.jsx)(o.Lt.Link,{href:"https://help.pinterest.com/en/article/personalized-ads-on-pinterest",onClick:()=>{R({event_type:101,component:218,element:10406})},option:{label:M.bt("Anúncios personalizados", "Personalized Ads", "menu item that takes user to the Pinterest personalized ads page", undefined, true),value:"personalized-ads"}},"personalized-ads"),eP,ez,ej]},"support"),(0,I.jsx)(o.Lt.Section,{label:M.bt("Recursos", "Resources", "SettingsMenu.Resources", undefined, true),children:(0,I.jsxs)(o.xu,{direction:"row",display:"flex",paddingX:2,width:240,wrap:!0,children:[(0,I.jsx)(P.O,{onClick:()=>{R({event_type:101,component:218,element:8006})},text:M.bt("Acerca", "About", "menu item that takes user to the Pinterest about page", undefined, true),url:v.wUZ}),(0,I.jsx)(P.O,{onClick:()=>{R({event_type:101,component:218,element:8007})},text:M.bt("Imprensa", "Blog", "menu item that takes user to the Pinterest blog", undefined, true),url:"https://www.pinterest.com/_/_/blog/"}),(0,I.jsx)(P.O,{onClick:()=>{R({event_type:101,component:218,element:8008})},text:M.bt("Empresas", "Businesses", "menu item that takes user to the Pinterest for business page", undefined, true),url:v.NWh}),(0,I.jsx)(P.O,{onClick:()=>{R({event_type:101,component:218,element:8009})},text:M.bt("Carreiras", "Careers", "menu item that takes user to the Pinterest careers page", undefined, true),url:v.t_w}),(0,I.jsx)(P.O,{onClick:()=>{R({event_type:101,component:218,element:8010})},text:M.bt("Programadores", "Developers", "menu item that takes user to the Pinterest developers page", undefined, true),url:v.iYv})]})},"resources")]}}},565758:function(e,t,n){n.d(t,{Z:()=>d});var s=n(686659),i=n(667294),o=n(740097),a=n(319226),l=n(301737),r=n(24246),c=n(157498),u=n(785893);function d({user:e,isCurrentAccount:t}){(0,i.useEffect)(()=>{(0,s.Z)("HeaderAccountsOptionsMenuAccountRep","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsMenuAccountRep.tsx")},[]);let n=(0,r.Z)(),d=e.partner,_=(0,c.mN)()(e.id??""),p=_?.avatar_color_index;return(0,u.jsxs)(o.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,children:[(0,u.jsx)(o.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,u.jsx)(a.qE,{accessibilityLabel:"",color:p,name:(0,l.G)(e),src:(0,l.k)(e)})}),(0,u.jsxs)(o.xu,{maxWidth:176,children:[(0,u.jsx)(o.xe,{lineClamp:1,weight:"bold",children:(0,l.G)(e)}),(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,u.jsx)(o.xe,{color:"subtle",lineClamp:1,size:"200",children:d?n.bt("Empresa", "Business", "SwitchAccountsListItem.BusinessAccount.label", undefined, true):n.bt("Pessoal", "Personal", "SwitchAccountsListItem.PersonalAccount.label", undefined, true)})}),t&&(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,u.jsx)(o.xe,{color:"subtle",lineClamp:1,size:"200",children:d?e.partner?.bizContactEmail:e.email})})]})]})}},108930:function(e,t,n){n.d(t,{Z:()=>i});var s=n(24246);function i(){let e=(0,s.Z)();return{addAccount:{value:"add-account",label:e.bt("Adicionar conta do Pinterest", "Add Pinterest account", "header.accountsOptionsMenu.addSecondaryAccountButton", undefined, true)},businessAccess:{value:"business-access",label:e.bt("Acesso empresarial", "Business Access", "Link to business Access Landing Page", undefined, true)},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),accountClaiming:{value:"account-claiming",label:e.bt("Ligar ao Pinterest", "Link to Pinterest", "header.accountsOptionsMenu.contentClaimingLink", undefined, true)},contentClaiming:{value:"content-claiming",label:e.bt("Portal de reivindicação de conteúdo", "Content claiming portal", "header.accountsOptionsMenu.contentManagementPortal", undefined, true)},convertToBusiness:{value:"convert-to-business",label:e.bt("Converter para conta de empresa", "Convert to business", "header.accountsOptionsMenu.addAccountButton", undefined, true)},currentAccount:{value:"current-account",label:e.bt("Conta atual", "Current account", "SwitchAccountsList.CurrentlyInItem", undefined, true)},failedAccount:{value:"failed-account",label:e.bt("Erro ao iniciar sessão nesta conta", "Failed to log into this account", "header.accountsOptionsMenu.failedAccountItem", undefined, true)},getHelp:{value:"get-help",label:e.bt("Centro de Ajuda", "Help center", "header.accountsOptionsMenu.helpCenter.label", undefined, true)},homefeedTuner:{value:"homefeed-tuner",label:e.bt("Refina as tuas recomendações", "Refine your recommendations", "header.accountsOptionsMenu.refineRecommendations.label", undefined, true)},importContent:{value:"import-content",label:e.bt("Importar conteúdo", "Import content", "header.accountsOptionsMenu.importContentLink", undefined, true)},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e.bt("Terminar sessão", "Log out", "header.accountsOptionsMenu.logout", undefined, true)},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e.bt("Termos de utilização", "Terms of service", "header.accountsOptionsMenu.termsOfService.label", undefined, true)},privacyPolicy:{value:"privacy-policy",label:e.bt("Política de privacidade", "Privacy policy", "header.accountsOptionsMenu.privacyPolicy.label", undefined, true)},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e.bt("Centro de denúncias e violações", "Reports and violations center", "header.accountsOptionsMenu.reportsAndViolationsCenter", undefined, true)},reportBug:{value:"report-bug",label:e.bt("Comunicar um erro", "Report a bug", "header.accountsOptionsMenu.reportBug", undefined, true)},settings:{value:"settings",label:e.bt("Definições", "Settings", "header.accountsOptionsMenu.settings", undefined, true)},settingsPrivacy:{value:"settingsPrivacy",label:e.bt("Os teus direitos de privacidade", "Your privacy rights", "header.accountsOptionsMenu.settingsPrivacy.label", undefined, true)},adsSupport:{value:"ads-support",label:e.bt("Suporte para anúncios", "Ads support", "header.accountsOptionsMenu.adsSupport", undefined, true)},requestFeature:{value:"request-a-feature",label:e.bt("Pedir uma funcionalidade", "Request a feature", "header.accountsOptionsMenu.requestAFeature", undefined, true)},pinterestTvStudio:{value:"pinterest-tv-studio",label:e.bt("Estúdio Pinterest TV", "Pinterest TV Studio", "Link to Pinterest Tv Creator Studio", undefined, true)},betaTester:{value:"be-a-beta-tester",label:e.bt("Torna-te num beta tester", "Be a beta tester", "header.accountsOptionsMenu.beBetaTesterProgram", undefined, true)},teenSafetyResources:{value:"teen-safety-resources",label:e.bt("Funcionalidades de segurança para adolescentes", "Teen safety resources", "header.accountsOptionsMenu.teenSafetyResources", undefined, true)}}}},114870:function(e,t,n){n.d(t,{Z:()=>m});var s=n(667294),i=n(27399),o=n(935059),a=n(661376),l=n(230201),r=n(483359),c=n(609252),u=n(936367),d=n(660613),_=n(179),p=n(420711),h=n(767415);function m(e,t){let{flushContextEvents:n,logContextEvent:m}=(0,l.u)(),[g,f]=(0,s.useState)(!1),[b,y]=(0,s.useState)(null),x=(0,o.Z)(),{showAccountSwitcherLoginModal:v}=(0,_.X)(),{userAccounts:w}=(0,p.N)(),{data:P}=function(){let e=(0,o.Z)();return(0,a.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}(),A=(0,r.Z)(),C=!!(x.isAuth&&!x.partner&&P?.businesses)&&0===P.businesses.length;(0,s.useEffect)(()=>(x.isAuth&&(0,d.Mt)(x,P),()=>{(0,d.CV)("flyout.dismiss")}),[]),(0,s.useEffect)(()=>((0,d.CV)("modal.shown"),()=>{(0,d.CV)("modal.dismiss")}),[]),(0,s.useEffect)(()=>{w.length>1&&m({event_type:13,view_type:234,component:13369,element:12722})},[m,w]);let k=(e,t)=>{throw(0,d.z3)(e,"account_switcher_flyout"),f(!1),t};return{failedAccount:b,fetchedUserAccounts:w,handleAccountRepClick:e=>{x.isAuth&&e.id!==x.id&&(e=>{let{id:t}=e;f(!0),m({event_type:101,component:13369,element:11196}),(0,d.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),c.Z.pause(u.LU),n(),A({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then((n={})=>{n?.resource_response.data?.user?(0,d.iS)("/",t,"account_switcher_flyout"):((0,d.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,d.z3)(t,"account_switcher_flyout"),y(e),f(!1))},e=>{k(t,e)})})(e)},handleAddSecondaryAccount:()=>{(0,d.CV)("add_account_click",null,"account_switcher_flyout"),m({event_type:101,component:8,element:12756}),e()},handleClick:t=>{13290!==t&&m({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,s)=>{let{partner:o}=e;if(f(!0),m({event_type:101,component:13369,element:o?.isLinkedBusiness?11195:11194}),c.Z.pause(u.LU),n(),o?.isLinkedBusiness){let t={business_id:e.id,get_user:!0,owner_id:s};(0,h.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),A({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(()=>{(0,h.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,d.iS)("/",e.id,"account_switcher_flyout")},t=>{k(e.id,t)})}else i.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{x.isAuth&&((0,d.RD)(x.id),(0,d.iS)(t?`/${e.username}`:"/",x.id,"account_switcher_flyout"))},e=>{x.isAuth&&k(x.id,e)})},handleReauthAccount:()=>{(0,d.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),y(null),v("account_switcher_flyout",b?.email)},handleRemoveUnauthAccount:e=>{(0,d.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,d.RD)(e),y(null)},handleUnlockBusinessTools:()=>{e(),m({event_type:101,component:8,element:10299})},isLoading:g,showUnlockBusinessTools:C}}},301737:function(e,t,n){function s(e){return e.partner?.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function i(e){let{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}n.d(t,{G:()=>s,k:()=>i})},236906:function(e,t,n){n.d(t,{Z:()=>r});var s=n(686659),i=n(667294),o=n(740097),a=n(24246),l=n(785893);function r({accessibilityLabel:e,fixedPosition:t,rounding:n}){(0,i.useEffect)(()=>{(0,s.Z)("LoadingMask","/app/packages/LoadingMask.tsx")},[]);let r=(0,a.Z)();return(0,l.jsxs)(o.xu,{children:[(0,l.jsx)(o.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new o.Ry(101),children:(0,l.jsx)(o.xH,{accessibilityLabel:e||r.bt("A carregar", "Loading", "Label for loading spinner", undefined, true),show:!0})}),(0,l.jsx)(o.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:t?"fixed":"absolute",right:!0,rounding:n,top:!0,zIndex:new o.Ry(100)})]})}},968960:function(e,t,n){n.d(t,{Z:()=>s});function s(e,t){return e.includes(t)||e.includes(80)}},698330:function(e,t,n){n.d(t,{Z:()=>i});var s=n(774838);let i=function(){let{country:e,isBot:t,isAuthenticated:n,locale:i}=(0,s.B)(),o="en"===i.slice(0,2);return t||!n&&o&&"US"===e}},711072:function(e,t,n){n.d(t,{Z:()=>i});var s=n(667294);let i=function(e,t){let n=(0,s.useRef)(e),i=(0,s.useRef)(void 0),o=(0,s.useRef)(void 0);(0,s.useEffect)(()=>{n.current=e},[e]),(0,s.useEffect)(()=>()=>{i.current&&clearTimeout(i.current)},[t]);let a=(0,s.useCallback)((...e)=>{o.current=e,i.current&&clearTimeout(i.current),i.current=window.setTimeout(()=>{n.current(...e),o.current=void 0},t)},[t]);return a.flush=(0,s.useCallback)(()=>{if(i.current&&(clearTimeout(i.current),i.current=void 0),o.current){let e=o.current;return o.current=void 0,n.current(...e)}},[]),a.cancel=(0,s.useCallback)(()=>{i.current&&(clearTimeout(i.current),i.current=void 0),o.current=void 0},[]),a}},232178:function(e,t,n){n.d(t,{Z:()=>r});var s=n(686659),i=n(667294),o=n(740097),a=n(24246),l=n(785893);function r(){(0,i.useEffect)(()=>{(0,s.Z)("FullPageSignupLoadingFallback","/app/packages/desktopLoginModal/FullPageSignupLoadingFallback.tsx")},[]);let e=(0,a.Z)();return(0,l.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(o.xH,{accessibilityLabel:e.bt("A carregar formulário de registo", "Loading signup form", " - ", undefined, true),show:!0})})}},483359:function(e,t,n){n.d(t,{Z:()=>Z});var s=n(667294),i=n(966502),o=n(27399),a=n(4533),l=n(230201),r=n(470967),c=n(127078),u=n(498895),d=n(991166),_=n(384696),p=n(990898),h=n(424868),m=n(478559),g=n(637539),f=n(501010),b=n(552764),y=n(165927),x=n(856639),v=n(959708),w=n(34550),P=n(935833),A=n(11908),C=n(278277),k=n(767415);function Z(){let e=(0,m.hq)(),t=(0,b.Z)(),{logContextEvent:n}=(0,l.u)(),Z=(0,A.Z)(),S=(0,f.Z)(),j=(0,p.Z)(),z=(0,c.EJ)();return(0,s.useCallback)(async({creds:s,isAccountSwitch:l,loggingOptions:{loggingData:c={},loginAttemptContextEvent:p},recaptchaV2Token:m,recaptchaV3Token:f,fingerprintData:b})=>{t();let A=!!(s.facebook_autologin||s.autologin),I=(0,g.eD)(s),L=e=>{let t=s.google_open_id_token?"google":"facebook";A&&(0,P.dy)({event:e,provider:t})},E=e=>{A||(0,P.EX)({event:e,provider:(0,g.nY)(s)})},T=e=>{n({...p,event_type:e,aux_data:{...p.aux_data,upsell_reason:p.aux_data?.upsell_reason||(A?"autologin":(0,w.M0)().getItem(a.bg)),upsell_view_count:(0,w.M0)().getItem(a.w0)??0}}),7536===e&&((0,w.M0)().setItem(a.V6,(0,g.nY)(s)),(0,w.M0)().setItem(a.w0,0))};if(T(7534),Z({action:A?"autologin":"login",event:"attempt",trigger:c.trigger,type:I}),L("login_api_call_start"),E("login_api_call_start"),"email"===I&&await (0,_.Lq)({fingerprintData:b,source:d.Ef.LOGIN,logContextEvent:n}))return Promise.reject({isArkoseChallengeRequired:!0});let B=(0,C.O)();return o.Z.create("UserSessionResource",(0,_.NW)({...s,...B?{referrer:B}:Object.freeze({}),get_user:s.get_user||s.switch_account&&l,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:JSON.stringify(z)||null,recaptchaV2Token:m,recaptchaV3Token:f,fingerprintData:b})).callCreate({showError:!1,async:!0}).then(e=>{let{country:t,country_from_hostname:n,country_from_ip:o,region_from_ip:a}=e?.client_context||Object.freeze({});return e?.auxData?.x_pinterest_sli_endpoint_name==="v3_login_mfa_resend"||((e=>{let t="referrer_unknown";try{let e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}let n=c===Object(c)?c.container:"container_unknown";(0,P.My)("login.referrer."+t+"."+I),(0,P.My)("login.container."+String(n)+"."+I),(0,P.My)("login.type."+I);let i=I||"method_unknown",o=c.page||"page_unknown";s.facebook_autologin?((0,P.My)("web_autologin_facebook"),(0,P.My)("new_web_autologin_facebook",{page:o,referrer:t,container:n})):((0,P.My)(`web_login.${i}.success.${o}.${String(n)}.${t}.tier1`),(0,k.nP)(`web_login.${i}.success.${o}.${String(n)}.${t}.tier1`),(0,P.My)(`new_web_login.${i}.success`,{page:o,referrer:t,container:n})),(0,y.ko)({country:e?.country,countryFromHostName:e?.countryFromHostName,countryFromIp:e?.countryFromIp,regionFromIp:e?.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),T(7536),Z({action:A?"autologin":"login",event:"success",trigger:c&&c.trigger,type:I})})({country:t,countryFromHostName:n,countryFromIp:o,regionFromIp:a}),L("login_api_call_success"),E("login_api_call_success"),(0,u.B)(!1),j(),r.zN(i.e7.name),r.zN(i.x3.name),S.checkExperiment("web_install_sw_on_unauth_landing").anyEnabled)?Promise.resolve(e):(0,v.Z)("login").then(()=>e)},e=>((({error:e})=>{if(!e)return;let t=e.http_status===x.Ej?x.Ej:e.api_error_code,n=t;t&&h.qF.has(t)&&(n=h.qF.get(t));let{container:s,trigger:i}=c;(0,P.My)(`unauth_web_client_login_api_error.${String(n)}.${s||"unknow_container"}.${I}`,{apiErrorCode:t,container:s,errorDescription:n,httpStatus:e.http_status,message:e.message?.toString()}),T(7535),Z({action:A?"autologin":"login",event:"fail",trigger:i,type:I})})({error:e}),L("login_api_call_failure"),E("login_api_call_failure"),Promise.reject(e)))},[e,t,n,Z,S,j,z])}},498895:function(e,t,n){n.d(t,{B:()=>a,a:()=>o});var s=n(4533),i=n(34550);let o=()=>!!i.ZP.getItem(s.WM),a=e=>{i.ZP.setItem(s.WM,!!e)}},180999:function(e,t,n){n.d(t,{Z:()=>s});let s="M11 23H5a4 4 0 0 1-4-4V5a4 4 0 0 1 4-4h6zm12-4a4 4 0 0 1-4 4h-6V13h10zM19 1a4 4 0 0 1 4 4v6H13V1z"},67077:function(e,t,n){n.d(t,{Z:()=>i});var s=n(145626);let i=()=>{let{hostname:e}=window.location,t=e.includes("pinterdev")&&!e.includes("ads.pinterdev"),n=e.includes("pinterest")&&(e.startsWith("www")||e.startsWith("latest")||e.startsWith("testing"));return t||n?e:e.includes("ads-latest")?"latest.pinterest.com":s.Vi}},80769:function(e,t,n){n.d(t,{ak:()=>l,j3:()=>a,yv:()=>o});var s=n(24246),i=n(774838);function o(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function a(){let{country:e=""}=(0,i.B)();return o(e)}function l(){return (0,s.Z)().bt("Impressão", "Imprint", "impressumText", undefined, true)}},875417:function(e,t,n){n.d(t,{Z:()=>i});var s=n(667294);function i(e){let{animationData:t,autoplay:i,initialSegment:o,loop:a,onComplete:l,onConfigReady:r,onDataFailed:c,onDataReady:u,onDestroy:d,onDOMLoaded:_,onEnterFrame:p,onLoadedImages:h,onLoopComplete:m,onSegmentStart:g}=e,[f,b]=(0,s.useState)(null),[y,x]=(0,s.useState)(!1),v=(0,s.useRef)(null),w=(0,s.useRef)(null),P=async()=>{b(await n.e("13000").then(n.t.bind(n,98234,23)))};return(0,s.useEffect)(()=>{P()},[]),(0,s.useEffect)(()=>{if(!w.current||!f||!t||!t.w||!t.h)return;v.current?.destroy();let n={...e,container:w.current};v.current=f.loadAnimation(n),x(!!v.current)},[w,v,t,f,e]),(0,s.useEffect)(()=>{v.current&&(v.current.loop=!!a,a&&v.current.isPaused&&v.current.play())},[a]),(0,s.useEffect)(()=>{v.current&&(v.current.autoplay=!!i)},[i]),(0,s.useEffect)(()=>{if(v.current){if(!o)return void v.current.resetSegments(!1);Array.isArray(o)&&o.length&&((v.current.currentRawFrame<o[0]||v.current.currentRawFrame>o[1])&&(v.current.currentRawFrame=o[0]),v.current.setSegment(o[0],o[1]))}},[o]),(0,s.useEffect)(()=>{if(!v.current||!y)return()=>{};let e=[{name:"complete",handler:l},{name:"loopComplete",handler:m},{name:"enterFrame",handler:p},{name:"segmentStart",handler:g},{name:"config_ready",handler:r},{name:"data_ready",handler:u},{name:"data_failed",handler:c},{name:"loaded_images",handler:h},{name:"DOMLoaded",handler:_},{name:"destroy",handler:d}].filter(e=>null!=e.handler).map(e=>(v.current?.addEventListener(e.name,e.handler),()=>{v.current?.removeEventListener(e.name,e.handler)}));return()=>{e.forEach(e=>e())}},[y,l,m,p,g,r,u,c,h,_,d]),{animationContainerRef:w,play:()=>{v.current?.play()},stop:()=>{v.current?.stop()},pause:()=>{v.current?.pause()},setSpeed:e=>{v.current?.setSpeed(e)},goToAndStop:(e,t)=>{v.current?.goToAndStop(e,t)},goToAndPlay:(e,t)=>{v.current?.goToAndPlay(e,t)},setDirection:e=>{v.current?.setDirection(e)},playSegments:(e,t)=>{v.current?.playSegments(e,t)},setSubframe:e=>{v.current?.setSubframe(e)},getDuration:e=>v.current?.getDuration(e),destroy:()=>{v.current?.destroy()},animationLoaded:y,animationItem:v.current}}},660613:function(e,t,n){n.d(t,{CV:()=>l.Z,Mt:()=>u,RD:()=>c,iS:()=>d,z3:()=>_});var s=n(505633),i=n(609252),o=n(936367),a=n(483423),l=n(675410),r=n(281183);let c=e=>{let t={...(0,r.rl)()};delete t[e],(0,r.r8)(t)},u=(e,t)=>{if(!(0,r.PE)()||e&&!(e.id in(0,r.rl)())){if(e.partner&&e.partner.is_linked_business&&t)return void(0,a.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});(0,a.Z)(e)}},d=(e,t,n)=>{(0,l.Z)("switch_account_success",{destination_user_id:t},n),(0,s.Z)(e)},_=(e,t)=>{i.Z.resume(o.Z3),(0,l.Z)("switch_account_failure",{destination_user_id:e},t)}},483423:function(e,t,n){n.d(t,{Z:()=>o});var s=n(675410),i=n(281183);let o=(e,t,n)=>{(0,i.r8)({...(0,i.rl)(),[e.id]:(e=>{let t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return(t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||(0,s.Z)("utils.incomplete_user_values"),e.partner?.is_create)?{...t,partner:{is_create:!0}}:t})(e)}),t&&n&&(0,s.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},675410:function(e,t,n){n.d(t,{Z:()=>l});var s=n(172045),i=n(281183),o=n(935833);let a="web_account_switcher",l=(e,t,n)=>{let l=(0,i.yW)();l||(l=(()=>{let e=(0,s.Z)();return(0,o.tj)(`${a}.utils.group_created`,{group_id:e,group_count:(0,i.lv)()}),e})(),(0,i.M3)(l));let r={group_count:(0,i.lv)()},c="";n&&(c="account_switcher_modal"===n?"modal.":"flyout."),(0,o.tj)(`${a}.${c}${e}`,{...t,...r})}},478559:function(e,t,n){n.d(t,{aU:()=>a,hq:()=>o,o_:()=>s});let{Provider:s,get:i}=(0,n(213491).Z)("AuthenticationContext");function o(){return i().loginContext}function a(){return i().logout}},167336:function(e,t,n){n.d(t,{Kw:()=>l,RD:()=>r,dD:()=>u});var s=n(27399),i=n(681698),o=n(281183);let a=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],l=async()=>{let e=await s.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},r=(e,t)=>{let n=Object.freeze({});try{n=(0,o.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let s=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===s.length||n[s[0]].logged_in)return void e(`${t}.removeAccountDataFromLocalStorage.early_return`);let i=s.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,o.r8)(i),e(`${t}.removeAccountDataFromLocalStorage.updated`)},c=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...c(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name??"",isLinkedBusiness:t.partner?.is_linked_business??!1}}))}),u=async e=>{let t=await l(),n=e.id;t[n]||(t[n]={logged_in:!0});let s=Object.keys(t||{}).map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:a.join(",")}})),o=(await (0,i.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(s)}})).resource_response.data;if(o&&Object.keys(o).length>0){var r=Object.keys(o).filter(e=>"success"===o[e].status).map(e=>c(o[e].data));let e=r.every(e=>!!e.fullName)?"fullName":"username";return[...r].sort((t,n)=>t[e]>n[e]?1:n[e]>t[e]?-1:0)}return[]}},169166:function(e,t,n){n.d(t,{Z:()=>s});let s=(0,n(667294).createContext)(null)},506807:function(e,t,n){n.d(t,{Z:()=>s});let s=(0,n(667294).createContext)(null)},792559:function(e,t,n){n.d(t,{Z:()=>s});let s=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},544957:function(e,t,n){n.d(t,{Z:()=>c});var s=n(686659),i=n(667294),o=n(740097),a=n(24246),l=n(216975),r=n(785893);function c({itemLabel:e="",count:t,iconSlot:n}){(0,i.useEffect)(()=>{(0,s.Z)("BadgedIcon","/app/packages/ui/experimental/BadgedIcon.tsx")},[]);let c=t<100?`${t}`:"99+",u=(0,a.Z)(),d=u.bt("notificações", "notifications", "notifications.BadgedIcon.defaultItemLabel", undefined, true),_=(0,l.Wc)(u.bt("Tens novidades em {{contentType}}", "You have new {{contentType}}", "notifications.BadgedIcon.accessibilityIndicatorLabel", undefined, true),{contentType:e||d});return(0,r.jsxs)(o.xu,{position:"relative",children:[n,t>0&&(0,r.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{right:-6-2*c.length,top:-8,padding:`0 ${3===c.length?"2px":"3px"} 0 2px`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,r.jsx)(o.z$,{accessibilityLabel:_,count:t})})]})}},656858:function(e,t,n){n.d(t,{Z:()=>l});var s=n(686659),i=n(667294),o=n(740097),a=n(785893);let l=({height:e,width:t})=>((0,i.useEffect)(()=>{(0,s.Z)("CircleBadge","/app/packages/ui/experimental/CircleBadge.tsx")},[]),(0,a.jsx)(o.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:e,justifyContent:"center",position:"absolute",rounding:"pill",width:t,children:(0,a.jsx)(o.xe,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:" "})})}))},632264:function(e,t,n){n.d(t,{Z:()=>o});var s=n(893957),i=n(74972);function o({children:e}){let{setAppFocusState:t}=(0,i.G)();return(0,s.Z)(()=>(t(!1),()=>{t(!0)})),e}},647587:function(e,t,n){n.d(t,{Z:()=>i});var s=n(681698);function i(){return async()=>{let e=await (0,s.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),t=e.resource_response?e.resource_response.data:{data:[]};return await Promise.all(t&&t.data||[])}}},8933:function(e,t,n){n.d(t,{q:()=>p,y:()=>h});var s=n(686659),i=n(667294),o=n(501010),a=n(774838),l=n(47755),r=n(918985);function c(e,t){(0,r.T)(t)&&(0,l.Z)({method:"PUT",url:"/ads/v4/preferences/{advertiser_id}",urlParams:{advertiser_id:e},data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var u=n(711089),d=n(785893);let _=(0,i.createContext)({campaignToolPreference:null,updateCampaignToolPreference:c}),p=({children:e})=>{(0,i.useEffect)(()=>{(0,s.Z)("CampaignToolPreferenceContext","/app/sterling/CreateFlow/CampaignToolPreferenceContext.tsx")},[]);let[t,n]=(0,i.useState)(null),l=(0,o.Z)(),{advertiser:r}=(0,a.B)(),p=async(e,t)=>{c(e,t),n(t)};(0,i.useEffect)(()=>{(async()=>{r&&n(await (0,u.f)(r.id))})()},[r,l]);let h=(0,i.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:p}),[t]);return(0,d.jsx)(_,{value:h,children:e})},h=()=>(0,i.use)(_)},711089:function(e,t,n){n.d(t,{Z:()=>u,f:()=>c});var s=n(667294),i=n(47755),o=n(501010),a=n(774838),l=n(918985);let r="ADVERTISER",c=async e=>{let t;try{let n;t=(n=(await (0,i.Z)({method:"GET",url:"/ads/v4/preferences/{advertiser_id}",urlParams:{advertiser_id:e},data:{level:r,key:"CAMPAIGN_TOOL_PREFERENCE"}})).resource_response.data)&&n[r]&&n[r][0]&&n[r][0].preferences}catch{return null}return t&&(0,l.T)(t)?t:null},u=()=>{let[e,t]=(0,s.useState)(null),n=(0,o.Z)(),{advertiser:i}=(0,a.B)();return(0,s.useEffect)(()=>{(async()=>{i&&t(await c(i.id))})()},[i,n]),e}},695371:function(e,t,n){n.d(t,{Z:()=>_});var s=n(686659),i=n(667294),o=n(740097),a=n(232178),l=n(24246),r=n(70906),c=n(9065),u=n(785893);let d=(0,c.Z)(()=>Promise.all([n.e("25418"),n.e("91062"),n.e("76767")]).then(n.bind(n,249276)),void 0,e=>249276,"FullPageSignup",e=>["25418","91062","76767"]);function _(e){(0,i.useEffect)(()=>{(0,s.Z)("AccountSwitcherLoginModal","/app/www/AccountSwitcherLoginModal/AccountSwitcherLoginModal.tsx")},[]);let t=(0,l.Z)();return(0,u.jsx)(r.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,u.jsx)(o.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,u.jsx)(d,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t.bt("Adicionar conta", "Add account", "Short text on the button that allows a user to log in to another Pinterest account", undefined, true),fallback:(0,u.jsx)(a.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})})}},179:function(e,t,n){n.d(t,{T:()=>c,X:()=>r});var s=n(667294),i=n(213491),o=n(695371),a=n(785893);let{Provider:l,get:r}=(0,i.Z)("AccountSwitcherLoginModal");function c({children:e}){let[t,n]=(0,s.useState)(!1),[i,r]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),d=(0,s.useCallback)((e,t)=>{u(e),t&&r(t),n(!0)},[]),_=(0,s.useMemo)(()=>({showAccountSwitcherLoginModal:d}),[d]);return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(l,{value:_,children:e}),t&&(0,a.jsx)(o.Z,{container:c,email:i??"",onClose:()=>n(!1)})]})}},70906:function(e,t,n){n.d(t,{Z:()=>g});var s=n(686659),i=n(667294),o=n(740097),a=n(24246),l=n(59111),r=n(774838),c=n(736328),u=n(785893);let d=`
.AccountSwitcherModal {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}
`,_={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},p={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},h={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},m={overflow:"hidden",position:"fixed",top:"24px"};function g(e){(0,i.useEffect)(()=>{(0,s.Z)("Modal","/app/www/AccountSwitcherLoginModal/Modal.tsx")},[]);let t=(0,a.Z)(),n=(0,c.Z)(),{isRTL:g}=(0,r.B)(),{renderContent:f}=e;return(0,u.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:_},children:[(0,u.jsx)(l.Z,{unsafeCSS:d}),(0,u.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n({action:"click",item:"wash-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()},role:"dialog",style:p,children:(0,u.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:h,children:[f(),(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{...m,[g?"left":"right"]:"24px"}},children:(0,u.jsx)(o.hU,{accessibilityLabel:t.bt("fechar", "close", "accessible label for close button", undefined, true),bgColor:"transparent",icon:"cancel",iconColor:"white",onClick:()=>{n({action:"dismiss",item:"close-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()}})})]})})]})}},420711:function(e,t,n){n.d(t,{N:()=>l,t:()=>r});var s=n(667294),i=n(213491),o=n(785893);let{Provider:a,get:l}=(0,i.Z)("LinkedAccount");function r({children:e}){let[t,n]=(0,s.useState)([]),i=(0,s.useMemo)(()=>({userAccounts:t,userAccountsRetrieved:n}),[n,t]);return(0,o.jsx)(a,{value:i,children:e})}},484125:function(e,t,n){n.d(t,{Z:()=>s});let s=(0,n(667294).createContext)(()=>null)},271875:function(e,t,n){n.d(t,{Z:()=>o,k:()=>s});let{Provider:s,get:i}=(0,n(213491).Z)("Conversations"),o=i},1690:function(e,t,n){n.d(t,{Z:()=>i});var s=n(271875);function i(){let{conversations:{data:e}}=(0,s.Z)();return Array.from(Object.keys(e).map(t=>e[t]).filter(e=>e&&e.users)).sort((e,t)=>new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime())}},402191:function(e,t,n){n.d(t,{O:()=>d,Z:()=>_});var s=n(686659),i=n(667294),o=n(740097),a=n(104999),l=n(24246),r=n(80769),c=n(247387),u=n(785893);let d=({onClick:e,text:t,url:n})=>((0,i.useEffect)(()=>{(0,s.Z)("AdditionalLinks","/app/www/Footer/AdditionalLinks.tsx")},[]),(0,u.jsx)(o.xu,{role:"listitem",children:(0,u.jsx)(o.xv,{color:"subtle",size:"200",weight:"bold",children:(0,u.jsx)(o.rU,{href:n,onClick:e,target:"blank",children:(0,u.jsx)(o.xu,{padding:1,children:t})})})}));function _(){(0,i.useEffect)(()=>{(0,s.Z)("AdditionalLinks","/app/www/Footer/AdditionalLinks.tsx")},[]);let e=(0,l.Z)(),t=(0,a.Z)(),n=e=>()=>t({event_type:101,component:218,element:e}),_=(0,r.j3)(),p=(0,r.ak)();return(0,u.jsxs)(o.xu,{direction:"column",display:"flex",paddingX:3,paddingY:2,role:"list",width:"100%",wrap:!0,children:[(0,u.jsx)(d,{onClick:n(8006),text:e.bt("Acerca", "About", "menu item that takes user to the Pinterest about page", undefined, true),url:c.wUZ}),(0,u.jsx)(d,{onClick:n(8007),text:e.bt("Imprensa", "Blog", "menu item that takes user to the Pinterest blog", undefined, true),url:"https://www.pinterest.com/_/_/blog/"}),(0,u.jsx)(d,{onClick:n(8008),text:e.bt("Empresas", "Businesses", "menu item that takes user to the Pinterest for business page", undefined, true),url:c.NWh}),(0,u.jsx)(d,{onClick:n(8009),text:e.bt("Carreiras", "Careers", "menu item that takes user to the Pinterest careers page", undefined, true),url:c.t_w}),(0,u.jsx)(d,{onClick:n(8010),text:e.bt("Programadores", "Developers", "menu item that takes user to the Pinterest developers page", undefined, true),url:c.iYv}),(0,u.jsx)(d,{onClick:n(8011),text:e.bt("Removidos", "Removals", "menu item that takes user to the Pinterest copyright page", undefined, true),url:c.hwP}),(0,u.jsx)(d,{onClick:n(8004),text:e.bt("Política de Privacidade", "Privacy Policy", "additionalLinks.privacyPolicy", undefined, true),url:c.R_9}),(0,u.jsx)(d,{onClick:n(10406),text:e.bt("Anúncios personalizados", "Personalized Ads", "menu item that takes user to the Pinterest personalized ads page", undefined, true),url:"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest"}),(0,u.jsx)(d,{onClick:n(13335),text:e.bt("Os teus direitos de privacidade", "Your Privacy Rights", "additionalLinks.yourPrivacyRights", undefined, true),url:"https://www.pinterest.com/settings/privacy/"}),(0,u.jsx)(d,{onClick:n(8012),text:e.bt("Termos", "Terms", "menu item that takes user to the Pinterest terms page", undefined, true),url:c.U5h}),_&&(0,u.jsx)(d,{onClick:n(8013),text:p,url:c.$BF})]})}},525030:function(e,t,n){n.d(t,{Z:()=>d});var s=n(686659),i=n(667294),o=n(740097),a=n(230201),l=n(753806),r=n(440077),c=n(785893);let u=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,c.jsx)(l._7,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,d=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:l,selected:d,text:_,type:p="link",url:h,contextData:m,onClick:g})=>{(0,i.useEffect)(()=>{(0,s.Z)("HeaderSection","/app/www/Header/HeaderSection.tsx")},[]);let{logContextEvent:f}=(0,a.u)(),[b,y]=(0,i.useState)(r.Wyp),x=(0,i.useRef)(null),v=()=>{y(r.KtD)},w=()=>{y(r.Wyp)},P=()=>{y(r.Wyp)},A=()=>{y(r.KtD)},C=e=>{if(m){let{event:e,component:t,element:n}=m;f({event_type:e,component:t,element:n})}g&&g(e)},k=(0,c.jsx)(o.Tg,{accessibilityLabel:e,href:h||"",onBlur:P,onFocus:A,onMouseEnter:v,onMouseLeave:w,onTap:({event:e})=>C(e),rounding:4,children:(0,c.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:b}},display:"flex",height:48,justifyContent:"center",rounding:4,width:48,children:n})});if(l||"link"!==p||!h||t){if("link"===p&&(t&&n||l)){let s,i,a="pill";a=n||l?_&&!t?"pill":"circle":"pill",n&&(s=n),l&&(i=l);let r=_ instanceof Object?_:(0,c.jsx)(o.xv,{color:d?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:_});k=(0,c.jsx)(o.Tg,{accessibilityLabel:e,href:h||"",onBlur:P,onFocus:A,onMouseEnter:v,onMouseLeave:w,onTap:({event:e})=>C(e),rounding:a,children:(0,c.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[s,!!_&&!t&&(0,c.jsx)(o.xu,{paddingX:2,children:r}),i]})})}}else k=(0,c.jsx)(u,{anchorElementRef:x,experienceAnchor:"/"===h?".HomeButton2":"",children:(0,c.jsx)(o.Tg,{ref:x,accessibilityLabel:e,href:h,onBlur:P,onFocus:A,onMouseEnter:v,onMouseLeave:w,onTap:({event:e})=>C(e),rounding:"pill",children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:b}},paddingX:4,paddingY:4,rounding:"pill",children:(0,c.jsx)(o.xv,{color:d?"default":"subtle",overflow:"normal",weight:"bold",children:_})})})});return(0,c.jsx)(o.xu,{position:"relative",children:k})}},534222:function(e,t,n){n.d(t,{F:()=>s,I:()=>i});let{Provider:s,get:i}=(0,n(213491).Z)("SiteParametersContextType")},577564:function(e,t,n){n.d(t,{Jo:()=>u,mv:()=>_,nJ:()=>d});var s=n(667294),i=n(213491);let o={hiddenNews:{}};function a(e,t){if(e=e||o,"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"!==t.type)return e;{let{payload:{id:n,isHidden:s}}=t;return{hiddenNews:{...e?.hiddenNews,[n]:s}}}}var l=n(785893);let{Provider:r,get:c}=(0,i.Z)("HiddenNews");function u({children:e}){let[t,n]=(0,s.useReducer)(a,o),i=(0,s.useMemo)(()=>({dispatch:n,hiddenNews:t}),[n,t]);return(0,l.jsx)(r,{value:i,children:e})}function d(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,s.useMemo)(()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter(e=>e&&e.id&&!(e.id in t&&t[e.id])).length}),[e,t])}function _(){let{hiddenNews:e}=c();return e}},430583:function(e,t,n){n.d(t,{Z:()=>a,b:()=>o});var s=n(173874);let i=[s.isBusinessAccountConvertPage,s.isBusinessInvitePage,s.isCreatePinPage,s.isLoginPage,s.isOAuthPage,s.isAppFactoryOAuthPage,s.isAgeAppealPage,s.isPinToBoardPage,s.isStoryboardPage,s.isCommerceIntegrationsConnectPage];function o(e,t){return(t?i:[...i,s.isCollageCreationPage]).every(t=>!t(e))}function a(e){return i.every(t=>!t(e))}},841353:function(e,t,n){n.d(t,{P:()=>p,j:()=>h});var s=n(667294),i=n(213491),o=n(470205),a=n(465784),l=n(935059),r=n(24246),c=n(9065),u=n(785893);let d=(0,c.Z)(()=>n.e("53732").then(n.bind(n,402113)),void 0,e=>402113,"app-www-ReportBug-ReportBug",e=>["53732"]),{Provider:_,get:p}=(0,i.Z)("reportBugModalContext");function h({children:e}){let t=(0,r.Z)(),[n,i]=(0,s.useState)(!1),c=(0,l.Z)(),p=(0,s.useCallback)(()=>{i(!0)},[]),h=(0,s.useMemo)(()=>({handleShowReportBugModal:p}),[p]);return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(_,{value:h,children:e}),n&&c.isAuth&&(0,u.jsx)(a.ZP,{accessibilityModalLabel:t.bt("Reportar erro", "Report bug", "header.accountsOptionsMenu.logout", undefined, true),onDismiss:()=>{i(!1)},children:(0,u.jsx)(o.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,u.jsx)(d,{onDismiss:()=>{i(!1)},username:c.username})})})]})}},217616:function(e,t,n){n.d(t,{Z:()=>l});var s=n(312048),i=n(935059),o=n(173874),a=n(430583);function l(){let e=(0,i.Z)(),t=(0,s.TH)();return{enabled:(0,a.Z)(t)&&e.isAuth&&!e.isPartner&&!(0,o.isEmailUnsubscribePage)(t)}}},336486:function(e,t,n){n.d(t,{Z:()=>o});var s=n(501010),i=n(217616);function o(){let{enabled:e}=(0,i.Z)();if(!e)return!1;let{checkExperiment:t}=(0,s.Z)();return t("web_nav_sidebar").anyEnabled}},593302:function(e,t,n){n.d(t,{QV:()=>b,Qj:()=>w,Td:()=>v});var s=n(686659),i=n(667294),o=n(740097),a=n(104999),l=n(180999),r=n(839603),c=n(24246),u=n(216975),d=n(656858),_=n(500602);let p={home:{default:"home",selected:"home-fill"},create:{default:"square-plus",selected:"square-plus-fill"},today:{default:"compass",selected:"compass-fill"},notifications:{default:"bell",selected:"bell-fill"},messages:{default:"speech-ellipsis",selected:"speech-ellipsis-fill"},moreOptions:{default:"cog",selected:"cog-fill"},shopping:{default:"shopping-bag",selected:"shopping-bag-fill"},categories:{default:"view-type-default",selected:"view-type-default-fill"},board:{default:"board",selected:void 0}};var h=n(405933),m=n(362777),g=n(785893);function f(e){(0,i.useEffect)(()=>{(0,s.Z)("EntrypointLink","/pws/entrypoint-router/navigation-buttons/EntrypointLink.tsx")},[]);let{preload:t}=(0,h.G)(),{onClick:n,_onMouseEnter:a,preloadExtent:l="Both",route:r,...c}=e;return(0,g.jsx)(o.rU,{_onMouseEnter:e=>{try{a?.(e)}catch{}"None"!==l&&t(r,l)},href:(0,m.w)(r),onClick:e=>{try{n?.(e)}catch{}t(r,"Both")},...c})}let b=({iconName:e,selected:t})=>((0,i.useEffect)(()=>{(0,s.Z)("VerticalNavIconButton","/app/www/VerticalNav/shared/VerticalNavIconButton.tsx")},[]),(0,g.jsx)(o.JO,{accessibilityLabel:"",color:"default",icon:t?p[e].selected:p[e].default,size:_.nQ})),y=()=>(0,g.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:10,right:10}},"data-test-id":"vertical-nav-icon-badge",display:"flex",justifyContent:"center",position:"absolute",children:(0,g.jsx)(d.Z,{height:_.Lu,width:_.Lu})}),x=({count:e})=>{if(!e||e<=0)return null;let t=e<100?`${e}`:"99+";return(0,g.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:6,left:`calc(50% + ${4-t.length}px)`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,g.jsx)(o.z$,{accessibilityLabel:"",count:e})})},v=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityPopupRole:t,accessibilityControls:n,badgeCount:s,tooltipText:i,href:a,iconName:r,selected:d,onClick:h,onMouseDown:m,onMouseEnter:f,dataTestId:b,inBadgeExperiment:v},w)=>{let P=(0,c.Z)(),A=i||e,C=!!t,k="number"!=typeof s||0===s?e:(0,u.Wc)(P.nbt(["{{buttonLabel}}: Tens {{notificationCount}} nova notificação", "{{buttonLabel}}: Tens {{notificationCount}} novas notificações"], s, "VerticalNavIconButton.Button.accessibilityLabel", true),{buttonLabel:e,notificationCount:s.toString()}),Z=d?p[r].selected:p[r].default,S="board"===r&&d,j={text:A,idealDirection:_.Mh,zIndex:_.BO},z=_.yg,I=a?(0,g.jsx)(o.I_,{accessibilityLabel:k,dangerouslySetSvgPath:S?{__path:l.Z}:void 0,dataTestId:b,href:a,icon:S?void 0:Z,onClick:h,size:z,tooltip:j}):(0,g.jsx)(o.hU,{accessibilityControls:n,accessibilityExpanded:C?d:void 0,accessibilityHaspopup:C,accessibilityLabel:k,accessibilityPopupRole:t,dataTestId:b,icon:Z,onClick:h,size:z,tooltip:j});return(0,g.jsxs)(o.xu,{ref:w,"data-test-id":"vertical-nav-icon",onMouseDown:m,onMouseEnter:f,position:"relative",children:[I,(0,g.jsx)(o.xu,{"aria-hidden":"true",children:v&&s?(0,g.jsx)(y,{}):(0,g.jsx)(x,{count:s})})]})}),w=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityControls:t,iconName:n,selected:s,onClick:l,onMouseDown:u,onMouseEnter:d,route:p,preloadExtent:h,dataTestId:m,variant:y="short"},x)=>{let v=(0,a.Z)(),w=(0,c.Z)(),[P,A]=(0,i.useState)("transparent"),[C,k]=(0,i.useState)(!1),Z=()=>{d?.(),A(r.ZG),k(!0)},S=(0,i.useRef)(null),j=(0,_.vg)(w,y);return(0,g.jsx)(o.xu,{onMouseEnter:Z,onMouseLeave:()=>{A("transparent"),k(!1)},overflow:"hidden",paddingX:4,position:"relative",children:(0,g.jsx)(o.iP,{ref:x,accessibilityControls:t,accessibilityExpanded:C,accessibilityHaspopup:!0,accessibilityLabel:e,dataTestId:m,onTap:Z,rounding:_.dv,tapStyle:_.xp,children:(0,g.jsxs)(o.xu,{ref:S,alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:P}},display:"flex",height:48,id:t,justifyContent:"center",onMouseDown:u,rounding:_.dv,width:48,children:[C&&(0,g.jsx)(o.Lt,{anchor:S.current,disableMobileUI:!0,id:"ideas-dropdown",idealDirection:"right",isWithinFixedContainer:!1,onDismiss:()=>k(!1),zIndex:_.m6,children:j.map(e=>(0,g.jsx)(o.Lt.Link,{href:`/ideas/${e.slug}/${e.value}/`,onClick:()=>{v({object_id_str:e.value,component:8,event_type:101,element:216,aux_data:{interest_id:e.value,interest:e.label}})},option:e},`cat-${e.value}`))}),(0,g.jsx)(f,{onClick:l,preloadExtent:h,route:p,children:(0,g.jsx)(b,{iconName:n,selected:s})})]})})})})},973625:function(e,t,n){n.d(t,{Z:()=>o});var s=n(217616),i=n(889162);function o(){let{enabled:e}=(0,s.Z)(),{enabled:t}=(0,i.Z)();return{enabled:e||t}}},889162:function(e,t,n){n.d(t,{Z:()=>c});var s=n(312048),i=n(935059),o=n(173874),a=n(774838),l=n(698330),r=n(739405);let c=function(){let e=(0,i.Z)(),{isRTL:t}=(0,a.B)(),n=(0,s.TH)(),c=(0,r.ZP)();return{enabled:(0,l.Z)()&&"desktop"===c&&!(0,o.isSsoSignupPage)(n)&&!(0,o.isLoginPage)(n)&&!(0,o.isHomePage)(n)&&!(0,o.isBusinessPage)(n)&&!(0,o.isInvitedPage)(n)&&!t&&!e.isAuth}}},793160:function(e,t,n){n.d(t,{Z:()=>s});let s=(0,n(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},32602:function(e,t,n){n.d(t,{Z:()=>o});var s=n(667294),i=n(793160);function o(){let e=(0,s.use)(i.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},113116:function(e,t,n){n.d(t,{Z:()=>S});var s=n(686659),i=n(667294),o=n(312048),a=n(740097),l=n(470205),r=n(24246),c=n(173874),u=n(501010),d=n(825605),_=n(575820),p=n(271875),h=n(92700),m=n(107416),g=n(802559),f=n(996590),b=n(510755),y=n(577564),x=n(217616),v=n(336486),w=n(832698),P=n(785893);let A=()=>Promise.all([n.e("37409"),n.e("62742")]).then(n.bind(n,263579)),C=(0,i.lazy)(A);function k({onClearBadges:e,onClick:t,onPanelChange:n,tooltipText:k}){(0,i.useEffect)(()=>{(0,s.Z)("AuthNewsButton","/app/www/growth/news/NewsConversationsButton/AuthNewsButton.tsx")},[]);let Z=(0,r.Z)(),S=(0,o.TH)(),j=(0,i.useRef)(null),[z,I]=(0,i.useState)(!1),[L,E]=(0,i.useState)(!1),[T,B]=(0,i.useState)(!1),[M,R]=(0,i.useState)(!1),{tab:N,news_hub_id:O}=(0,_.mB)(S.search),{conversations:{conversationsUnseenCount:D,newsHubCount:U}}=(0,p.Z)(),{enabled:H}=(0,x.Z)(),{isPanelOpen:F,togglePanelState:$}=(0,w.Z)(),V=(0,v.Z)(),W=(0,u.Z)().checkExperiment("web_news_hub_badge_count_removal").anyEnabled,G=e=>{if((0,c.isCloseupPage)(S))return;let t=Math.max(e,0),n=Z.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=t?`(${t}) ${n}`:n};(0,i.useEffect)(()=>{G(D+U),S.pathname.startsWith("/notifications")&&"inbox"!==N&&!V?I(!0):S.pathname.startsWith("/notifications")&&"inbox"===N&&V&&n?.(!0)},[D,U,V]);let q=()=>{t?.(),V?$("news"):I(!z),e(h.S.NEWS_HUB),G(0)};(0,i.useEffect)(()=>{let e=setTimeout(()=>{E(z),B(z),n?.(z)},100);return()=>clearTimeout(e)},[z]),(0,i.useEffect)(()=>{z&&n?.(z)},[z]);let Y=Z.bt("Atualizações", "Updates", "updates.button", undefined, true),X=Z.bt("Notificações", "Notifications", "notifications.button", undefined, true),J=k||Z.bt("Notificações", "Notifications", "navbar.newsButton.tooltip", undefined, true);return(0,P.jsxs)(i.Fragment,{children:[(0,P.jsx)(a.xu,{ref:j,"data-test-id":"bell-icon",onMouseEnter:A,position:"relative",children:H?(0,P.jsx)(g.Z,{accessibilityControls:f.o9,accessibilityLabel:Y,badgeCount:U,inBadgeExperiment:W,onClick:q,selected:F("news"),tooltipText:J,verticalNavIconName:"notifications"}):(0,P.jsx)(a.u,{accessibilityLabel:"",text:J,zIndex:new a.H3([new a.Ry(b.fe)]),children:(0,P.jsx)(m.Z,{accessibilityLabel:X,badgeCount:U,icon:"bell",onClick:q,selected:z})})}),(0,P.jsx)(y.Jo,{children:(0,P.jsx)("div",{className:"newsHubSidebarWrapper",style:z?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:L&&!V&&(0,P.jsx)(l.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,P.jsx)(d.Z,{children:(0,P.jsx)(C,{handleDismissPanel:()=>{I(!1),R(!1)},highlightScrollSidebar:M,newsButton:j.current,show:T,utmNewsHubId:O||null})})})})})]})}var Z=n(721030);function S({onClick:e,onPanelChange:t,tooltipText:n}){return(0,i.useEffect)(()=>{(0,s.Z)("NewsButton","/app/www/growth/news/NewsConversationsButton/NewsButton.tsx")},[]),(0,P.jsx)(Z.Z,{icon:"bell",children:({onClearBadges:s})=>(0,P.jsx)(k,{onClearBadges:s,onClick:e,onPanelChange:t,tooltipText:n})})}},107416:function(e,t,n){n.d(t,{Z:()=>c});var s=n(686659),i=n(667294),o=n(740097),a=n(544957),l=n(525030),r=n(785893);function c({accessibilityLabel:e,badgeCount:t=0,icon:n="speech-ellipsis",onClick:c,selected:u=!1}){return(0,i.useEffect)(()=>{(0,s.Z)("NotificationsButton","/app/www/growth/news/NewsConversationsButton/NotificationsButton.tsx")},[]),(0,r.jsx)(l.Z,{accessibilityLabel:e,contextData:{event:101,component:8,element:1187},icon:(0,r.jsx)(a.Z,{count:t,iconSlot:(0,r.jsx)(o.JO,{accessibilityLabel:"",color:u?"default":"subtle",icon:n,size:24}),itemLabel:e}),onClick:c,text:e,type:"button"},"NotificationsButton")}},802559:function(e,t,n){n.d(t,{Z:()=>r});var s=n(686659),i=n(667294),o=n(104999),a=n(593302),l=n(785893);function r({dataTestId:e,accessibilityLabel:t,accessibilityControls:n,tooltipText:r,badgeCount:c,onClick:u,selected:d,verticalNavIconName:_,inBadgeExperiment:p}){(0,i.useEffect)(()=>{(0,s.Z)("VerticalNavNotificationsButton","/app/www/growth/news/NewsConversationsButton/VerticalNavNotificationsButton.tsx")},[]);let h=(0,o.Z)();return(0,l.jsx)(a.Td,{accessibilityControls:n,accessibilityLabel:t,accessibilityPopupRole:"dialog",badgeCount:c,dataTestId:e,iconName:_,inBadgeExperiment:p,onClick:({event:e})=>{h({event_type:101,component:8,element:1187}),u&&u(e)},selected:d,tooltipText:r})}},996590:function(e,t,n){n.d(t,{AI:()=>D,AM:()=>w,AY:()=>K,Ay:()=>l,C:()=>et,Cc:()=>u,DX:()=>L,GO:()=>N,HJ:()=>r,I2:()=>F,IO:()=>ea,IV:()=>i,J0:()=>b,LL:()=>ee,Ng:()=>s,P:()=>k,P3:()=>f,QE:()=>ei,QX:()=>en,Rd:()=>C,So:()=>x,V$:()=>p,Vp:()=>G,WC:()=>j,Z1:()=>d,ZH:()=>B,aE:()=>g,c4:()=>Z,cU:()=>S,ci:()=>z,d1:()=>h,di:()=>H,gb:()=>Q,gs:()=>R,hD:()=>V,hf:()=>U,hp:()=>O,hy:()=>a,ie:()=>y,kJ:()=>J,kc:()=>A,mD:()=>W,mM:()=>I,o9:()=>o,pv:()=>_,qZ:()=>P,qb:()=>v,uW:()=>M,uZ:()=>c,uy:()=>q,vG:()=>Y,wA:()=>m,wl:()=>$,yS:()=>es,yc:()=>T,yf:()=>el,ys:()=>X,zM:()=>E});let s={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",JOURNEY:"journey",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},i=3,o="news-feed-sidebar",a=360,l=15,r=375,c=64,u=36,d=78,_=44,p=344,h=376,m=164,g=328,f=164,b=108.7,y=3,x=82,v=82,w=164,P=164,A=4,C=164,k=164,Z=2,S=82,j=164,z=2,I=2,L=4,E=328,T="290x",B="170x",M={backgroundColor:"rgba(0, 0, 0, 0.4)"},R=4,N="1px",O=48,D=32,U=36,H="136x136",F=2,$=24,V=20,W=72,G=48,q=54,Y=54,X=4,J=118,K=236,Q={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18,HIGHLIGHT_NOTIFICATION:23},ee="recommendation",et="dropdown_item_settings_id",en=10,es=20,ei=5e3,eo="#E9E4FF",ea={backgroundColor:eo,borderColor:eo,paddingLeft:"16px",paddingTop:"16px",paddingBottom:"16px",paddingRight:"12px"},el={...ea,paddingRight:"10px"}},92700:function(e,t,n){n.d(t,{S:()=>s});let s={NEWS_HUB:1,INBOX:2}},66110:function(e,t,n){n.d(t,{Z:()=>o});var s=n(935059),i=n(501010);function o(){let{checkExperiment:e}=(0,i.Z)(),t=(0,s.Z)();return t.isAuth&&t.isPartner&&e("aid_exp_ia_update_engagement").anyEnabled}},959646:function(e,t,n){n.d(t,{Z:()=>R});var s=n(686659),i=n(667294),o=n(312048),a=n(740097),l=n(27399),r=n(4533),c=n(943152),u=n(935059),d=n(24246),_=n(173874),p=n(501010),h=n(34550),m=n(893957),g=n(271875),f=n(1690),b=n(92700),y=n(492601),x=n(32602),v=n(107416),w=n(802559),P=n(510755),A=n(230201),C=n(319226),k=n(774838),Z=n(810717),S=n(217616),j=n(785893);function z({conversation:e,anchor:t}){(0,i.useEffect)(()=>{(0,s.Z)("MessageNotification","/app/www/messages/MessageNotification.tsx")},[]);let[n,o]=(0,i.useState)(!1),{dropdownOpen:l,conversationOpen:c}=(0,g.Z)(),u=(0,d.Z)(),{isRTL:_}=(0,k.B)(),{logContextEvent:p}=(0,A.u)(),{enabled:f}=(0,S.Z)();if((0,m.Z)(()=>{let t=e.last_message,n=h.ZP.getItem(r.Td);t&&t.id!==n&&setTimeout(()=>{o(!0),p({event_type:13,component:14993}),h.ZP.setItem(r.Td,t.id),h.ZP.setItem(r.eQ,Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||o(!1)}),setTimeout(()=>{o(!1)},5e3)},Z.XZ)}),!e.last_message||!n)return null;let{sender:b}=e.last_message,y=b.first_name||b.username||"",x=e.last_message.pin?u.bt("enviou-te um Pin", "sent you a Pin", "navbar.messageNotifications.text", undefined, true):u.bt("enviou-te uma mensagem", "sent you a message", "navbar.messageNotifications.text", undefined, true),v=(0,j.jsxs)(a.xv,{color:"light",inline:!0,children:[(0,j.jsxs)(a.xv,{color:"light",inline:!0,weight:"bold",children:[y," "]}),x]}),w=(0,j.jsxs)(a.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,children:[(0,j.jsx)(a.xu,{marginEnd:3,children:(0,j.jsx)(C.qE,{name:y,size:"sm",src:b.image_large_url??void 0})}),v]}),z="down";return f&&(z=_?"left":"right"),(0,j.jsx)(a.mh,{zIndex:new a.H3([new a.Ry(P.fe)]),children:(0,j.jsx)(a.iP,{onTap:()=>{l(),c(e.id),o(!1),p({event_type:101,component:14993})},children:(0,j.jsx)(a.xu,{id:"message-notif-toast",children:(0,j.jsx)(a.pl,{anchor:t,idealDirection:z,onDismiss:()=>{},role:"dialog",size:"flexible",type:"notification",children:w})})})})}var I=n(336486),L=n(832698);function E(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.Component{constructor(...e){super(...e),E(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),E(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(b.S.INBOX),this.updateBrowserTabTitleCount(0)}),E(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:n,closeConversationsDropdown:s,openConversationsDropdown:i,onClick:o}=this.props;if(o?.(),t){e&&e.stopPropagation(),t();return}n?s():i(),this.clearBadges()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,_.isCloseupPage)(this.props.location))return;let{i18n:t}=this.props,n=Math.max(e,0),s=t.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=n?`(${n}) ${s}`:s}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:n,conversationWithUnreadMessage:s,isVerticalNavEnabled:i}=this.props,o=t.bt("Mensagens", "Messages", "messages.button", undefined, true),l=t.bt("Mensagens", "Messages", "navbar.conversationsButton.tooltip", undefined, true),r="notifications-button";return(0,j.jsxs)(a.xu,{ref:this.setButtonRef,position:"relative",children:[i?(0,j.jsx)(w.Z,{accessibilityControls:y.rC,accessibilityLabel:o,badgeCount:e,dataTestId:r,onClick:this.handleButtonClick,selected:n,tooltipText:l,verticalNavIconName:"messages"}):(0,j.jsx)(a.u,{accessibilityLabel:"",text:l,zIndex:new a.H3([new a.Ry(P.fe)]),children:(0,j.jsx)(a.xu,{"data-test-id":r,children:(0,j.jsx)(v.Z,{accessibilityLabel:o,badgeCount:e,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:n})})}),s&&(0,j.jsx)(z,{anchor:this.anchor,conversation:s})]})}}function B(e){(0,i.useEffect)(()=>{(0,s.Z)("AuthConversationsButton","/app/www/messages/AuthConversationsButton.tsx")},[]);let t=(0,d.Z)(),n=(0,c.Z)(),a=(0,o.TH)(),{isAuth:b,isLimitedLogin:y}=(0,u.Z)(),{enabled:v}=(0,S.Z)(),{isPanelOpen:w}=(0,L.Z)();(0,m.Z)(()=>{b&&!y&&l.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:P,newsHubCount:A,showConversationsDropdown:C},dropdownClose:k,dropdownOpen:z}=(0,g.Z)(),{checkExperiment:E}=(0,p.Z)(),{setInboxButton:B}=(0,x.Z)(),M=(0,f.Z)().find(e=>e.unread>0),R=(0,_.isHomePage)(a),N=h.ZP.getItem(r.eQ),O=N&&Date.now()-Number(N)<Z.VC,D=R&&!C&&!O&&M&&E("sg_dweb_app_start_msg_notif").anyEnabled,U=(0,i.useRef)(!0),{togglePanelState:H}=(0,L.Z)(),F=(0,I.Z)();return(0,i.useEffect)(()=>{U.current||e.onPanelChange?.(C),U.current=!1},[C]),(0,j.jsx)(T,{...e,closeConversationsDropdown:F?()=>H("conversations"):k,conversationsUnseenCount:P,conversationWithUnreadMessage:D?M:null,i18n:t,isVerticalNavEnabled:v,location:a,newsHubCount:A,openConversationsDropdown:F?()=>H("conversations"):z,requireAuth:n,setInboxButton:B,showPanel:F?w("conversations"):C})}var M=n(721030);function R({onClick:e,onPanelChange:t}){return(0,i.useEffect)(()=>{(0,s.Z)("ConversationsButton","/app/www/messages/ConversationsButton.tsx")},[]),(0,j.jsx)(M.Z,{icon:"speech-ellipsis",children:({onClearBadges:n})=>(0,j.jsx)(B,{onClearBadges:n,onClick:e,onPanelChange:t})})}},721030:function(e,t,n){n.d(t,{Z:()=>v});var s,i=n(686659),o=n(667294),a=n(740097),l=n(167912),r=n(27399),c=n(986475),u=n(661376),d=n(640200),_=n(271875),p=n(92700),h=n(785893);let m=(0,c.Z)(d.Z);class g extends o.Component{constructor(...e){var t,n,s;super(...e),t="handleClearBadges",n=e=>{e===p.S.NEWS_HUB?(r.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!t&&!!n}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!(e&&e.data))return;let s=m(e.data);n(s.conversationsUnseenCount),t(s.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function f({conversationBadgeCall:e,children:t}){let n=(0,u.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:s,updateUnreadCount:i}=(0,_.Z)();return(0,h.jsx)(g,{badgeResource:n,conversationBadgeCall:e,updateNewsHubCount:s,updateUnreadCount:i,children:t})}function b({children:e}){return(0,o.useEffect)(()=>{(0,i.Z)("BadgeManager","/app/www/messages/BadgeManager.tsx")},[]),(0,h.jsx)(f,{conversationBadgeCall:(()=>{let e=(void 0!==s||(s=n(71697)).hash&&"d6f840c748407c7aa62123d5beac3239"!==s.hash&&console.error("The definition of 'BadgeManagerMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),[t]=(0,l.useMutation)(e);return async()=>await new Promise((e,n)=>{t({variables:{},onCompleted:(t,s)=>{s&&n(s[0]),e(t)},onError:e=>n(e)})})})(),children:e})}var y=n(217616),x=n(593302);function v({icon:e,children:t}){(0,o.useEffect)(()=>{(0,i.Z)("DeferredMessagesButton","/app/www/messages/DeferredMessagesButton.tsx")},[]);let[n,s]=(0,o.useState)(!1),{enabled:l}=(0,y.Z)();return((0,o.useEffect)(()=>{s(!0)},[]),n)?(0,h.jsx)(b,{children:t}):(0,h.jsx)(a.xu,{paddingX:1,children:(0,h.jsx)(a.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:l?(0,h.jsx)(x.QV,{iconName:"speech-ellipsis"===e?"messages":"notifications",selected:!1}):(0,h.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}},810717:function(e,t,n){n.d(t,{VC:()=>x,XZ:()=>y,ZP:()=>v});var s=n(686659),i=n(667294),o=n(312048),a=n(740097),l=n(27399),r=n(4533),c=n(319226),u=n(924591),d=n(935059),_=n(24246),p=n(173874),h=n(34550),m=n(577356),g=n(739405),f=n(893957),b=n(785893);let y=2e3,x=864e5;function v(){(0,i.useEffect)(()=>{(0,s.Z)("NotifcationToastForUnreadMessage","/app/www/notifications/NotifcationToastForUnreadMessage.tsx")},[]);let e=(0,_.Z)(),t=(0,d.Z)(),{isAuth:n,isLimitedLogin:v}=t,w=t.isAuth?t?.avatar_color_index:void 0,{showToast:P}=(0,m.dI)(),A=(0,o.s0)(),C=(0,o.TH)(),k=(0,p.isHomePage)(C),Z=(0,g.HG)();return(0,f.Z)(()=>{let t=async()=>{let t=l.Z.create("ConversationsResource",{field_set_key:"default"}),n=(await t.callGet()).resource_response.data.find(e=>e.unread>0),s=h.ZP.getItem(r.eQ),i=s&&Date.now()-Number(s)<x,o=n&&k&&!i&&n.last_message,d=h.ZP.getItem(r.Td);if(o&&o.id!==d){h.ZP.setItem(r.Td,o.id),h.ZP.setItem(r.eQ,Date.now());let{sender:t}=o,s=t.first_name||t.username||"",i=o.pin?e.bt("enviou-te um Pin", "sent you a Pin", "navbar.messageNotifications.text", undefined, true):e.bt("enviou-te uma mensagem", "sent you a message", "navbar.messageNotifications.text", undefined, true),l=(0,b.jsxs)(a.xv,{inline:!0,children:[(0,b.jsxs)(a.xv,{inline:!0,weight:"bold",children:[s," "]}),i]});setTimeout(()=>{P(({hideToast:i})=>(0,b.jsx)(u.Z,{duration:5e3,onHide:i,primaryAction:{accessibilityLabel:e.bt("Responder à mensagem", "Reply to the message", "NotificationToast.replyButton.accessibilityLabel", undefined, true),label:e.bt("Responder", "Reply", "NotificationToast.replyButton.buttonText", undefined, true),onClick:()=>{A(`/conversation/${n.id}`),i()}},text:l,thumbnail:{avatar:(0,b.jsx)(c.qE,{color:w,name:s,size:"sm",src:t.image_large_url||""})}}))},y)}};!n||v||Z||t()}),null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/53602.pt_PT-1ccd418845aa6e53.mjs.map