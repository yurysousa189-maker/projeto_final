(self.modernJsonp=self.modernJsonp||[]).push([["27463"],{433100:function(e,t,r){r.d(t,{f:()=>b,l:()=>S});var n=r(667294),o=r(178226),i=r(735243),a=r(477738),l=r(148),s=r(252974),d=r(250182),c=r(655068),u=r(531624),p=r(515511),f=r(213491),h=r(360033),m=r(986475),_=r(640200),x=r(785893);let g=(e,t,r)=>{let n=t?.find(({action:e})=>e?.filter?.product_filter_type===r);if(!n)return;let o=(0,m.Z)(_.Z,!0)(n),i=e.findIndex(({action:e})=>e?.filter?.productFilterType===r);e[i]?e[i]=o:e.push(o)},v=(e,t,r,n)=>{let o=n.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(o?.action?.filter){let e=o.action.filter.filterOptions;o.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[r]&&t.split(",").includes(String(e[r]))).map(e=>({...e,selected:!0})):[]}},{Provider:y,get:S}=(0,f.Z)("OneBarProductFilters");function b({children:e}){let[t,r]=(0,n.useState)([]),[f,m]=(0,n.useState)(null),_=function(){let{scope:e}=(0,l.n)();return[a.lw.BOARDS,a.lw.PINS_BUYABLE,a.lw.PINS_VIDEO,a.lw.USERS].includes(e)}(),S=(0,u.Z)(),b=(0,d.Z)(),w=(0,o.Z)(),Z=(0,i.Z)(),O=(0,c.Z)(),E=(0,n.useCallback)(({oneBarModules:e,baseCacheKey:n})=>{let o=e?.filter(({module_type:e})=>17===e||0===e);if(!o||o?.length===0||!n)return;let i=n!==f,a=i?[]:t;(i||!_)&&g(a,o,4),(i||!S)&&g(a,o,1),(i||!b)&&g(a,o,0),(i||!w)&&g(a,o,3),(i||!Z)&&g(a,o,6),(i||!O)&&[7,8,9].forEach(e=>{g(a,o,e)}),(0,h.ZP)(a,t)||(r(a),m(n))},[t,w,Z,_,b,O,S,f]),B=(0,s.Z)(),{priceMax:P,priceMin:j,scope:T,brands:I,onSale:k,colors:C,domains:A}=(0,l.n)();(0,n.useEffect)(()=>{if(!B||0===t.length)return;let e=(0,p.Z)(t);if(T!==a.lw.PINS){let t=(0,a.gi)(T),r=e.find(({moduleType:e})=>0===e);r?.action?.filter&&(r.action.filter.appliedFilterOptions=[...r.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:r}=e;return{searchType:r,selected:r===t}}))}if("string"==typeof P||"string"==typeof j){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(j)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(P)}:null].filter(Boolean))}v(new Set([3]),I,"stringValue",e),v(new Set([6]),C,"stringValue",e),v(new Set([0]),A,"stringValue",e),v(new Set([7,8,9]),k,"numericValue",e),(0,h.ZP)(e,t)||r(e)},[t,B,P,j,T,I,C,A,k]);let H=(0,n.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:E}),[t,E]);return(0,x.jsx)(y,{value:H,children:e})}},704955:function(e,t,r){r.d(t,{Z:()=>a});var n=r(312048),o=r(954928),i=r(629724);function a(){let e=(0,n.TH)(),t=(0,n.s0)();return function(r){let n=(0,i.Z)();n.filter_location=r,t((0,o.Z)(e.pathname,n),{replace:!0})}}},332947:function(e,t,r){r.d(t,{Z:()=>p,q:()=>u});var n=r(312048),o=r(935059),i=r(501010),a=r(405897),l=r(477738),s=r(954928),d=r(629724),c=r(305375);let u=["brands","colors","commerce_only","domains","on_sale","price_max","price_min"];function p(){let e=(0,n.s0)(),t=(0,n.TH)(),{checkExperiment:r}=(0,i.Z)(),{scope:p}=(0,c.Z)(),f=(0,o.Z)(),{isAuth:h}=f,m=h?f.country:"";return function(n){let o=(0,d.Z)();o.rs=a.i.SHOPPING_FILTER,n.forEach(({key:e,value:t})=>{""!==t?o[e]=t:delete o[e]}),("US"===m||r("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&p!==l.lw.PINS&&!u.some(e=>"commerce_only"!==e&&e in o)&&delete o.commerce_only,e((0,s.Z)(t.pathname,o))}}},178226:function(e,t,r){r.d(t,{Z:()=>i});var n=r(312048),o=r(575820);function i(){return!!(0,o.mB)((0,n.TH)().search).brands}},735243:function(e,t,r){r.d(t,{Z:()=>a});var n=r(312048),o=r(501010),i=r(575820);function a(){let{checkExperiment:e}=(0,o.Z)(),t=(0,n.TH)(),{colors:r}=(0,i.mB)(t.search);return!!r&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,r){r.d(t,{Z:()=>o});var n=r(501010);function o(){let{checkExperiment:e}=(0,n.Z)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,r){r.d(t,{Z:()=>i});var n=r(312048),o=r(575820);function i(){return!!(0,o.mB)((0,n.TH)().search).domains}},531624:function(e,t,r){r.d(t,{Z:()=>i});var n=r(312048),o=r(575820);function i(){let e=(0,n.TH)(),{price_max:t,price_min:r}=(0,o.mB)(e.search);return!!(r??t)}},446885:function(e,t,r){r.d(t,{Z:()=>h});var n=r(686659),o=r(667294),i=r(740097),a=r(759271),l=r(351736),s=r(440077),d=r(609252),c=r(178315),u=r(774838),p=r(40763),f=r(785893);function h({children:e,footerConfig:t,headerConfig:r,height:h,hideOnScroll:m,hideOnScrollState:{isHidden:_,updateHiddenState:x},isFooterHidden:g,noPadding:v,paddingX:y,paddingY:S=c.og,type:b,zIndex:w,isStoryPin:Z}){let O,E;(0,o.useEffect)(()=>{(0,n.Z)("FixedContent","/app/packages/layout/FixedContent.tsx")},[]);let{headerLimitedOverflow:B,ignoreObstructions:P,zIndexForGestaltBug:j}=r||{},{appUpsellFooterConfig:T,footerInLego:I,navFooterConfig:k}=t||{},C=!!T,A="header"===b?"top":"bottom",H=(0,l.vs)(),{isRTL:L}=(0,u.B)(),{mWebCloseupRedesignEnabled:F}=(0,a.Z)(),$=(0,o.useRef)(null),M=(0,o.useRef)(null);(0,o.useEffect)(()=>{try{if(!P){let e=$.current;M.current=B&&e&&Array.isArray(e.children)?e.children[0]:e,M.current instanceof HTMLElement&&d.Z.addObstruction(A,M.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!P&&M.current instanceof HTMLElement&&d.Z.removeObstruction(A,M.current)}},[P,B,A,H]);let z="top"===A?"relative":"fixed",R=v?0:S,N=(h??c.R$)+(r?.overrideTop||0),D=m||k?{transition:I||F?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",..._||g?{transform:`translateY(${"top"===A?-N:N}px)`,opacity:I||F?0:1}:Object.freeze({})}:{},U=2*!("relative"!==z||r?.noGutter),q=U?-U:0,W=H?l.k7:"rgba(255,255,255,.95)";H&&("header"===b?O=-1:E=-1);let Y=I?C?void 0:h??c.R$:"100%",V=I?c.KJ:void 0,K=r?.isTranslucent&&W||H?W:s.Wmm,G=r?.isTransparentBackground&&s.Wyp?s.Wyp:K,X=(0,o.useMemo)(()=>({height:"footer"===b&&F?`calc(${Y} + env(safe-area-inset-bottom))`:Y,...F&&"footer"===b?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(R||0)}px)`}:Object.freeze({})}),[F,Y,b,R]),J=(0,p.Z)({skipExpActivation:!0});return(0,f.jsx)(i.xu,{ref:$,bottom:"footer"===b,dangerouslySetInlineStyle:{__style:{top:O,bottomStyle:E,...!w||j?{zIndex:j||1}:Object.freeze({}),...B?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({}),...r?.hasBorder?{borderBottom:c.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...D}},"data-test-id":b,display:C?"flex":void 0,height:h&&!I?h:void 0,left:!0,marginEnd:I?"auto":q,marginStart:I?"auto":q,onTransitionEnd:()=>{(m||k)&&M.current&&(_||g?d.Z.removeObstruction(A,M.current):d.Z.addObstruction(A,M.current))},position:z,right:!0,top:"header"===b,width:I||"fixed"!==z?void 0:"100%",zIndex:j?void 0:w,children:(0,f.jsx)(i.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:G,paddingLeft:L||!J||Z?void 0:"8px",paddingRight:L&&J&&!Z?"8px":void 0,...X,boxShadow:F&&"footer"===b?`0 10px 0 0 ${G}, ${c.KJ}`:V,marginBottom:I&&!k?.docked?16:void 0,...B?{pointerEvents:"auto"}:Object.freeze({}),...r?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:I||t?.alignCenter?"flex":void 0,marginEnd:I?"auto":void 0,marginStart:I?"auto":void 0,paddingX:y||4*("footer"===b&&!v)+U,paddingY:R,position:"relative",rounding:I&&!k?.docked?"pill":void 0,width:k?k.footerWidth:C?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:x}):e})})}},271202:function(e,t,r){r.r(t),r.d(t,{default:()=>c});var n=r(686659),o=r(667294),i=r(740097),a=r(178315),l=r(446885),s=r(763904),d=r(785893);function c({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:r,isTranslucent:c,isTransparentBackground:u,noGutter:p,overrideTop:f,useRoundedCorners:h,zIndexForGestaltBug:m,isStoryPin:_,...x}){(0,o.useEffect)(()=>{(0,n.Z)("FixedHeader","/app/packages/layout/FixedHeader.tsx")},[]);let{noPadding:g,paddingY:v=a.og,zIndex:y}=x;return(0,d.jsx)(i.Le,{height:t?a.LV+2*(g?0:v)*4:void 0,top:f||0,zIndex:y||void 0,children:(0,d.jsx)(s.Z,{hideOnScroll:x.hideOnScroll,children:n=>(0,d.jsx)(l.Z,{...x,headerConfig:{isTranslucent:c,isTransparentBackground:u,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:r,noGutter:p,overrideTop:f,zIndexForGestaltBug:m,useRoundedCorners:h},hideOnScrollState:n,isStoryPin:_,type:"header"})})})}},763904:function(e,t,r){r.d(t,{Z:()=>a});var n=r(667294),o=r(730448);function i(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends n.Component{constructor(...e){super(...e),i(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),i(this,"lastScrollPos",0),i(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),i(this,"handleScroll",(0,o.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state,n=window.scrollY,o=n-this.lastScrollPos,i="none",{scrollHeight:a,clientHeight:l}=document.documentElement||{};Number.isNaN(a)||Number.isNaN(l)||(i=o<0?n<=Math.abs((window.scrollMinY||0)+Math.max(o,20))?"start":"none":n>=(window.scrollMaxY||a-l)-Math.max(o,20)?"end":"none");let s=55*!t?.isModal;e?o>20&&r&&n>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(o<-20&&!r||n<=s)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===i&&!r||n<=s?(this.updateHiddenState(!0),t?.onScroll(!0)):(n>s||"end"===i)&&r&&(this.updateHiddenState(!1),t?.onScroll(!1)):(o<-20||"start"===i)&&r||n<=s?(this.updateHiddenState(!1),t?.onScroll(!1)):(o>20||"end"===i)&&!r&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=n},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state;return e({isHidden:!t?.forceShow&&r,updateHiddenState:this.updateHiddenState})}}},619481:function(e,t,r){r.d(t,{Z:()=>l});var n=r(667294),o=r(581722),i=r(629972),a=r(487038);function l(e){let{name:t,optionsKey:r}=e,l=t===i.fY,s=(0,a.MA)(),d=s?.get(t,r);if(d)throw d;let c=e=>e[t]?.[r],u=(0,o.v9)(({resources:e})=>c(e)?.nextBookmark),p=(0,o.v9)(({resources:e})=>c(e)?.data),f=(0,o.v9)(({resources:e})=>c(e)?.auxData),h=(0,o.v9)(({resources:e})=>c(e)?.error),m=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(l)return m.current;let _={auxData:f,data:p,error:h,isAtEnd:u===i.qx,nextBookmark:u};return(_.auxData!==m.current.auxData||_.data!==m.current.data||_.error!==m.current.error||_.isAtEnd!==m.current.isAtEnd||_.nextBookmark!==m.current.nextBookmark)&&(m.current=_),m.current}},735403:function(e,t,r){r.d(t,{Z:()=>o});var n=r(900946);function o(e){let{enteredQuery:t,filters:r,guideAdded:o,query:i,requestParams:a,rs:l,scope:s,selectedOneBarModules:d,user:c,inlineSuggestion:u}=e;if(!i)return"/";let p={q:i,rs:l,...a};if(r&&(p.filters=r),c&&(p.user=c),d&&(p.selected_one_bar_modules=d),o&&o.term&&(p.add_refine=`${o.term}|guide|word|${o.index}`),t&&(p.entered_query=t),u&&(p.inline_suggestion=u),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,n.Z)(p)}`;let f=s;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(f??"")||(f="pins"),f?`/search/${f}/?${(0,n.Z)(p)}`:`${window.location.pathname}?${(0,n.Z)(p)}`}},954928:function(e,t,r){r.d(t,{Z:()=>n});let n=(e,t)=>{let r=new URL(e,"https://pinterest.com");return r.search=new URLSearchParams(t).toString(),r.toString().substring(r.origin.length)}},515158:function(e,t,r){r.d(t,{Z:()=>s});var n=r(686659),o=r(667294),i=r(740097),a=r(440077),l=r(785893);function s({children:e,color:t,isDarkMode:r,outlined:s,type:d="bold",rounding:c=4}){return(0,o.useEffect)(()=>{(0,n.Z)("OutlinedBox","/app/www/common/OutlinedBox/OutlinedBox.tsx")},[]),(0,l.jsxs)(i.xu,{position:"relative",children:[(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:c,children:e}),s&&(0,l.jsx)(i.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:r}){let n=t?"#fff":"#000",o=t?"#000":"#fff";return"solid"===r?{boxShadow:`inset 0 0 0 2px ${e??n}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??n}`,MozBoxShadow:`inset 0 0 0 2px ${e??n}`}:"border"===r?{border:`1px solid ${e??a.v$5}`,boxShadow:`inset 0 0 0 1px ${a.z6F}`,WebkitBoxShadow:`inset 0 0 0 1px ${a.z6F}`,MozBoxShadow:`inset 0 0 0 1px ${a.z6F}`}:{boxShadow:`inset 0 0 0 2px ${e??n}, inset 0 0 0 4px ${o}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??n}, inset 0 0 0 4px ${o}`,MozBoxShadow:`inset 0 0 0 2px ${e??n}, inset 0 0 0 4px ${o}`}}({color:t,isDarkMode:r,type:d})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:c,top:!0})]})}},148:function(e,t,r){r.d(t,{n:()=>p,v:()=>f});var n=r(667294),o=r(312048),i=r(213491),a=r(477738),l=r(739405),s=r(582610),d=r(305375),c=r(785893);let{Provider:u,get:p}=(0,i.Z)("SearchParams"),f=({children:e,value:t})=>{let r=function(){let e=(0,l.HG)(),{search:t,pathname:r}=(0,o.TH)(),{scope:n}=(0,d.Z)(),i=!n&&r.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:i?a.lw.SHOP_TOOL:n,search:t})}(),i=(0,n.useMemo)(()=>({...r,...t}),[r,t]);return(0,c.jsx)(u,{value:i,children:e})}},261926:function(e,t,r){r.d(t,{CT:()=>n,HE:()=>o,Mq:()=>i,ti:()=>a});let n={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},o={CLOSEUP:"closeup"},i={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},a={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},582610:function(e,t,r){r.d(t,{Z:()=>i});var n=r(477738),o=r(575820);function i({isDesktop:e,scope:t,search:r}){let{auto_correction_disabled:i="",b_id:a,brands:l,category:s,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:p,domains:f,filters:h,guided_search_query:m,inline_suggestion:_,interest_id:x,journey_depth:g,on_sale:v,price_max:y,price_min:S,q:b,query_pin_sigs:w,request_params:Z,rs:O,selected_one_bar_modules:E,source_id:B,source_module_id:P,tab:j,top_pin_ids:T,user:I}=(0,o.mB)(r),k="true"===c.toLowerCase()&&"shop_tool"!==t?n.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===i.toLowerCase(),brands:l,bubbleId:a,category:s,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:h,debD:p,domains:f,guidedSearchQuery:m,inlineSuggestion:_,interestId:x,journeyDepth:g?parseInt(g,10):void 0,onSale:v,personalizationPinSig:w,placementId:(0,n.Hd)(k,e),priceMax:y,priceMin:S,query:b,requestParams:Z,rs:O,scope:k,selectedOneBarModules:E,sourceId:B,sourceModuleId:P,tab:j||"",topPinIds:T,user:I,viewParameter:(0,n._R)(k),viewType:k===n.lw.SHOP_TOOL?1:2}}},219043:function(e,t,r){r.d(t,{Z:()=>p});var n=r(686659),o=r(667294),i=r(740097),a=r(320197),l=r(609252),s=r(936367),d=r(986475),c=r(640200),u=r(785893);function p({oneBarModules:e,showIndicator:t,setProductFiltersModalIsOpen:r,showProductFilters:p=!1}){(0,o.useEffect)(()=>{(0,n.Z)("OneBar","/app/www/search/OneBar.tsx")},[]);let f=(0,o.useRef)(null),h=(0,o.useRef)(null),m=(0,o.useRef)(null),[_,x]=(0,o.useState)(0),g=e.map(e=>(0,d.Z)(c.Z,!0)(e));!function({pillsRef:e,oneBarModules:t,latestSelectedGuideX:r,setLatestSelectedGuideX:n}){(0,o.useEffect)(()=>{if(0!==r)return;let o=t.findIndex(e=>e.display?.isSelected);if(-1===o)return;let i=e.current;if(!i)return;let{children:a,clientWidth:l}=i,s=Array.from(a).slice(0,o+1).reduce((e,t)=>e+t.offsetWidth,0);s>l&&n(s)},[r,t,e,n])}({pillsRef:m,oneBarModules:g,latestSelectedGuideX:_,setLatestSelectedGuideX:x}),(0,o.useEffect)(()=>{setTimeout(()=>{h.current?.scrollTo({top:0,left:_,behavior:"smooth"})},1e3)},[_]);let v=new s.ZP;return(0,o.useEffect)(()=>{let e=f.current;return e&&l.Z.addObstruction("top",e),()=>{e&&l.Z.removeObstruction("top",e)}}),(0,u.jsx)(i.xu,{ref:f,color:"default","data-root-margin":"search-one-bar",height:54,overflow:"hidden",children:(0,u.jsx)(i.xu,{ref:h,"data-test-id":"mweb-onebar-search",height:64,overflow:"auto",children:(0,u.jsx)(i.kC,{ref:m,gap:1,maxWidth:"100%",children:g.map((e,n)=>(0,u.jsx)(a.Z,{hasProductFiltersApplied:t,impressionsFramework:v,index:n,module:e,oneBarModulesKey:null,onFilterButtonClick:()=>{p&&r?.(!0)},setLatestSelectedGuideX:x,showMWebProductFilters:p},`OneBarModule-${e.id||""}`))})})})}},164116:function(e,t,r){r.d(t,{Z:()=>p});var n=r(686659),o=r(667294),i=r(740097),a=r(104999),l=r(24246),s=r(49439),d=r(810752),c=r(413073),u=r(785893);function p({navigate:e,placeholder:t,query:r="",scope:p,shouldInputFocusOnTouch:f=!1,shownQuery:h,type:m="default",viewParameter:_,viewType:x}){(0,o.useEffect)(()=>{(0,n.Z)("SearchBar","/app/www/search/SearchBar.tsx")},[]);let g=(0,l.Z)(),v=(0,c.U)(),y=(0,a.Z)();(0,o.useEffect)(()=>{v&&setTimeout(()=>{v.preload?.((0,d.ke)("search.js"))},500)},[]);let S={default:{label:g.bt("Pesquisar", "Search", "SearchBar.searchTypes.default.label", undefined, true),path:"/search/"},syop:{label:"en"===g.getLocaleData().locale.split("-")[0]?g.bt("Pesquisar os teus Pins", "Search your Pins", "SearchBar.searchTypes.profile.englishLabel", undefined, true):g.bt("Pesquisar", "Search", "SearchBar.searchTypes.profile.nonEnglishLabel", undefined, true),path:"/search/me/"}},b=t||S[m].label;return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(i.xu,{display:"visuallyHidden",children:r&&(0,u.jsx)(i.qd,{accessibilityLevel:2,children:r})}),(0,u.jsx)(i.iP,{accessibilityLabel:g.bt("Abrir campo de pesquisa", "Open Search Field", "SearchBar.TapArea.accessibilityLabel", undefined, true),dataTestId:"searchBarPlaceholder",onTap:()=>(()=>{let t=S[m].path;return y({component:43,element:227,event_type:102,aux_data:{entered_query:r},view_parameter:_,view_type:x}),e((0,s.Z)({query:r,searchPath:t,scope:p,shouldInputFocusOnTouch:f}))})(),rounding:4,children:(0,u.jsx)(i.Um,{accessibilityLabel:"",autoComplete:"off",id:"SearchPage.SearchInput",onChange:()=>{},placeholder:b,readOnly:!0,size:"lg",tabIndex:-1,value:r&&(h??r)})})]})}},85310:function(e,t,r){r.d(t,{Z:()=>S});var n=r(667294),o=r(581722),i=r(740097),a=r(470205),l=r(825605),s=r(739405),d=r(686659),c=r(312048),u=r(230201),p=r(79271),f=r(575820),h=r(516420),m=r(785893);let _=({componentType:e,contextLogData:t,article:r,slotIndex:n,viewParameter:o,viewType:a,width:l})=>{let{action:s,content_type:d,cover_images:c,dominant_colors:f,id:h,title:_}=r,x=c?.[0],g=!!x&&("user"===d?x["150x150"]?.url||x["90x90"]?.url:x["236x"]?.url||x["474x"]?.url),{logContextEvent:v}=(0,u.u)(),y=(0,p.ZP)({componentType:e||void 0,contextLogData:t,impressionType:"Article",loggingId:h,slotIndex:n,viewParameter:o,viewType:a});return(0,m.jsx)(i.xu,{ref:y,paddingX:1,width:l,children:(0,m.jsx)(i.st,{children:(0,m.jsx)(i.Tg,{href:s?.url??"",onTap:()=>{v({aux_data:t,component:e,event_type:102,view_parameter:o,view_type:a})},rounding:4,children:(0,m.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},children:[(0,m.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",rounding:"circle",children:(0,m.jsx)(i.zd,{height:l,rounding:"circle",wash:!0,width:l,children:g&&(0,m.jsx)(i.Ee,{alt:_.format,color:f[0],fit:"cover",naturalHeight:1,naturalWidth:1,src:g})})}),(0,m.jsx)(i.xv,{align:"center",lineClamp:2,weight:"bold",children:_.format})]})})})})};function x({componentType:e,slot:t,story:r,viewParameter:a,viewType:l}){(0,n.useEffect)(()=>{(0,d.Z)("ExploreByXStory","/app/www/ExploreByXStory.tsx")},[]);let{title:s,objects:u,id:x,story_type:g}=r,{q:v}=(0,f.mB)((0,c.TH)().search),y={grid_index:t,story_id:x,story_type:g,...(0,h.Z)({query:v})},S=(0,p.ZP)({componentType:e||void 0,contextLogData:y,impressionType:"Story",loggingId:x,slotIndex:t,viewParameter:a,viewType:l}),b=(0,o.v9)(({articles:e})=>u?.map(t=>e[t.id||""])||[]),w=(window.innerWidth-8)/3-8;return(0,m.jsx)(i.xu,{ref:S,marginBottom:2,marginTop:2,paddingX:1,width:"100%",children:(0,m.jsxs)(i.kC,{direction:"column",gap:{row:0,column:4},children:[(0,m.jsx)(i.qd,{align:"center",size:"400",children:s?.format}),(0,m.jsx)(i.kC,{justifyContent:"between",wrap:!0,children:b.map(r=>(0,m.jsx)(_,{article:r,componentType:e,contextLogData:y,slotIndex:t,viewParameter:a,viewType:l,width:w},r.id))})]})})}var g=r(237103);let v=(0,n.lazy)(()=>Promise.resolve().then(r.bind(r,978387))),y=["search_article_landing_page_more_ideas_header","search_explore_by_attributes","search_explore_by_brand","search_explore_by_category"];function S({resultsFeed:e,setShowOneBar:t}){let r=(0,s.HG)();return(0,o.v9)(({stories:n,articles:o})=>{if(r)return null;let s=Array.isArray(e)&&e.length>0?e.findIndex(e=>"story"===e.type&&y.includes(n[e.id].story_type||"")):-1;if(s<=0)return null;let d=n[e[s].id],c="search_explore_by_brand"===d.story_type,u="search_article_landing_page_more_ideas_header"===d.story_type,p={componentType:d.display_options?.content_display?.component_type,slot:s,story:d,viewParameter:43,viewType:2};if(c){let e={...d,objects:d.objects?.map(e=>o[e.id||""])};return{content:(0,m.jsx)(a.Z,{name:"SafeSuspense_StructuredFeedStoryModule",children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(v,{...p,story:e,storyKey:{type:"Legacy",data:e}})})}),index:s}}return u?{content:(0,m.jsx)(i.xu,{marginBottom:4,children:(0,m.jsx)(g.Z,{setShowOneBar:t,storyId:d.id||""})}),index:s}:{content:(0,m.jsx)(x,{...p}),index:s}})}},49439:function(e,t,r){r.d(t,{Z:()=>o});var n=r(405897);function o({query:e,searchPath:t,scope:r,shouldInputFocusOnTouch:o}){let i=e?`${t}?rs=${n.i.TYPED}&q=${encodeURIComponent(e)}&scope=${r||""}`:t;return o&&(i=`${i}${"/"===i.charAt(i.length-1)?"?":"&"}input_select=true`),i}},237103:function(e,t,r){r.d(t,{Z:()=>u});var n=r(686659),o=r(667294),i=r(581722),a=r(740097),l=r(730448),s=r(551523),d=r(739405),c=r(785893);function u({storyId:e,setShowOneBar:t}){(0,o.useEffect)(()=>{(0,n.Z)("HeaderSection","/app/www/todayTab/duplo/HeaderSection.tsx")},[]);let r=(0,d.HG)(),u=(0,i.v9)(({stories:t})=>t[e]),p=(0,o.useRef)(null),f="search_article_landing_page_more_ideas_header"===u.story_type;return(0,o.useEffect)(()=>{let e=(0,l.Z)(()=>{let e=p.current?.getBoundingClientRect().top;t&&"number"==typeof e&&t(e<=100)},100);return t&&p.current&&window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[p,t]),(0,c.jsx)(a.xu,{ref:f?p:null,"data-test-id":u.story_type,marginTop:4,padding:r?4:void 0,width:r?s.lV:"100%",children:(0,c.jsxs)(a.kC,{direction:"column",justifyContent:"center",children:[u.title&&u.title.format&&(0,c.jsx)(a.qd,{accessibilityLevel:2,align:"center",size:r?"600":"400",children:u.title.format}),u.subtitle&&u.subtitle.format&&(0,c.jsx)(a.xv,{overflow:"normal",size:"300",children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:1.5}},marginStart:r?void 0:1,marginTop:3,children:u.subtitle.format})})]})})}},413073:function(e,t,r){r.d(t,{U:()=>i,Z:()=>a});var n=r(667294);let o=(0,n.createContext)();function i(){return(0,n.use)(o)}let a=o}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27463.pt_PT-66102d049facb8fb.mjs.map