(self.modernJsonp=self.modernJsonp||[]).push([["49254"],{768171:function(e,t,o){var l,i,r,a,n;o.r(t),o.d(t,{default:()=>d});let s={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"FollowersControllerQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"FollowersControllerQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[a,n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{id:"134b0b580aa92245148296845cace9afb35dc06c14786cdd346a49001d84a14b",metadata:{},name:"FollowersControllerQuery",operationKind:"query",text:null}};s.hash="a23b0f7439754a2c42bb445168b9e510";let d=s},665849:function(e,t,o){o.d(t,{Z:()=>d});var l=o(686659),i=o(667294),r=o(740097),a=o(285676),n=o(228612),s=o(785893);function d({handleTogglePinSelection:e,index:t,isSelected:o,isDisabled:d,pin:c,surface:u,unselectedState:_="deselected-image-only",disableHover:p}){(0,i.useEffect)(()=>{(0,l.Z)("SelectablePin","/app/common/react/components/BoardNotes/Composer/SelectablePin.tsx")},[]);let f=(0,n.S6)()(c.id);return(0,s.jsx)(r.iP,{disabled:d,onTap:()=>{e(c,!o)},rounding:4,children:(0,s.jsx)(a.r,{attributionOption:"hide",blockClickEvents:!0,disableHover:p,pinId:c.id,pinImageCrop:"none",pinKey:{type:"Legacy",data:f??c},saveButtonOptions:{type:"none"},selectionState:o?"selected-image-only":_,slotIndex:t,surface:u})})}},680616:function(e,t,o){o.d(t,{Fy:()=>r,ZP:()=>a,_G:()=>i});var l=o(627973);let i=e=>l.Fd[e]??l.U5.MORE_IDEAS,r=e=>l.lJ[e]??0,a="/collage-creation-tool"},627973:function(e,t,o){o.d(t,{AQ:()=>P,Fd:()=>x,Gb:()=>C,Je:()=>f,Nc:()=>s,R_:()=>j,U5:()=>g,V5:()=>v,Xu:()=>n,Z7:()=>m,_4:()=>y,bP:()=>u,fw:()=>p,hb:()=>w,jE:()=>h,jz:()=>_,lJ:()=>b,lk:()=>E,m2:()=>a,pI:()=>c,qb:()=>d,w5:()=>A,yW:()=>r});var l=o(740097),i=o(289935);let r=170,a=4,n=5,s=232,d=539,c=9/16,u=236,_=94,p=4,f={__style:{fontWeight:500}},h=new l.H3([i.b7]),m=new l.H3([h]),g={MORE_IDEAS:"MORE_IDEAS",DRAFTS:"DRAFTS",SEARCH:"SEARCH",YOUR_BOARDS:"YOUR_BOARDS",BRAND_KIT:"BRAND_KIT"},x={0:"MORE_IDEAS",1:"YOUR_BOARDS",2:"DRAFTS",3:"SEARCH",4:"BRAND_KIT"},b={MORE_IDEAS:0,YOUR_BOARDS:1,DRAFTS:2,SEARCH:3,BRAND_KIT:4},w=420,P=264,y="#ffffff",v=5e3,C={PIN:1,TEXT:2,IMAGE:3},j={0:"left",1:"center",2:"right"},A={left:0,center:1,right:2},E={DRAWING:4}},351679:function(e,t,o){o.d(t,{Z:()=>i});var l=o(47755);async function i(e){return(0,l.Z)({url:"/v3/shuffles/{shuffle}/",urlParams:{shuffle:e},method:"DELETE"})}},619546:function(e,t,o){o.d(t,{Z:()=>n});var l=o(667294),i=o(57887),r=o(661376);let a={url:"/v3/users/me/shuffles/",data:{is_draft:!0,transform_to_pins:!1,fields:["shuffle.id","shuffle.images","shuffle.updated_at"]}};function n(){let{data:e,fetchMore:t,isFetching:o,refresh:n}=(0,r.Z)({name:"ApiResource",options:a}),s=(0,i.w1)();return{fetchMore:t,invalidateDrafts:(0,l.useCallback)(()=>{s("ApiResource",a)},[s]),isFetching:o,shuffles:e,refresh:n}}},548777:function(e,t,o){o.d(t,{m:()=>u,r:()=>_});var l=o(667294),i=o(213491),r=o(753806),a=o(501010),n=o(774838),s=o(661376),d=o(785893);let{Provider:c,get:u}=(0,i.Z)("PinRep");function _({children:e}){let{isAuthenticated:t}=(0,n.B)(),{checkExperiment:o}=(0,a.Z)(),{experience:i}=(0,r.Ow)(1000069),[u,_]=(0,l.useState)(!0),[p,f]=(0,l.useState)(!1),[h,m]=(0,l.useState)(!1),[g,x]=(0,l.useState)(null),[b,w]=(0,l.useState)(null),P=(0,r.oS)(1000069),{anyEnabled:y}=o("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),v=(0,s.Z)(t&&y?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,l.useEffect)(()=>{if(!t)return void _(!1);i&&(!i||i?.experience_id===500417&&i?.display_data.hide_footer)?P.viewExperience(1000069,500417):_(!1),f(!0)},[i]);let C=(0,l.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:h,hasSimplifiedPinGridExpLoaded:p,hidePinRepFooter:u,quickSaveBoardId:v,setHasMetSaveRequirementOnUseCaseFeed:m,setUseCaseFeedOriginalPinId:w,setUseCaseFeedRepinId:x,useCaseFeedOriginalPinId:b,useCaseFeedRepinId:g}),[h,p,u,v,m,w,x,b,g]);return(0,d.jsx)(c,{value:C,children:e})}},576629:function(e,t,o){o.d(t,{Z:()=>I});var l=o(686659),i=o(667294),r=o(740097),a=o(665849);let n="select_pins",s="board_picker",d="create_board";var c=o(230201),u=o(465784),_=o(24246),p=o(581722),f=o(312048),h=o(236269),m=o(924591),g=o(216975),x=o(501010),b=o(661376),w=o(577356),P=o(494843),y=o(821697),v=o(785893);function C({isFirstBoardCreation:e,isOnSelectStep:t,onClickBackButton:o,onDismiss:a,selectedPinCount:n}){(0,i.useEffect)(()=>{(0,l.Z)("BoardlessPinsModalHeading","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsModalHeading.tsx")},[]);let s=(0,_.Z)(),d=s.bt("Organiza um álbum", "Organize into a board", "boardlessPins.modalHeading.organizeHeading", undefined, true),c=n>0?(0,g.nk)(s.nbt(["{{ pinCount }} selecionado", "{{ pinCount }} selecionados"], n, "boardlessPins.modalHeading.PinCountHeading", true),{pinCount:n}):d,u=s.bt("Criar álbum", "Create board", "boardlessPins.modalHeading.createBoardHeading", undefined, true);return(0,v.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:8,position:"relative",children:[e||t?(0,v.jsx)(r.xu,{height:40,width:40}):(0,v.jsx)(r.hU,{accessibilityLabel:s.bt("Voltar ao módulo anterior", "Go back to previous modal", "boardlessPins.modalHeading.arrowBackIconButton", undefined, true),disabled:t,icon:"arrow-back",iconColor:t?"white":"darkGray",onClick:o,size:"md"}),(0,v.jsx)(r.xu,{maxWidth:486,children:(0,v.jsx)(r.qd,{align:"center",size:"600",children:t?c:u})}),(0,v.jsx)(r.hU,{accessibilityLabel:s.bt("Cancelar alterações", "Cancel changes", "boardlessPins.modalHeading.cancelIconButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:a,size:"md"})]})}var j=o(592410),A=o(779686),E=o(679602),z=o(438274),B=o(427475);function T({boardlessPinsBoardId:e,currentStep:t,hasBoards:o,isOnSelectStep:a,onDismiss:c,selectedPins:T,updateCurrentStep:Z,userId:I,isFirstBoardCreation:S=!1,onComplete:k}){(0,i.useEffect)(()=>{(0,l.Z)("BoardlessPinsBoardPicker","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsBoardPicker.tsx")},[]);let R=(0,_.Z)(),D=(0,B.Z)(),[H,O]=(0,i.useState)(!1),[M,L]=(0,i.useState)(""),[F,N]=(0,i.useState)(""),{checkExperiment:G}=(0,x.Z)(),U=(0,b.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}),V=(0,p.I0)(),$=(0,f.s0)(),W=(0,w.dI)(),J=T[0],q=T.map(e=>e.image).filter(e=>!!e),Q=(t,o)=>{let l=T.map(e=>e.id);V((0,E.Z)({selectedPinIds:l,source:{boardId:e,sectionId:null},target:{boardId:t,sectionId:o||null}},R)),V((0,A.EX)({feedId:I,feedType:z.Z.BOARDLESS_PINS,itemIds:l,itemType:"pin"}))},K=async()=>{try{let e=await D({boardCreateOptions:{name:F,privacy:H?"secret":"public",aux_data:{source:"organize_pins"}}});if(await Q(e.id),c(),S&&G("ap_dweb_first_board_creation",{dangerouslySkipActivation:!0}).group.includes("genie")){W.showToast(({hideToast:t})=>(0,v.jsx)(m.Z,{duration:3e3,imageUrl:T[0]?.image?.url??"",onHide:t,text:(0,v.jsx)(r.xv,{overflow:"normal",size:"200",children:(0,g.XB)({text:R.bt("Guardado em <a id=\"1\">{{ boardName }}</a>", "Saved to <a id=\"1\">{{ boardName }}</a>", "BoardlessPinsBoardPicker.SavedToBoardToast.Message", undefined, true),markers:{boardName:e.name??""},jsxReplacements:{1:({innerHtmlStrings:t})=>(0,v.jsx)(r.rU,{display:"block",href:e.url??"",children:(0,v.jsx)(r.xv,{lineClamp:1,size:"200",weight:"bold",children:t},"PostSavedPinToastBoardName")})}})}),thumbnail:{icon:(0,v.jsx)(r.JO,{accessibilityLabel:R.bt("Miniatura de Guardado no perfil", "Saved to profile thumbnail", "BoardlessPinsBoardPicker.thumbnail.accessibilityLabel", undefined, true),color:"default",icon:"history",size:24})}}));let t=T.map(e=>e.id);k?.(t[0]??"")}else W.showToast(({hideToast:e})=>(0,v.jsx)(m.Z,{onHide:e,text:R.bt("Álbum criado!", "Board created!", "BoardlessPinsBoardPicker.boardCreated.toast", undefined, true)})),e.url&&$(e.url,{replace:!0})}catch(t){let e=R.bt("Oh! Algo correu mal.", "Uh oh! Something went wrong.", "BoardlessPinsBoardPicker.boardCreate.submitErrorDefault", undefined, true);if("string"==typeof t)e=t;else{let o=(0,h.Z)(t,"message");if(o){let l=(0,h.Z)(t,"message_detail");e=l?`${o} ${l}`:o}}L(e)}},X=(0,v.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:5,position:"relative",children:[(0,v.jsx)(r.hU,{accessibilityLabel:R.bt("Voltar", "Go back", "BoardlessPinsBoardPicker.modalHeading.arrowBackIconButton", undefined, true),disabled:a,icon:"arrow-back",iconColor:a?"white":"darkGray",onClick:()=>Z(n),size:"md"}),(0,v.jsx)(r.qd,{align:"center",size:"600",children:R.bt("Move para um álbum", "Move to a board", "BoardlessPinsBoardPicker.save.modalTitle", undefined, true)}),(0,v.jsx)(r.hU,{accessibilityLabel:R.bt("Cancelar alterações", "Cancel changes", "BoardlessPinsBoardPicker.modalHeading.cancelIconButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:()=>c(s),size:"md"})]});return o&&t!==d?(0,v.jsx)(u.ZP,{accessibilityModalLabel:R.bt("Move para um álbum", "Move to a board", "BoardlessPinsBoardPicker.chooseExistingBoardsModal.accessibilityLabel", undefined, true),heading:X,onDismiss:()=>c(s),size:"md",children:(0,v.jsx)(r.xu,{padding:1,children:(0,v.jsx)(y.xH,{boardResource:U,changeBoardModal:!0,onBoardCreate:({title:e=""}={})=>{N(e),Z(d)},onItemChosen:e=>{Q(e.boardId,e.sectionId),W.showToast(({hideToast:t})=>(0,v.jsx)(m.Z,{onHide:t,text:(0,g.nk)(R.bt("Movido para {{boardName}}", "Moved to {{boardName}}", "BoardlessPinsBoardPicker.onItemChosen.toast", undefined, true),{boardName:e.title}).join("")})),c()},paneHeight:644,paneWidth:720,pinId:J.id,surface:P.Z.ORGANIZE_PINS})})}):(0,v.jsx)(u.ZP,{accessibilityModalLabel:R.bt("Criar álbum", "Create board", "BoardlessPinsBoardPicker.createBoard.accessibilityLabel", undefined, true),footer:(0,v.jsx)(r.kC,{justifyContent:"end",children:(0,v.jsx)(r.zx,{color:"red",disabled:0===F.trim().length,onClick:()=>{K()},size:"lg",text:R.bt("Criar", "Create", "BoardlessPinsBoardPicker.boardCreate.createButton", undefined, true)})}),heading:(0,v.jsx)(C,{isOnSelectStep:!1,onClickBackButton:()=>{Z(o?s:n)},onDismiss:()=>c(d),selectedPinCount:T.length}),onDismiss:()=>c(d),size:"md",children:(0,v.jsx)(r.xu,{height:644,children:(0,v.jsx)(j.Z,{boardThumbs:q,isSecret:H,name:F,onNameChange:({value:e})=>{e.trim()?L(""):L(R.bt("Não te esqueças de dar um nome ao teu álbum!", "Don't forget to name your board!", " - ", undefined, true)),N(e)},onVisibilityChange:({checked:e})=>O(e),submitError:M})})})}var Z=o(228612);function I({boardlessPinsNormalized:e,fetchMore:t,hasBoards:o,isFirstBoardCreation:p=!1,onDismiss:f,userId:h,onComplete:m}){(0,i.useEffect)(()=>{(0,l.Z)("BoardlessPinsOrganizeModal","/app/common/react/components/profile/ProfileBoards/BoardlessPins/BoardlessPinsOrganizeModal.tsx")},[]);let g=(0,_.Z)(),x=(0,i.useRef)(null),[b,w]=(0,i.useState)([]),[P,y]=(0,i.useState)(n),{logContextEvent:j}=(0,c.u)(),A=(0,Z.JC)(),E=(0,i.useMemo)(()=>e&&A?e.reduce((e,t)=>{let o=A[t.id];return e.push(o),e},[]):[],[e,A]);(0,i.useEffect)(()=>{p&&E.length&&w(E.reduce((e,t)=>(t&&e.push({id:t.id,image:p?t.images?.["236x"]??null:t.images?.["170x"]??null}),e),[]))},[E,p]);let z=E[0]?.board?.id??"",B=(e,t)=>{let o,l=[...b];t?(p?j({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!0}}):j({event_type:7301,view_type:631,view_parameter:3906,object_id_str:e.id,aux_data:{selected:!0,pin_id:e.id}}),o=l.concat({id:e.id,image:p?e.images?.["236x"]:e.images?.["170x"]})):(p?j({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!1}}):j({event_type:14667,view_type:631,view_parameter:3906,object_id_str:e.id,aux_data:{selected:!1,pin_id:e.id}}),o=l.filter(t=>t.id!==e.id)),w(o)};(0,i.useEffect)(()=>{let e;P===n?e=p?4166:3906:P===s?e=p?4167:3133:P===d&&(e=3992),(P===n||P===s||P===d)&&j({event_type:13,view_type:p?740:631,view_parameter:e})},[P,p,j]);let I=P===n;return(0,v.jsx)(i.Fragment,{children:I?(0,v.jsx)(u.ZP,{accessibilityModalLabel:g.bt("Organiza um álbum", "Organize into a board", "boardlessPins.organizeModal.accessibilityLabel", undefined, true),footer:(0,v.jsx)(r.kC,{justifyContent:"end",children:(0,v.jsx)(r.zx,{color:"red",disabled:0===b.length,onClick:()=>{j({event_type:101,view_type:p?740:631,view_parameter:p?4166:3906,element:p?96:14187}),y(s)},size:"lg",text:g.bt("Seguinte", "Next", "boardlessPins.organizeModal.nextButton", undefined, true)})}),heading:(0,v.jsx)(C,{isFirstBoardCreation:p,isOnSelectStep:I,onClickBackButton:()=>y(n),onDismiss:()=>f(P),selectedPinCount:b.length}),onDismiss:()=>f(P),size:"md",children:(0,v.jsx)(r.xu,{ref:x,height:428,children:E&&x&&(0,v.jsx)(r.Rk,{columnWidth:152,gutterWidth:16,items:E,loadItems:t,renderItem:({data:e,itemIdx:t})=>(0,v.jsx)(a.Z,{handleTogglePinSelection:B,index:t,isSelected:!!b.filter(t=>t.id===e.id).length,pin:e,surface:"SelectableBoardlessPin",unselectedState:"no-selection"}),scrollContainer:()=>x.current})})}):(0,v.jsx)(T,{boardlessPinsBoardId:z,currentStep:P,hasBoards:o,isFirstBoardCreation:p,isOnSelectStep:I,onComplete:m,onDismiss:f,selectedPins:b,updateCurrentStep:e=>y(e),userId:h})})}},598013:function(e,t,o){o.d(t,{Z:()=>p});var l=o(686659),i=o(667294),r=o(740097),a=o(24246),n=o(720459),s=o(216975),d=o(774838),c=o(748261),u=o(962875),_=o(785893);function p({images:e,name:t,onClick:o,pinCount:p,url:f}){(0,i.useEffect)(()=>{(0,l.Z)("PinCluster","/app/common/react/components/profile/ProfileBoards/BoardlessPins/PinCluster.tsx")},[]);let h=(0,a.Z)(),{locale:m}=(0,d.B)(),g=(0,n.Z)(),x=({event:e})=>{e.stopPropagation(),o()};return(0,_.jsx)(r.iP,{dataTestId:"pin-cluster",onTap:o,children:(0,_.jsxs)(r.kC,{direction:"column",children:[(0,_.jsxs)(r.xu,{minHeight:157,minWidth:236,position:"relative",children:[(0,_.jsx)(r.xu,{bottom:!0,color:"dark",left:!0,opacity:.4,position:"absolute",right:!0,rounding:4,top:!0,zIndex:u.mM}),(0,_.jsx)(c.Z,{fullSize:!0,images:e,layout:"square"}),(0,_.jsx)(r.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",zIndex:u.c6,children:f?(0,_.jsx)(r.ZP,{color:"tertiary",dataTestId:"create-pin-cluster-button",href:f,onClick:x,size:"lg",text:h.bt("Criar", "Create", "pinCluster.createButton", undefined, true)}):(0,_.jsx)(r.zx,{color:"tertiary",dataTestId:"create-pin-cluster-button",onClick:x,size:"lg",text:h.bt("Criar", "Create", "pinCluster.createButton", undefined, true)})})]}),(0,_.jsx)(r.xu,{padding:2,children:(0,_.jsxs)(r.kC,{direction:"column",gap:1,children:[(0,_.jsx)(r.qd,{accessibilityLevel:3,lineClamp:1,size:"400",children:t}),(0,_.jsx)(r.xu,{children:p&&(0,_.jsx)(r.xe,{lineClamp:1,size:"100",children:(0,s.nk)(h.nbt(["{{ count }} Pin", "{{ count }} Pins"], p, "pinCluster.pinCount", true),{count:g(m,p,{})})})})]})})]})})}},642795:function(e,t,o){o.d(t,{ZP:()=>n,om:()=>d,zz:()=>c});var l=o(24246),i=o(501010),r=o(660322),a=o(661376);function n(){let e=(0,l.Z)(),{data:t,isLoaded:o,refresh:i}=(0,a.Z)({name:"ApiResource",options:{url:"/v3/users/profile/pins/clusters/",data:{exclude_quick_save_pins:!0,max_cluster_limit:10}}});return o&&t?{isLoaded:o,pinClusters:t.objects.map(t=>{let o=t.names[0],l=o&&o.charAt(0).toUpperCase()+o.slice(1);return{id:t.id,images:t.thumbnails.map(t=>({url:t["236x"].url,name:e.bt("Imagem de sugestão de álbum", "Board suggestion image", "boardSuggestions.thumbnail.image", undefined, true)})),name:l,pinCount:t.pin_count}}),refreshPinClusters:i}:{isLoaded:o,pinClusters:[],refreshPinClusters:()=>{}}}function s(e){return{url:`/v3/users/profile/pins/cluster/${e}/feed/`,data:{fields:["pin.id","pin.images[170x,136x136,236x,474x,736x,orig]"]}}}function d(e,t){let o=(0,a.Z)({name:"ApiResource",options:s(e)}),{checkExperiment:l}=(0,i.Z)(),r=(0,a.Z)(t&&l("web_curation_save_nrt_auto_org",{dangerouslySkipActivation:!0}).anyEnabled?{name:"ApiResource",options:{url:`/v3/pins/${t}/`,data:{fields:["pin.id","pin.images[170x,136x136,236x,474x,736x,orig]"]}}}:null),{fetchMore:n,isFetching:d,isLoaded:c}=o,{data:u}=o;return u||(u=[]),t&&r.data&&r.isLoaded&&(u=[r.data,...u]),{clusterPins:u,fetchMore:n,isFetching:d,isLoaded:c}}function c(e){return(0,r.jB)("ApiResource",s(e))}},982091:function(e,t,o){o.d(t,{Z:()=>u});var l=o(686659),i=o(667294),r=o(918750),a=o(59355),n=o(935059),s=o(920343),d=o(171039),c=o(785893);function u(e){let t;(0,i.useEffect)(()=>{(0,l.Z)("ProfileDeciderContainer","/app/common/react/components/profile/ProfileDecider/ProfileDeciderContainer.tsx")},[]);let o=(0,d.Z)(),u=(0,n.Z)(),_=(0,s.Z)({user:o.data,viewer:u});return(u.isAuth&&_&&(t=u.id),(0,a.Q)({object_id_str:t,view_type:4,view_parameter:_?3106:3107}),o&&o.data)?(0,c.jsx)(r.Z,{}):null}},582857:function(e,t,o){o.d(t,{Z:()=>E});var l=o(686659),i=o(667294),r=o(581722),a=o(312048),n=o(740097),s=o(363061),d=o(611649),c=o(257680),u=o(230201),_=o(943152),p=o(935059),f=o(24246),h=o(501010),m=o(660322),g=o(200619),x=o(601871),b=o(938967),w=o(233165),P=o(494843),y=o(477760),v=o(113463),C=o(92481),j=o(869552),A=o(785893);function E({currentTab:e}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileCreateButtonController","/app/common/react/components/profile/ProfileHeader/ProfileCreateButtonController.tsx")},[]);let t=(0,f.Z)(),[o,E]=(0,i.useState)(!1),z=(0,a.s0)(),B=(0,a.TH)(),T=(0,r.I0)(),Z=(0,p.Z)(),{checkExperiment:I}=(0,h.Z)(),S=(0,g.Z)(),k=(0,x.lJ)(Z,S),R=(0,_.Z)(),{logContextEvent:D}=(0,u.u)(),H=(0,d.Z)(!0),O=I("web_curation_board_create_entry_points").anyEnabled,M=e=>{if(R)return void R();let t=k&&(0,c.Z)(e.privacy)?`?orbac_subject_id=${k}`:"";T((0,m.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),z(`${e.url||""}${t}`,{state:{newBoard:!0}})};return(0,A.jsxs)(i.Fragment,{children:[(0,A.jsx)(j.Z,{onCreateBoard:()=>{if(R)return void R();D({component:13056,element:249,event_type:101,view_parameter:3106,view_type:4,aux_data:{source:P.Z.PROFILE}}),E(!0)},onCreateCollage:()=>{if(R)return void R();D({component:13056,element:13844,event_type:101,view_parameter:3106,view_type:4}),z("/collage-creation-tool/")},onCreatePin:()=>{if(R)return void R();D({component:13056,element:10643,event_type:101,view_parameter:3106,view_type:4}),z("/pin-builder/")},onCreateStoryPin:()=>{if(R)return void R();D({aux_data:{entry_type:"profile_plus_button"},component:13056,element:10949,event_type:101,view_parameter:3106,view_type:4}),z((0,s.Z)(H),{state:{entry_type:"profile_plus_button"}})},onOpen:()=>{let e=Z.isAuth&&B.pathname.startsWith(`/${Z.username}/`)&&!1===Z.isPartner&&!B.pathname.includes(C.qV)&&I("web_retrieval_hub_profile_split_").anyEnabled,t=e&&[C.sz.enabled_with_unorganized_feed,C.sz.enabled_with_log_fix].includes(I("web_retrieval_hub_profile_split_").group);e&&D({event_type:101,view_type:4,view_parameter:t?3106:4047,component:14461,element:1208})},surface:e===v.un.RETRIEVAL_HUB_PINS?"profilePins":"profileBoards",children:({active:o,openFlyout:l,accessibilityControls:i,accessibilityExpanded:r})=>O?(0,A.jsx)(n.zx,{accessibilityControls:i,accessibilityExpanded:r,accessibilityHaspopup:!0,accessibilityLabel:t.bt("Criar um Pin ou álbum", "Create a Pin or a board", "profileHeader.actionBar.createButton", undefined, true),color:"red",onClick:l,selected:o,size:"lg",text:t.bt("Criar", "Create", "profileHeader.actionBar.createButton", undefined, true)}):(0,A.jsx)(b.Z,{accessibilityControls:i,accessibilityExpanded:r,accessibilityLabel:"pins"===e?t.bt("Criar um Pin", "Create a Pin", "profileHeader.actionBar.createButtonPin", undefined, true):t.bt("Criar um Pin ou álbum", "Create a Pin or a board", "profileHeader.actionBar.createButton", undefined, true),icon:"add",onClick:l,selected:o})}),o&&(I("dweb_board_create_glowup").anyEnabled?(0,A.jsx)(y.Z,{boardCreateSource:"profile",onBoardCreate:M,onClose:()=>E(!1)}):(0,A.jsx)(w.Z,{boardCreateSource:"profile",onBoardCreate:M,onClose:()=>E(!1),shouldShowAddCollaborators:!0}))]})}},770218:function(e,t,o){o.d(t,{Z:()=>P});var l=o(686659),i=o(667294),r=o(312048),a=o(740097),n=o(27399),s=o(230201),d=o(935059),c=o(24246),u=o(501010),_=o(661376),p=o(200619),f=o(601871),h=o(465076),m=o(378512),g=o(92481),x=o(329577),b=o(785893);let w={alphabetical:10430,last_pinned_to:10431,last_activity:10431,last_pin_added:10431,custom:10434};function P({user:e,setVisibilityControlsModalOpen:t}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileHeaderOrganizeButton","/app/common/react/components/profile/ProfileHeader/ProfileHeaderOrganizeButton.tsx")},[]);let o=(0,x.WG)(),{logContextEvent:P}=(0,s.u)(),y=(0,c.Z)(),v=(0,d.Z)(),C=(0,p.Z)(),j=(0,f.Ms)(v,C),{checkExperiment:A}=(0,u.Z)(),E=(0,r.TH)(),{data:z}=(0,_.Z)({name:"UserMetadataResource",options:{user:{id:j}}}),B=o?.profileBoardView,T=o?.boardSortOrder.get(j||"")??"",Z=o?.profilePinDensity,I=(0,m.Z)({hasCustomOrder:!!e.has_custom_board_sorting_order,isOwnProfile:!0,mostRecentBoardSortOrder:z?.most_recent_board_sort_order,updatedBoardOrder:T});(0,i.useEffect)(()=>{if(z&&!B){let{profile_board_rep_view_type:e}=z;o?.setProfileBoardView(e&&"list"!==e?e:"wide")}},[z,B]),(0,i.useEffect)(()=>{if(z&&""===Z){let{board_pin_rep_view_type:e}=z;o?.setProfilePinDensity(e??"regular")}},[z,Z]);let S=e=>()=>{let t=v.isAuth&&!1===v.isPartner&&E.pathname.startsWith(`/${v.username}/`)&&!E.pathname.includes(g.qV)&&A("web_retrieval_hub_profile_split_").anyEnabled,l=t&&[g.sz.enabled_with_unorganized_feed,g.sz.enabled_with_log_fix].includes(A("web_retrieval_hub_profile_split_").group);t?P({event_type:101,component:14461,element:10612,view_parameter:l?3106:4047,view_type:4}):P({event_type:101,component:13149,element:w[e]}),n.Z.create("UserMetadataResource",{most_recent_board_sort_order:e,orbac_subject_id:(0,f.lJ)(v,C)}).callUpdate(),o?.updateBoardSortOrder((0,f.Ms)(v,C),e)},k=[{label:y.bt("A a Z", "A to Z", "profileHeader.actionBar.organizeFlyout.aToZ", undefined, true),isSelected:"alphabetical"===I,clickHandler:S("alphabetical")},{label:y.bt("Personalizado", "Custom", "profileHeader.actionBar.organizeFlyout.dragAndDrop", undefined, true),isSelected:"custom"===I,clickHandler:S("custom")}];k.push({label:y.bt("Último Pin adicionado", "Last Pin Added", "profileHeader.actionBar.organizeFlyout.lastPinAdded", undefined, true),isSelected:"last_pinned_to"===I,clickHandler:S("last_pinned_to")});let R=[{label:y.bt("Ordenar por", "Sort by", "profileHeader.actionBar.organizeFlyout.sortBoardsBy", undefined, true),items:k},t?{label:y.bt("Esquema do perfil", "Profile layout", "profileHeader.actionBar.organizeFlyout.layout", undefined, true),items:[{label:y.bt("Editar visibilidade do álbum", "Edit board visibility", "profileHeader.actionBar.organizeFlyout.manageVisibility", undefined, true),clickHandler:()=>{t(!0),P({event_type:101,view_type:215,view_parameter:3106,component:13996,element:12786})}}]}:null].map(e=>e).filter(Boolean);return(0,b.jsx)(a.xu,{"data-test-id":"profile-organize-button",children:(0,b.jsx)(h.Z,{icon:"filter",label:y.bt("Organizar", "Organize", "profileHeader.actionBar.organize", undefined, true),children:({handleClose:e})=>R.map(({items:t,label:o})=>(0,b.jsx)(a.Lt.Section,{label:o,children:t.map(({clickHandler:t,isSelected:o,label:l})=>(0,b.jsx)(a.Lt.Item,{onSelect:()=>{e(),t()},option:{label:l,value:l},selected:o?{label:l,value:l}:null},l))},o))})})}},918750:function(e,t,o){o.d(t,{Z:()=>ej});var l=o(686659),i=o(667294),r=o(740097),a=o(581722),n=o(312048),s=o(548777),d=o(576629),c=o(598013),u=o(642795),_=o(230201),p=o(24246),f=o(494843),h=o(824141),m=o(312629),g=o(785893);function x({hasBoards:e=!1}){(0,i.useEffect)(()=>{(0,l.Z)("BoardSuggestions","/app/common/react/components/profile/ProfileBoards/BoardlessPins/BoardSuggestions.tsx")},[]);let t=(0,p.Z)(),{isLoaded:o,pinClusters:a}=(0,u.ZP)(),{logContextEvent:n}=(0,_.u)();if((0,i.useEffect)(()=>{o&&n({event_type:15165,view_type:4,view_parameter:3106,aux_data:{content_ids:a.map(({id:e})=>`pincluster:${e}`).join("|").concat("|")}})},[o,n,a]),!o||0===a.length)return null;let s=(0,h.m)("square"),d=e?(0,g.jsx)(r.qd,{accessibilityLevel:2,size:"400",children:t.bt("Sugestões de álbuns", "Board suggestions", "boardSuggestions.heading", undefined, true)}):(0,g.jsxs)(r.kC,{direction:"column",gap:3,children:[(0,g.jsx)(r.qd,{accessibilityLevel:2,size:"400",children:t.bt("Acompanha o que te inspira", "Keep track of what inspires you", "boardSuggestions.headingNoBoards", undefined, true)}),(0,g.jsx)(r.xe,{children:t.bt("Os álbuns permitem-te organizar os Pins guardados em coleções. Começa a partir de um cluster abaixo ou cria o seu próprio.", "Boards let you organize the Pins you save into collections. Start from a cluster below, or create your own.", "boardSuggestions.text", undefined, true)})]});return(0,g.jsxs)(r.kC,{direction:"column",children:[(0,g.jsx)(r.xu,{marginBottom:5,marginTop:8,paddingX:5,children:d}),(0,g.jsx)(m.Z,{itemWidth:s,maxColumns:12,children:a.map(({id:e,images:o,name:l,pinCount:i})=>(0,g.jsx)(r.xu,{"aria-label":t.bt("Sugestão de álbum", "Board suggestion", "boardSuggestions.ariaLabel", undefined, true),maxWidth:s,overflow:"hidden",padding:2,role:"group",children:(0,g.jsx)(c.Z,{images:o,name:l,onClick:()=>{n({event_type:14567,view_type:4,view_parameter:3106,aux_data:{cluster_selected_name:l,cluster_selected_index:e,source:f.Z.PIN_CLUSTER}})},pinCount:i,url:`/board/create/cluster/${e}`})},e))})]})}var b=o(216975);function w({boardlessPins:e,organizeIdeasButton:t,openBoardlessModal:o,user:a}){(0,i.useEffect)(()=>{(0,l.Z)("SelfProfileBoardlessPins","/app/common/react/components/profile/ProfileBoards/BoardlessPins/SelfProfileBoardlessPins.tsx")},[]);let n=(0,p.Z)(),s=e?.slice(0,6),{quick_saves_pin_count:d}=a;return(0,g.jsx)(r.xu,{"data-test-id":"self-profile-boardless-pins-section",display:"flex",height:228,justifyContent:"start",marginEnd:"auto",marginStart:"auto",maxWidth:"fit-content",overflow:"hidden",position:"relative",rounding:4,children:(0,g.jsxs)(r.iP,{onTap:o,children:[s?.map((e,t)=>(0,g.jsx)(r.xu,{display:"inlineBlock",height:228,marginEnd:0,overflow:"hidden",position:"relative",width:142,children:5===t?(e=>{let{title:t,images:o}=e,l=o&&o["236x"];return(0,g.jsxs)(r.xu,{"data-test-id":"self-profile-boardless-pins-count-div",display:"inlineBlock",height:228,marginEnd:0,overflow:"hidden",position:"relative",width:142,children:[l?.url&&(0,g.jsx)(r.Ee,{alt:t??"Boardless pin count",color:"lightGray",fit:"cover",naturalHeight:l?.height??0,naturalWidth:l?.width??0,src:l.url}),(0,g.jsx)(r.xu,{color:"dark",display:"flex",height:"100%",opacity:.8,position:"absolute",right:!0,top:!0,width:"100%",children:(0,g.jsx)(r.xu,{"data-test-id":"self-profile-boardless-pins-count",margin:"auto",children:(0,g.jsx)(r.xe,{color:"inverse",weight:"bold",children:(0,b.nk)(n._("+{{pinCount}}","SelfProfileHeader.boardless.pins.count","Count of boardless pins"),{pinCount:d})})})})]})})(e):(e=>{let{title:t,images:o}=e,l=o&&o["236x"];return(0,g.jsx)(i.Fragment,{children:l&&l.url&&(0,g.jsx)(r.Ee,{alt:t??"Boardless pin",color:"lightGray",fit:"cover",naturalHeight:l.height??0,naturalWidth:l.width??0,src:l.url})})})(e)},`boardless-pin-${e.id}`)),(0,g.jsx)(r.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(r.xu,{margin:"auto",children:t})})]})})}var P=o(261954),y=o(309947),v=o(501010),C=o(906127),j=o(285676),A=o(753806),E=o(986174);function z({boardThumbs:e}){let t=(0,p.Z)();return(0,g.jsx)(r.xu,{"aria-label":t.bt("Colagem de imagens", "Collage of images", "profile.boardlessPinsUpsell.imageCollage", undefined, true),role:"img",children:(0,g.jsx)(r.zd,{height:110,rounding:4,width:110,children:(0,g.jsx)(r.gM,{columns:2,cover:!0,gutter:1,height:110,renderImage:({index:t,width:o,height:l})=>{let i=e[0],a=e.slice(1),n=0===t?i:a[t-1];return(0,g.jsx)(r.zd,{height:l,width:o,children:n.url&&(0,g.jsx)(r.Ee,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:n.height??1,naturalWidth:n.width??1,src:n.url})})},width:110})})})}function B(){(0,i.useEffect)(()=>{(0,l.Z)("BoardlessPinsUpsell","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsUpsell.tsx")},[]);let e=(0,p.Z)(),t=(0,E.JI)();return(0,g.jsx)(A.a3,{eligibleIds:[503446],placementId:19,children:({complete:o,dismiss:l,experience:{display_data:i}})=>{let{button_text:a,images:n,subtitle:s,title:d}=i,c=n.map(e=>e["170x"]);return(0,g.jsx)(r.kC,{justifyContent:"center",children:(0,g.jsx)(r.xu,{maxWidth:960,paddingY:4,children:(0,g.jsx)(r.XA,{dismissButton:{accessibilityLabel:e.bt("Ignorar", "Dismiss", "profile.boardlessPinsUpsell.dismissButton", undefined, true),onDismiss:l},imageData:{component:(0,g.jsx)(z,{boardThumbs:c})},message:s,primaryAction:{label:a,accessibilityLabel:e.bt("Criar álbum", "Create board", "profile.boardlessPinsUpsell.createButton", undefined, true),onClick:()=>{t(!0),o()}},title:d})})})}})}var T=o(92481),Z=o(217616),I=o(882390);function S({boardlessPinsNormalized:e,boardlessPinsResource:t,hasBoards:o,hasBoardSuggestions:a,isOwnProfile:c,isRetrievalHub:u,user:f}){(0,i.useEffect)(()=>{(0,l.Z)("BoardlessPinsFeed","/app/common/react/components/profile/ProfileBoards/BoardlessPins/BoardlessPinsFeed.tsx")},[]);let h=(0,p.Z)(),m=(0,E.JI)(),b=(0,E.Fj)(),{hasSimplifiedPinGridExpLoaded:A}=(0,s.m)(),{logContextEvent:z}=(0,_.u)(),S=(0,n.TH)(),{experimentalGutterBoints:k}=(0,y.Z)(),{enabled:R}=(0,Z.Z)(),{checkExperiment:D}=(0,v.Z)(),H=S.pathname.includes(`/${T.qV}/`),O=(!u||u&&!H)&&c&&a,M=u&&[T.sz.enabled_with_unorganized_feed,T.sz.enabled_with_log_fix].includes(D("web_retrieval_hub_profile_split_").group),L=c&&e.length>=5&&!o,{data:F=[],fetchMore:N,isAtEnd:G}=t||{},U=()=>{z({event_type:101,view_type:4,view_parameter:M?3106:4047,component:14461,element:10612})},V=(0,g.jsx)(r.zx,{color:u?"tertiary":void 0,onClick:()=>{z({event_type:15237,element:10384}),m(!0),u&&U()},size:u?"lg":void 0,text:h.bt("Organizar", "Organize", "profileBoard.unorganizedIdeas.organizeButton", undefined, true)});return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsxs)(r.xu,{padding:0,children:[(!H||o&&H)&&(O||e.length>0)&&(0,g.jsx)(r.xu,{marginBottom:c&&u&&!H?0:7,marginTop:5,children:R?(0,g.jsx)(I.Z,{}):(0,g.jsx)(r.iz,{})}),o&&!H&&O&&(0,g.jsx)(x,{hasBoards:!0}),L&&(0,g.jsx)(B,{}),!o&&!H&&O&&(0,g.jsx)(x,{}),!H&&e.length>0&&(0,g.jsx)(i.Fragment,{children:c&&(!u||!H)&&(0,g.jsxs)(r.xu,{alignItems:"center","data-test-id":"unorganized-ideas-heading-container",display:"flex",justifyContent:"between",marginBottom:5,marginEnd:k,marginStart:k,marginTop:6,paddingX:2,children:[(0,g.jsx)(r.qd,{size:"400",children:h.bt("Ideias desorganizadas", "Unorganized ideas", "profileBoard.unorganizedIdeas.heading", undefined, true)}),!u&&V]})}),u&&!H&&(0,g.jsx)(w,{boardlessPins:F,openBoardlessModal:()=>{U(),m(!0)},organizeIdeasButton:V,user:f}),A&&(!u||H)&&(0,g.jsx)(C.Z,{isAtEndOfFeed:!!G,itemCount:e.length,children:(0,g.jsx)(P.default,{columnWidth:void 0,isGridCentered:!1,items:e,layout:"basic",loadItems:N,renderItem:({data:e,itemIdx:t})=>{let o=c?{type:"none"}:{type:"inline"};return(0,g.jsx)(j.Z,{duploQueryRef:null,pinId:e.id,saveButtonOptions:o,slotIndex:t,surface:"BoardlessPins",viewParameter:c?3106:3107,viewType:4})},serverRender:!0,virtualize:!1})})]}),!!e&&N&&e.length>0&&b&&(0,g.jsx)(d.Z,{boardlessPinsNormalized:e,fetchMore:N,hasBoards:o,onDismiss:e=>{m(!1),z({event_type:123,view_type:631,element:12284,aux_data:{step:e}})},userId:f.id})]})}var k=o(257680),R=o(249459),D=o(104999),H=o(935059),O=o(867342),M=o(830031),L=o(23641),F=o(774838),N=o(660322),G=o(661376),U=o(112658),V=o(893957),$=o(200619),W=o(601871),J=o(233165),q=o(477760),Q=o(328299);function K({type:e}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileBoardsGroupHeader","/app/www/profile/ProfileBoards/ProfileBoardsGroupHeader.tsx")},[]);let t=(0,p.Z)(),{experimentalGutterBoints:o}=(0,y.Z)();return(0,g.jsx)(r.xu,{marginEnd:o,marginStart:o,paddingX:2,children:(0,g.jsxs)(r.kC,{direction:"column",gap:1,children:[(0,g.jsxs)(r.qd,{size:"400",children:[((e,t)=>{switch(e){case"protected":return t.bt("Álbuns protegidos", "Protected boards", " - ", undefined, true);case"secret":return t.bt("Álbuns secretos", "Secret boards", " - ", undefined, true);case"archived":return t.bt("Álbuns arquivados", "Archived boards", "title for archived boards section on a profile", undefined, true);default:return""}})(e,t)," ",(0,g.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(e=>{if("archived"!==e&&"protected"!==e)return"lock"})(e),inline:!0,size:12})]}),(0,g.jsx)(r.xv,{inline:!0,size:"200",children:((e,t)=>{switch(e){case"protected":return t.bt("Os álbuns protegidos não são apresentados publicamente na tua página de perfil, mas qualquer pessoa pode aceder através do URL.", "Protected boards are not shown on your profile page publicly but anyone with the URL can view them.", " - ", undefined, true);case"secret":return t.bt("Apenas tu e as pessoas que convidares podem ver estes álbuns. ", "Only you and people you invite can see these boards. ", " - ", undefined, true);default:return""}})(e,t)}),"secret"===e&&(0,g.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=profile",underline:"hover",children:t.bt("Mais informações", "Learn more", " - ", undefined, true)})})]})})}var X=o(798385),Y=o(329577),ee=o(9065);let et=(0,ee.Z)(()=>Promise.all([o.e("19868"),o.e("95711")]).then(o.bind(o,724201)),void 0,e=>724201,"app-www-profile-ProfileBoards-ProfileBoards",e=>["19868","95711"]),eo=(0,ee.Z)(()=>Promise.all([o.e("19868"),o.e("95711"),o.e("79492")]).then(o.bind(o,440471)),void 0,e=>440471,"app-www-profile-ProfileBoards-ProfileBoardsList",e=>["19868","95711","79492"]);function el({allPinsStory:e,openCreateBoardModal:t,boardIds:o,boardOrder:a,group:n,isOverview:s,isOwnProfile:d,onBoardChange:c,onBoardGroupChange:u,onLoadMore:_,profileBoardView:p,showCreatorProfile:f}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileBoardGroup","/app/www/profile/ProfileBoards/ProfileBoardGroup.tsx")},[]);let h=(0,Y.WG)(),{checkExperiment:m}=(0,v.Z)(),x=(0,H.Z)(),b=(0,$.Z)(),w=(0,X.Z)(),{selfProfileBoardFilter:P}=h??{selfProfileBoardFilter:void 0},y=(0,W.Ms)(x,b),C=w[y??""]?.is_gco_account,j=d&&C&&m("dweb_presence_safe_refactor_board_reordering").anyEnabled,A={allPinsStory:e,openCreateBoardModal:t,boardIds:o,boardOrder:a,group:n,isOverview:s,isOwnProfile:d,layout:p,onBoardArchiveChange:u,onBoardDelete:c,onBoardLeave:u,onBoardPrivacyChange:u,onBoardReorder:c,onBoardUpdate:c,onLoadMore:_},E=j?(0,g.jsx)(eo,{...A}):(0,g.jsx)(et,{...A,showCreatorProfile:f});return"unlabeled"===n?E:(0,g.jsx)(r.xu,{marginBottom:6,marginTop:6,overflow:"hidden",children:(0,g.jsxs)(r.kC,{direction:"column",gap:1,children:[("archived"!==n||P!==Y.ET.ARCHIVED)&&(0,g.jsx)(K,{type:n}),E]})})}var ei=o(158502),er=o(331534),ea=o(761134),en=o(160587),es=o(830949);function ed(e,t,o){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var l=o.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let ec=(0,ee.Z)(()=>o.e("76696").then(o.bind(o,428038)),void 0,e=>428038,"app-common-react-components-profile-ProfileBoards-RecentlyDeletedBoards",e=>["76696"]);function eu(e){return["archived","protected","secret","unlabeled"].includes(e)}function e_({isAtEndOfFeed:e}){return(0,O.Z)({isAtEndOfFeed:e,includeBackgroundImages:!0}),null}class ep extends i.PureComponent{constructor(...e){super(...e),ed(this,"state",{boardsResourceAnnotationAdded:!1,isCreateBoardModalOpen:!1}),ed(this,"feedIsStale",!1),ed(this,"handleBoardChanged",()=>{this.feedIsStale=!0}),ed(this,"handleBoardGroupChange",()=>this.props.boardsResource.refresh()),ed(this,"openCreateBoardModal",()=>{this.setState({isCreateBoardModalOpen:!0})}),ed(this,"closeCreateBoardModal",()=>{this.setState({isCreateBoardModalOpen:!1})})}componentDidUpdate(e){let{boardsResource:t}=this.props;t.isLoaded&&(e.boardsResource.data||[]).length>(t.data||[]).length&&window.scroll(0,0)}static getDerivedStateFromProps(e,t){let{boardsResource:o,pwtSurfaceContext:l}=e,{boardsResourceAnnotationAdded:i}=t;return o.isLoaded&&l&&!i?(l.addAnnotation("profileBoards.boardsResourceLoaded"),(0,L.Xr)("profileBoards.boardsResourceLoaded"),{boardsResourceAnnotationAdded:!0}):null}componentWillUnmount(){let{invalidateFeeds:e,invalidateRetrievalHubFeed:t,isRetrievalHub:o}=this.props;this.feedIsStale&&e(),o&&t()}renderAllBoardsGroups(e){let{boardOrder:t,boardlessPinsNormalized:o,boardsResource:l,filterStories:i,isOwnProfile:a,isOverview:n,mixPublicSecret:s,profileBoardView:d,user:c,isRetrievalHub:u,isBoardCreateExperiment:_,isProfilePreviewPage:p,selfProfileBoardFilter:f}=this.props,{fetchMore:h,isAtEnd:m,isLoaded:x}=l,{is_partner:b,show_creator_profile:w}=c,P=!i&&l.data&&l.data.length>0&&"all_pins"===l.data[0].story_type?l.data[0]:null,y=(l.data?.length||0)>0&&m&&"ARCHIVED"!==f&&_?this.openCreateBoardModal:null,v=P&&1===(l.data||[]).length;if((l.data||[]).length>0&&0===e.length&&!v)return(0,g.jsx)(r.xu,{padding:6,children:(0,g.jsx)(r.xH,{accessibilityLabel:this.props.i18n.bt("Álbuns", "Boards", "profileBoards.spinner", undefined, true),show:!0})});let C=(o||[]).length>0;if(u&&!p&&0===e.length)return(0,g.jsx)(ea.Z,{filter:f,surface:"boards"});if(0===e.length&&!v&&!C)return(0,g.jsx)(er.Z,{fullName:c.full_name,isOwnProfile:a,isPartnerProfile:b});let j=e.reduce((e,{id:t,profileGroup:o})=>{let l;return l="public"===o||s&&"secret"===o||"ARCHIVED"===f&&"archived"===o?{unlabeled:e.unlabeled.concat([t])}:{[o]:e[o].concat([t])},{...e,...l}},{unlabeled:[],protected:[],secret:[],archived:[]}),A=["protected","secret","archived"].filter(e=>eu(e)&&j[e].length>0),E=i?d:"square",z=()=>{!x||n||m||h()};return C&&v?null:(0,g.jsx)(r.xu,{overflow:"hidden",children:["unlabeled"].concat(a&&!n?A:[]).map(e=>(0,g.jsx)(el,{allPinsStory:"unlabeled"===e&&P?.type==="story"?P:null,boardIds:eu(e)?j[e]:[],boardOrder:t,group:e,isOverview:!!n,isOwnProfile:a,onBoardChange:this.handleBoardChanged,onBoardGroupChange:this.handleBoardGroupChange,onLoadMore:z,openCreateBoardModal:y,profileBoardView:E,showCreatorProfile:!!w},e))})}render(){let{boardKeys:e,i18n:t,isBoardlessProfileEnabled:o,isOwnProfile:l,isOverview:i,handleBoardCreate:a,boardlessPinsNormalized:n,boardlessPinsResource:s,boardsResource:d,selfProfileBoardFilter:c,showRecentlyDeletedBoards:u,user:_,isProfilePreviewPage:p,isRetrievalHub:f=!1,retrievalHubExpGroup:h}=this.props,{data:m,isFetching:x,isLoaded:b,isAtEnd:w}=d,{isLoaded:P,isAtEnd:y}=s||{},C=!!m&&m.length>0&&"all_pins"===m[0].story_type,j=!!m&&m.length>0&&("wishlist_shop_your_products_story"===m[0].story_type||m[1]?.story_type==="wishlist_shop_your_products_story"),A=!!m&&((C||j)&&m.length>1||!C&&m.length>0),E=o?P&&b:b,z=(n||[]).length>0&&s?.data||_.has_pin_clusters,{checkExperiment:B}=(0,v.Z)(),Z="SECRET"===c?R.Z.BoardPrivacy.SECRET:void 0;return(0,g.jsx)(U.Z,{component:209,view:4,viewParameter:l?3106:3107,children:(0,g.jsxs)(r.xu,{marginBottom:12,children:[b&&this.renderAllBoardsGroups(i?e.slice(0,6):e),this.state.isCreateBoardModalOpen&&(B("dweb_board_create_glowup").anyEnabled?(0,g.jsx)(q.Z,{boardCreateSource:"profile",initialValues:{privacy:Z},onBoardCreate:a,onClose:this.closeCreateBoardModal}):(0,g.jsx)(J.Z,{boardCreateSource:"profile",onBoardCreate:a,onClose:this.closeCreateBoardModal,privacy:Z,shouldShowAddCollaborators:!0})),(0,g.jsx)(r.xu,{padding:6*!!x,children:(0,g.jsx)(r.xH,{accessibilityLabel:t.bt("Álbuns", "Boards", "List of boards on the users profile page", undefined, true),show:x})}),E&&(0,g.jsx)(e_,{isAtEndOfFeed:!!(o?y&&w:w)}),z&&(0,g.jsx)(S,{boardlessPinsNormalized:n,boardlessPinsResource:s,hasBoards:A,hasBoardSuggestions:!!_.has_pin_clusters,isOwnProfile:l,isRetrievalHub:h!==T.sz.enabled_with_unorganized_feed&&f,user:_}),u&&!p&&(0,g.jsx)(ec,{refreshBoardsFeed:()=>d.refresh()})]})})}}function ef(e){(0,i.useEffect)(()=>{(0,l.Z)("ProfileBoards","/app/common/react/components/profile/ProfileBoards/ProfileBoards.tsx")},[]);let t=(0,p.Z)(),{id:o}=e.user,r=(0,H.Z)(),s=(0,n.TH)(),d=(0,n.s0)(),c=r.isAuth?r.username:"",u=(0,$.Z)(),_=(0,W.lJ)(r,u),f=(0,Y.WG)(),{checkExperiment:h}=(0,v.Z)(),m=(0,D.Z)(),{isRetrievalHub:x=!1,user:{is_partner:b},isOwnProfile:w}=e,{selfProfileBoardFilter:P}=f??{selfProfileBoardFilter:void 0},y=!1===b&&w&&s.pathname.includes(`/${c}/${T.qV}`)&&h("web_retrieval_hub_profile_split_").anyEnabled,C=!1===b&&w?h("web_retrieval_hub_profile_split_").group:void 0,j=w&&!y&&h("web_curation_board_create_entry_points").anyEnabled;P&&m({event_type:101,view_type:4,view_parameter:x&&[T.sz.enabled_with_unorganized_feed,T.sz.enabled_with_log_fix].includes(C||"")?3106:4047,component:14461,element:14264,aux_data:{profile_filter:P}});let A=e.isOverview||e.inActivityView?"xxWide":e.isOwnProfile&&f?.profileBoardView||"wide",{boardlessPinsEnabled:E}=(0,Q.Xt)(o),z=Y.UQ[P??"NONE"],B={name:"BoardsResource",key:"boardsResource",options:{...e,sort:e.boardOrder,field_set_key:"profile_grid_item",username:c,isRetrievalHub:!0,redux_normalize_feed:!0,filter_types:z,privacyFilter:y?"public":"all"}},Z={name:ei.O.name,options:ei.O.options({...e,filterAllPins:x&&!y,privacyFilter:y?"public":"all"},_)},I=(0,G.Z)(x&&P?B:Z),S=(0,G.Z)(E?{name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:o}}:null),R=(0,a.v9)(({feeds:e})=>e[`boardless-pins:${o}`])||[],O=(0,a.v9)(t=>{let{username:o,boardOrder:l}=e;return(((e,t)=>{let o=`profileBoards:${(0,es.Z)(t.username,t.boardOrder,t.filter)}`;return e.feeds[o]})(t,{username:o,boardOrder:l,filter:z!==Y.UQ.NONE?z.toString():void 0})||[]).reduce((e,t)=>{let o="board"===t.type,l="onProfile"in t&&t.onProfile,i=!y||!("profileGroup"in t)||"public"===t.profileGroup;return e.concat(o&&l&&i?[t]:[])},[])}),L=(0,a.I0)();return(0,V.Z)(()=>{m({event_type:13,view_parameter:e.isOwnProfile?3106:3107,view_type:4,component:209})}),(0,g.jsx)(ep,{...e,boardKeys:O,boardlessPinsNormalized:R,boardlessPinsResource:S,boardsResource:I,handleBoardCreate:e=>{let t=_&&(0,k.Z)(e.privacy)?`?orbac_subject_id=${_}`:"";L((0,N.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),d(`${e.url||""}${t}`,{state:{newBoard:!0}})},i18n:t,invalidateFeeds:()=>L((0,en.K8)(c)),invalidatePinBetterSaveResource:()=>L((0,N.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),invalidateRetrievalHubFeed:()=>L((0,N.jB)("BoardsResource",ei.O.options({...e,filterAllPins:x&&!y}))),isBoardCreateExperiment:j,isBoardlessProfileEnabled:E,isProfilePreviewPage:y,isSelfPrivateProfile:x,profileBoardView:A,pwtSurfaceContext:(0,M.A)(),requestContext:(0,F.B)(),retrievalHubExpGroup:C,selfProfileBoardFilter:P,showRecentlyDeletedBoards:w})}ed(ep,"defaultProps",{boardKeys:[]});var eh=o(582857),em=o(770218),eg=o(378512),ex=o(113463),eb=o(920343),ew=o(171039);let eP=(0,i.lazy)(()=>o.e("89638").then(o.bind(o,763994)));function ey({username:e}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileBoardsPage","/app/common/react/components/profile/ProfileBoards/ProfileBoardsPage.tsx")},[]);let t=(0,F.B)(),{checkExperiment:o}=(0,v.Z)(),a=(0,H.Z)(),n=(0,$.Z)(),s=(0,i.useRef)(null),[,d]=(0,i.useState)(!1);(0,i.useLayoutEffect)(()=>{d(!0)},[]);let[c,u]=(0,i.useState)(!1),_=(0,Y.WG)()?.boardSortOrder.get(e||"")??"",{data:p}=(0,ew.Z)(),{data:f}=(0,G.Z)({name:"UserMetadataResource",options:{user:{id:e}}});if(!p||!f)return null;let{most_recent_board_sort_order:h}=f,{has_custom_board_sorting_order:m=!1}=p,x=(0,eb.Z)({user:p,viewer:a}),b=(0,W.q6)(a,p.id,n),w=a.isAuth&&void 0!==a.groupBoardCount&&a.groupBoardCount>0,P=(0,eg.Z)({hasCustomOrder:m,hasGroupBoard:w,isOwnProfile:x||b,mostRecentBoardSortOrder:h||void 0,updatedBoardOrder:_,requestContext:t}),y=!1===p.is_partner&&x&&o("web_retrieval_hub_profile_split_").anyEnabled,C=!y&&(x||b);return(0,g.jsxs)(r.kC,{direction:"column",gap:{row:0,column:2},children:[C&&(0,g.jsx)(r.xu,{paddingX:4,children:(0,g.jsxs)(r.kC,{justifyContent:"between",children:[(x||b)&&(0,g.jsx)(r.xu,{ref:s,children:(0,g.jsx)(em.Z,{setVisibilityControlsModalOpen:u,user:p})}),(x||b)&&(0,g.jsx)(eh.Z,{currentTab:ex.un.SAVED})]})}),(0,g.jsx)(ef,{boardOrder:P,filterStories:!1,isOwnProfile:x||b,isRetrievalHub:y,mixPublicSecret:x||b,user:p,username:p.username}),c&&(0,g.jsx)(i.Suspense,{children:(0,g.jsx)(eP,{setVisibilityControlsModalOpen:u})})]})}var ev=o(329894),eC=o(520803);function ej(){(0,i.useEffect)(()=>{(0,l.Z)("ProfileSavedContainer","/app/common/react/components/profile/ProfileSaved/ProfileSavedContainer.tsx")},[]);let{data:e}=(0,ew.Z)(),t=(0,eC.Z)();return(0,ev.S)(t.params.username,e?.id,13669),(0,g.jsx)(ey,{username:t.params.username})}},169166:function(e,t,o){o.d(t,{Z:()=>l});let l=(0,o(667294).createContext)(null)},506807:function(e,t,o){o.d(t,{Z:()=>l});let l=(0,o(667294).createContext)(null)},495839:function(e,t,o){o.d(t,{Z:()=>I});var l=o(686659),i=o(667294),r=o(970414),a=o(687412),n=o(774303),s=o(705460),d=o(830031),c=o(267398),u=o(381571),_=o(217472),p=o(780657),f=o(139876),h=o(87980),m=o(240083),g=o(296264),x=o(23641),b=o(774838),w=o(178355),P=o(767415),y=o(785893);let v=["initial_app_load","client_route_push"],C=(0,n.XV)("PwtSurface"),j="NavigationComplete",A="VisuallyComplete",E=()=>{(0,u._T)()},z=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let o=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t])),{metricConfig:{metricId:l,pwtStaticContext:i,annotateExperiments:r},annotations:n,binaryAnnotations:d,constraintMap:_,startTime:p,imageTimings:f,spans:m,traceId:g}=e;(0,x.uj)(`Report_PWT_Complete_${(0,a.KJ)(l)}`,p,o);let b=(0,c.W)({annotateExperiments:[...r??[]],annotations:n,binaryAnnotations:d,constraintMap:_,endTime:o,imageTimings:f,metricId:l,pwtStaticContext:i,startTime:p,traceId:g,spans:m});try{var t=String(b.binaryAnnotationMap["metricId.surface"].value);let e=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let o=t.name.replace(".jpg","").split("/");return{[o[o.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(t=>{let o=t.src.replace(".jpg","").split("/"),l=o[o.length-1];if(e[l]){let o=(0,h.rZ)(t)?.width||1,i=e[l].downloadSize;return{fileName:l,renderedSize:o,downloadedSize:i,ratio:i/o}}return{fileName:l,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(t=>{let o=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),l=o[o.length-1];if(e[l]&&t instanceof HTMLDivElement){let o=(0,h.rZ)(t)?.width||1,i=e[l].downloadSize;return{fileName:l,renderedSize:o,downloadedSize:i,ratio:i/o}}return{fileName:l,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(e=>{let{ratio:o,fileName:l,downloadedSize:i}=e;e.ratio>1.05&&(0,s.A9)(`checkImageRatio.${t}`,{count:Math.round(10*o)/10,tags:{fileName:`${i}_${l}`}})})}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return(0,u._T)(),{...e,result:b,status:"DONE"}}return C(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},B=(e,t)=>{let{constraint:o,time:l}=t,i=(0,a.KJ)(e.metricConfig.metricId);return g.Z?e.metricConfig.constraints.find(e=>e===o)?e.constraintMap[o]?(C(`constraint "${o}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:o,action:i}),e):(C(`marking constraint "${o}" as complete ${l||performance.now()}`),l?(0,x.Xr)(`constraint_${o}_is_complete`,l):(0,x.Xr)(`constraint_${o}_is_complete`),z({...e,constraintMap:{...e.constraintMap,[o]:l||g.Z.now()}})):(C(`marked constraint "${o}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:i}),e)},T=(e,t)=>{if(C("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{let{metricConfig:o,startTime:l,isSampled:i,disablePWTLogging:r}=t;if(r||"TIMING"!==e.status||l===e.startTime||E(),!o)return{status:"DISABLED",metricConfig:null};let n=(0,a.KJ)(o.metricId);if("TIMING"===e.status&&e.startTime===l&&e.constraintMap[j])return(0,s.H)("duplicated_init_route_action",{action:n}),e;if(!r){let e=(0,w.H)();(0,s.A9)(`handler.${n}`,{tags:{handler:e}});let t=void 0!==o.metricId.isAuthenticated&&{tags:{isAuth:o.metricId.isAuthenticated}}||void 0;"Other"===o.pwtStaticContext.browserName&&!1===o.metricId.isAuthenticated&&"initial_app_load"===o.metricId.navigationType?((0,s.A9)(`TIMING.${n}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${n}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.A9)(`TIMING.${n}`),(0,s.A9)(`TIMING.sampled.${n}`,{sampleRate:.03})),(0,_.C)({resultLog:`TIMING.${n}`,annotateExperiments:o.annotateExperiments||[],getExperimentGroup:o.pwtStaticContext.getExperimentGroup,options:t})}return B({traceId:(0,u.vc)()||(0,u.ZP)("initial_app_load"===o.metricId.navigationType,o.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:o,startTime:l,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:i,spans:[]},{constraint:j,disablePWTLogging:r})})(e,t.payload);if("TIMING"!==e.status)return C(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":E();let o={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:o};case"ANNOTATE":let{name:l}=t.payload;if(!g.Z)return e;let i=g.Z.now();return C(`adding annotation {${l}: ${i}}`),{...e,annotations:{...e.annotations,...{[l]:i}}};case"BINARY_ANNOTATE":let{name:r,value:n,annotationType:d}=t.payload;return C(`adding binary annotation {${r}: ${n}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[r]:{value:n,type:d}}}};case"MARK_CONSTRAINT_COMPLETE":return B(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!g.Z){let t=(0,a.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}C(`removing constraint "${t}"`);let o=e.metricConfig.constraints.filter(e=>e!==t),{[t]:l,...i}=e.constraintMap;return z({...e,constraintMap:i,metricConfig:{...e.metricConfig,constraints:o}})})(e,t.payload);case"SET_SEGMENT":var c=t.payload;if(!g.Z){let t=(0,a.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}C(`updating pwt segment to "${c}"`);let p={...e.metricConfig.metricId,segment:c};return{...e,metricConfig:{...e.metricConfig,metricId:p}};case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:o}}=t;if(0===o.length)return E(),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let l=Math.max(...o.map(e=>e.responseEnd||0));return B({...e,imageTimings:o},{constraint:A,time:l})}case"ADD_SUBSPAN":let{startTime:f}=e,{payload:{name:h,startTime:x,endTime:b,annotations:P,binaryAnnotations:y,parentId:v}}=t;return{...e,spans:[...e.spans,{name:h,id:(0,m.Z)(),startTime:x||f,endTime:b,annotationMap:{...P},binaryAnnotationMap:{...y},parentId:v}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,m.Z)(),startTime:g.Z?g.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let T=e.spans.findIndex(e=>e.name===t.payload.name);return T>-1?(e.spans[T].endTime=g.Z?g.Z.now():0,t.payload.annotations&&(e.spans[T].annotationMap={...e.spans[T].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[T].binaryAnnotationMap={...e.spans[T].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let Z=(0,a.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:Z}),e}},Z=new Set;function I({children:e,...t}){(0,i.useEffect)(()=>{(0,l.Z)("PwtSurface","/app/packages/pwt-logger/PwtSurface.tsx")},[]);let o=(0,p.Z)(),n=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(o),c=t.measureGridVisuallyComplete?["web_masonry_v2"]:[],u=[...t.annotateExperiments??[],...c],{context:_}=(({surface:e,constraints:t,segment:o,measureGridVisuallyComplete:l,annotateExperiments:a,customEnabledNavigationTypes:n,navigationInfo:{clientNavigation:s,navigationType:d},sampleRate:c})=>{let u=(0,i.useRef)("NOT_SET"),_=(0,f.Z)(),{getState:p,dispatch:h}=((e,t)=>{let o=(0,i.useRef)(t);return{getState:()=>o.current,dispatch:t=>{o.current=e(o.current,t)}}})(T,{status:"DISABLED",metricConfig:null}),m=(0,b.B)();if(u.current!==s&&(u.current=s,_)){let{isAuthenticated:i}=_,r=e&&d&&(n||v).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:i,segment:o},annotateExperiments:a,constraints:[j,...t||[],...l?[A]:[]],pwtStaticContext:_}:null;(0,P.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:i}});let u=!Z.has(s);h({type:"INIT_ROUTE",payload:{metricConfig:r,startTime:s?s.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!u}}),u&&Z.add(s)}let x=p();if((0,i.useEffect)(()=>()=>{Z.delete(s)},[s]),(0,i.useEffect)(()=>{let e=e=>{h({type:"ABORT",reason:e})};r.Z.onSessionPause(e);let t=window.innerHeight,o=window.innerWidth,l=()=>{let e=Math.abs(window.innerHeight-t),i=Math.abs(window.innerWidth-o),r=window.innerHeight!==t,a=window.innerWidth!==o,n={handler:(0,w.H)(),deviceType:_?.deviceType??"unknown",isAuthenticated:_?.isAuthenticated??"unknown",platform:m.userAgent.platform??"unknown"};if((0,P.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...n,heightChanged:r,widthChanged:a}}),r&&(0,P.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:n}),a&&(0,P.S0)("webapp.PwtLogger.resizeWidthDelta",i,{sampleRate:1,tags:n}),window.removeEventListener("resize",l),_?.deviceType==="phone"&&(!a&&r&&e<=150||!r&&!a)||_?.deviceType==="desktop"&&!r&&!a)return void(0,P.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...n,heightChanged:r,widthChanged:a}});h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",l),()=>{let t=p();C("handling unmount",t),"TIMING"===t.status&&E(),r.Z.removePauseListener(e),window.removeEventListener("resize",l)}},[]),"TIMING"!==x.status||!x.constraintMap[j])return{state:x,context:null};let{startTime:y,metricConfig:z}=x;return{state:x,context:{abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,o)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:o}}),addSubspan:(e,t,o,l={},i={},r=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:o,annotations:l,binaryAnnotations:i,parentId:r}}),getId:()=>y,getMetricId:()=>z.metricId,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:g.Z?g.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:z.constraints.includes(A)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},o={},l=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:l}}),stopSubspan:(e,t={},o={},l=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:l}})}}})({...t,annotateExperiments:u,navigationInfo:{navigationType:n,clientNavigation:o}}),h=(0,d.A)(),m=!!h;return(0,i.useEffect)(()=>{if(m){let e=h?.getMetricId(),t=e?(0,a.KJ)(e):null;(0,s.H)("nested_pwt_surface",{action:t})}},[m]),(0,y.jsx)(d.S,{value:_,children:e})}},830031:function(e,t,o){o.d(t,{A:()=>i,S:()=>l});let{Provider:l,getMaybe:i}=(0,o(213491).Z)("pwtSurfaceContext")},780657:function(e,t,o){o.d(t,{Z:()=>r});var l=o(667294),i=o(169166);function r(){return(0,l.use)(i.Z)}},139876:function(e,t,o){o.d(t,{Z:()=>r});var l=o(667294),i=o(506807);function r(){return(0,l.use)(i.Z)}},381500:function(e,t,o){function l(e){return e===window?window.innerHeight:e.clientHeight}function i(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function r(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function a(e){return e===window?i():e.scrollTop}o.d(t,{MX:()=>a,S$:()=>i,Uy:()=>l,aZ:()=>r})},439048:function(e,t,o){o.d(t,{Z:()=>u});var l=o(686659),i=o(667294),r=o(740097),a=o(24246),n=o(774838),s=o(113759),d=o(785893);let c=({onClick:e,showShadow:t,size:o="lg",onMouseEnter:l})=>{let n=(0,a.Z)();return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{animation:t?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},onMouseEnter:l,rounding:"circle",children:(0,d.jsx)(r.hU,{accessibilityLabel:n.bt("Anterior", "Back", "backButton.accessibilityLabel", undefined, true),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:e,size:o})},"back-button-icon")})};function u({handleScroll:e,left:t=-12,marginTop:o,onClick:a,showShadow:u,onMouseEnter:_,size:p="xl"}){(0,i.useEffect)(()=>{(0,l.Z)("BackButton","/app/packages/ui/BackButton.tsx")},[]);let{closeupWithinMasonryEnabled:f}=(0,s.x4)(),{isRTL:h}=(0,n.B)();return(0,i.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[e]),(0,d.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...h?{right:0}:{left:f?0:t}}},"data-test-id":"back-button",display:"flex",position:"relative",children:(0,d.jsx)(c,{marginTop:o,onClick:a,onMouseEnter:_,showShadow:u,size:p})})}},17658:function(e,t,o){o.d(t,{Z:()=>i});var l=o(667294);function i(e,t){let o=(0,l.useRef)([]),[i,r]=(0,l.useState)(),[a,n]=(0,l.useReducer)(i??(()=>t),t),s=(0,l.useCallback)(t=>{i?n(t):(o.current.length||e().then(e=>{r(()=>e.default)}),o.current=[...o.current,t])},[e,i]);return(0,l.useEffect)(()=>{i&&(o.current.forEach(n),o.current=[])},[i]),[a,s]}},614400:function(e,t,o){o.d(t,{Z:()=>l});function l(e=0){return new Promise(t=>setTimeout(t,e))}},959327:function(e,t,o){o.d(t,{Z:()=>i,j:()=>l});let l=8,i=369},264267:function(e,t,o){o.d(t,{pb:()=>b,nf:()=>w,lV:()=>P});var l=o(667294),i=o(581722),r=o(441143),a=o.n(r),n=o(27399),s=o(213491),d=o(47755),c=o(57887),u=o(360033),_=o(730056);let p={feature_map:Object.freeze({})},f=(e,t)=>{let o={...(0,_.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,u.ZP)(e,o)?e:o},h=(e,t)=>{if(e=e||p,"FETCH_COMPLETE"===t.type){let{payload:{resource:o,options:l={}}}=t,{data:i}=t.payload.response.resource_response;if("AggregatedCommentReplyFeedResource"===o||"ApiResource"===o&&l.url===`/v3/aggregated_comments/${l.data?.aggregated_comment}/replies/`||"ApiResource"===o&&l.url===`/v3/aggregated_pin_data/${l.data?.aggregated_pin_data}/comments/`||"DidItCommentsResource"===o){let t=(i||[]).reduce((t,o)=>(t[o.id]=f(e[o.id],o),t),{});return{...e,...t}}if("UnifiedCommentsResource"===o&&i&&i.length>0){let t=i.filter(e=>"aggregatedcomment"===e.type).reduce((t,o)=>(t[o.id]=f(e[o.id],o),t),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===o&&i&&i.length>0){let t=i.map(e=>e.aggregated_comment).reduce((t,o)=>(o&&(t[o.id]=f(e[o.id],o)),t),{}),o=i.map(e=>e.creator_reply).reduce((t,o)=>(o&&o.id&&(t[o.id]=f(e[o.id],o)),t),{});return{...e,...t,...o}}if("ApiResource"===o&&"/v3/aggregated_comments/features/"===l.url&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:o}}=t;return o.id?{...e,[o.id]:o}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:o}}=t,l={...e};return delete l[o],l}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:o}}=t;return Object.fromEntries(Object.entries(e??{}).filter(e=>e[1].user?.id!==o))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:o}}=t;return{...e,[o.id]:f(e?.[o.id],o)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:o}}=t,l=e?.[o.id],i=l?.reaction_counts[1]||0,r={1:o.reaction_by_me?i+1:i-1},a={...l,reaction_by_me:o.reaction_by_me,reaction_counts:r};return{...e,[o.id]:a}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:o}}=t,l=e?.[o.id],i=l?.helpful_count||0,r=o.marked_helpful_by_me?i+1:i-1,a={...l,marked_helpful_by_me:o.marked_helpful_by_me,helpful_count:r};return{...e,[o.id]:a}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:o}}=t,l={...e?.[o.aggregated_comment_id],highlighted_by_pin_owner:o.is_highlighted};return{...e,[o.aggregated_comment_id]:l}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:o}}}=t;return{...e,feature_map:{...e?.feature_map,...o}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:o,id:l}}=t,i=e?.[l];if(!i)return e;let r={...i,comment_count:i.comment_count+o};return{...e,[l]:r}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:o,tagged_users:l}}=t,i={...e?.[o],tagged_users:l};return{...e,[o]:i}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:o,translatedText:l}}=t,i={...e?.[o],translatedText:l};return{...e,[o]:i}}return e};var m=o(785893);let{Provider:g,get:x}=(0,s.Z)("AggregatedComments");function b({children:e}){let t=(0,i.v9)(({resources:e})=>e?.UnifiedCommentsResource),o=p;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),l=t?.reduce((e,t)=>(e[t.id]=f(o[t.id],t),e),{});o={...o,...l}});let[r,a]=(0,l.useReducer)(h,o),n=e=>{a({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentReplyFeedResource",n),(0,c.my)("AggregatedCommentReplyFeedResource",n),(0,c.Z8)("ApiResource",n),(0,c.my)("ApiResource",n),(0,c.Z8)("DidItCommentsResource",n),(0,c.my)("DidItCommentsResource",n),(0,c.Z8)("UnifiedCommentsPreviewResource",n),(0,c.my)("UnifiedCommentsPreviewResource",n),(0,c.Z8)("UnifiedCommentsResource",n),(0,c.my)("UnifiedCommentsResource",n);let s=(0,l.useMemo)(()=>({aggregatedComments:r,dispatch:a}),[r,a]);return(0,m.jsx)(g,{value:s,children:e})}function w(){let{dispatch:e}=x();return(0,l.useMemo)(()=>({aggregatedCommentCreated(t,o){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:o}})},aggregatedCommentDeleted:(t,o)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:o}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({isAggregatedComment:e=!0,commentId:t,reason:o,detailedReasons:l})=>e?(0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/flag/",urlParams:{aggregated_comment:t},method:"PUT",data:{reason:o,detailed_reasons:l}}):(0,d.Z)({url:"/v3/did_it/{user_did_it_data}/flag/",urlParams:{user_did_it_data:t},method:"PUT",data:{reason:o,detailed_reasons:l}}),deleteCommentMention:async t=>{let{resource_response:o}=await (0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/mentions/",urlParams:{aggregated_comment:t},method:"DELETE"}),l=o.data;l?.id&&e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:l.id,tagged_users:l.tagged_users??[]}})},translateAggregatedComment:async t=>{try{let{resource_response:o}=await (0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/translate/",urlParams:{aggregated_comment:t},method:"GET"}),l=o.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:l}})}catch(o){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:o,orbacSubjectId:l})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:o?"DELETE":"POST",data:l?{orbac_subject_id:l}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!o}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:o,isHighlighted:l})=>{a()(t,"Could not find comment"),a()(o,"Could not find Pin"),await (0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:o,highlight:!l}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:o,is_highlighted:!l}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:o,orbacSubjectId:l})=>{(0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/react/",urlParams:{aggregated_comment:t},method:o?"DELETE":"POST",data:{reaction_type:1,...l?{orbac_subject_id:l}:{}}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:+!o}}})},updateAggregatedComment:async({commentId:t,force:o,orbacSubjectId:l,tags:i,text:r})=>{let{resource_response:a}=await n.Z.create("AggregatedCommentResource",{commentId:t,force:o,tags:i,text:r,...l?{orbacSubjectId:l}:{}}).callUpdate({showError:!1}),{tagged_users:s}=a.data??{};e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:s.map(e=>({...e})),tags:JSON.parse(i),text:r}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:o,passcode:l,userConfirmPasscode:i})=>{let{resource_response:r}=await (0,d.Z)({url:"/v3/aggregated_comments/features/",method:"PUT",data:{user:t,feature_map:JSON.stringify(o),passcode:l,user_confirm_skip_passcode:i??!1}});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:r.data??Object.freeze({})}}})},updateCommentCount:(t,o)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:o,id:t}})}}),[e])}function P(){let{aggregatedComments:e}=x();return e}},488661:function(e,t,o){o.d(t,{HW:()=>n,MS:()=>u,i3:()=>_});var l=o(667294),i=o(213491),r=o(510755),a=o(785893);let n=r.fe+1,s={educationId:null,paddingRight:0,zIndex:n};function d(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:o}=t.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:l}=t.payload;return{...e,paddingRight:l};case"FOOTER_SET_Z_INDEX":let{zIndex:i}=t.payload;return{...e,zIndex:i};default:return e}}let{Provider:c,get:u}=(0,i.Z)("footerContext");function _({children:e}){let[t,o]=(0,l.useReducer)(d,s),i=(0,l.useCallback)(e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),r=(0,l.useCallback)(e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),n=(0,l.useCallback)(e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,l.useMemo)(()=>({...t,setEducationId:r,setPaddingRight:i,setZIndex:n}),[t,r,i,n]);return(0,a.jsx)(c,{value:u,children:e})}},872003:function(e,t,o){o.d(t,{G:()=>_,Kl:()=>p,vo:()=>u});var l=o(667294),i=o(213491),r=o(57887),a=o(17658),n=o(785893);let s=()=>o.e("65333").then(o.bind(o,557189)),{Provider:d,get:c}=(0,i.Z)("NativeEngagements");function u({children:e}){let[t,o]=(0,a.Z)(s,[]);(0,r.Z8)("NativeInteractionsResource",e=>{o({type:"FETCH_COMPLETE",payload:e})}),(0,r.my)("NativeInteractionsResource",e=>{o({type:"FETCH_MORE_COMPLETE",payload:e})});let i=(0,l.useMemo)(()=>({dispatch:o,nativeEngagements:t}),[o,t]);return(0,n.jsx)(d,{value:i,children:e})}function _(){let{dispatch:e}=c();return(0,l.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function p(){let{nativeEngagements:e}=c();return e}},430583:function(e,t,o){o.d(t,{Z:()=>a,b:()=>r});var l=o(173874);let i=[l.isBusinessAccountConvertPage,l.isBusinessInvitePage,l.isCreatePinPage,l.isLoginPage,l.isOAuthPage,l.isAppFactoryOAuthPage,l.isAgeAppealPage,l.isPinToBoardPage,l.isStoryboardPage,l.isCommerceIntegrationsConnectPage];function r(e,t){return(t?i:[...i,l.isCollageCreationPage]).every(t=>!t(e))}function a(e){return i.every(t=>!t(e))}},883097:function(e,t,o){o.d(t,{US:()=>m,X2:()=>x,mW:()=>g});var l=o(667294),i=o(27399),r=o(104999),a=o(213491),n=o(702763),s=o(57887),d=o(17658),c=o(785893);let u=()=>o.e("14197").then(o.bind(o,974429));function _(e,t,o=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:o}}}function p(e){return i.Z.create("InterestFollowResource",{interest_id:e,interest_list:n.X})}let{Provider:f,get:h}=(0,a.Z)("Topics");function m({children:e}){let[t,o]=(0,d.Z)(u,{}),i=e=>{o({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,s.Z8)("InterestFollowingResource",i),(0,s.Z8)("InterestResource",i);let r=(0,l.useMemo)(()=>({dispatch:o,topics:t}),[o,t]);return(0,c.jsx)(f,{value:r,children:e})}function g(){let{dispatch:e}=h(),t=(0,r.Z)();return(0,l.useMemo)(()=>({follow:async(o,l=!1)=>{e(_(o,!0,l));try{await p(o).callCreate({showError:!1}),t({event_type:601,object_id_str:o})}catch(t){e(_(o,!1,l))}},unfollow:async o=>{e(_(o,!1));try{await p(o).callDelete({showError:!1}),t({event_type:602,object_id_str:o})}catch(t){e(_(o,!0))}}}),[e,t])}function x(){let{topics:e}=h();return e}},217616:function(e,t,o){o.d(t,{Z:()=>n});var l=o(312048),i=o(935059),r=o(173874),a=o(430583);function n(){let e=(0,i.Z)(),t=(0,l.TH)();return{enabled:(0,a.Z)(t)&&e.isAuth&&!e.isPartner&&!(0,r.isEmailUnsubscribePage)(t)}}},882390:function(e,t,o){o.d(t,{Z:()=>n});var l=o(686659),i=o(667294),r=o(500602),a=o(785893);let n=()=>((0,i.useEffect)(()=>{(0,l.Z)("VerticalNavDivider","/app/www/VerticalNav/shared/VerticalNavDivider.tsx")},[]),(0,a.jsx)("hr",{"data-gestalt-valid-html":"Divider",style:{display:"block",borderTop:`1px solid ${r.bd}`,margin:0,borderBottom:"none",borderLeft:"none",borderRight:"none"}}))},824751:function(e,t,o){o.d(t,{Z:()=>s});var l=o(686659),i=o(667294),r=o(740097),a=o(24246),n=o(785893);function s(){(0,i.useEffect)(()=>{(0,l.Z)("SecretBoardIcon","/app/www/board/SecretBoardIcon.tsx")},[]);let e=(0,a.Z)();return(0,n.jsx)(r.JO,{accessibilityLabel:e.bt("Álbum secreto", "Secret board", "Accessibility label for icon indicating a secret board", undefined, true),color:"default",icon:"lock",inline:!0})}},632492:function(e,t,o){o.d(t,{$8:()=>c,Dk:()=>d,Fk:()=>i,fS:()=>s,lI:()=>r,mS:()=>n,qW:()=>a});var l=o(740097);let i=new l.Ry(1),r=new l.Ry(3),a=2,n=new l.Ry(a),s=3,d=new l.Ry(100),c=new l.H3([d])},691198:function(e,t,o){o.d(t,{Z:()=>u});var l=o(686659),i=o(667294),r=o(740097),a=o(935059),n=o(24246),s=o(507006),d=o(216975),c=o(785893);function u({count:e,onClick:t,variant:o,size:u="300"}){(0,i.useEffect)(()=>{(0,l.Z)("FollowersDisplay","/app/www/followersAuthDesktop/FollowersDisplay.tsx")},[]);let _=(0,n.Z)(),{isAuth:p}=(0,a.Z)(),f=e<=0,h={followers:(0,d.nk)(_.nbt(["{{count}} seguidor", "{{count}} seguidores"], e, "label for n followers", true),{count:(0,c.jsx)(s.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"following-count")}),following:(0,d.nk)(_.nbt(["A seguir {{count}}", "A seguir {{count}}"], e, "label for n following users", true),{count:(0,c.jsx)(s.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"follower-count")})};return p?(0,c.jsx)(r.xu,{"data-test-id":`profile-${o}-count`,display:"inlineBlock",children:(0,c.jsx)(r.iP,{disabled:f,onTap:({event:e})=>t(o,e),children:(0,c.jsx)(r.xv,{inline:!0,overflow:"noWrap",size:u,weight:f?"normal":"bold",children:h[o]})})}):(0,c.jsx)(r.xv,{inline:!0,children:h[o]})}},221800:function(e,t,o){o.d(t,{Z:()=>tW});var l=o(686659),i=o(667294),r=o(581722),a=o(312048),n=o(740097),s=o(619546),d=o(627973),c=o(710987),u=o(351679),_=o(230201),p=o(24246),f=o(774838),h=o(785893);function m({shuffle:e,onClick:t,refreshDrafts:o}){(0,i.useEffect)(()=>{(0,l.Z)("CollageDraftCard","/app/common/react/components/profile/ProfileCollages/Drafts/CollageDraftCard.tsx")},[]);let{isRTL:r}=(0,f.B)(),{logContextEvent:a}=(0,_.u)(),[s,m]=(0,i.useState)(!1),g=(0,p.Z)(),[x,b]=(0,i.useState)(!1),[w,P]=(0,i.useState)(!1),y=(0,i.useRef)(null),{id:v,images:C}=e,j=C&&(C["736x"]?.url||C["474x"]?.url||C["236x"]?.url||C.orig?.url),A={deleteDraft:g.bt("Eliminar rascunho", "Delete draft", "collageDraftCard.dropdown.delete", undefined, true)},E=()=>{m(!1)},z=async()=>{v&&(E(),await (0,u.Z)(v),o())};return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsxs)(n.xu,{onMouseEnter:()=>b(!0),onMouseLeave:()=>{b(!1),P(!1)},position:"relative",rounding:d.fw,width:"100%",children:[(0,h.jsx)(n.zd,{height:"100%",rounding:4,wash:!0,width:"100%",children:(0,h.jsx)(n.Ee,{alt:g.bt("Imagem de rascunho de colagem", "Collage draft image", "collageDraftCard.image", undefined, true),naturalHeight:279,naturalWidth:157,src:j??void 0})}),x&&(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(n.xu,{color:"transparentDarkGray",height:"100%",left:!0,opacity:.6,position:"absolute",rounding:d.fw,top:!0,width:"100%"}),(0,h.jsxs)(n.xu,{bottom:!0,display:"flex",left:r,margin:2,position:"absolute",right:!r,children:[(0,h.jsx)(n.xu,{marginEnd:2,children:(0,h.jsx)(n.hU,{accessibilityLabel:g.bt("Botão Editar", "Edit button", "collageDraftCard.edit", undefined, true),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:()=>{a({event_type:101,element:16321,view_parameter:4136,view_type:635,aux_data:{collage_draft_id:v}}),t()},size:"md",tabIndex:-1})}),(0,h.jsxs)(n.xu,{children:[(0,h.jsx)(n.hU,{ref:y,accessibilityExpanded:w,accessibilityHaspopup:!0,accessibilityLabel:A.deleteDraft,bgColor:"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>P(e=>!e),selected:w,size:"md"}),w&&(0,h.jsx)(n.Lt,{anchor:y.current,id:`collage-draft-card-dropdown-${v}`,onDismiss:()=>P(!1),children:(0,h.jsx)(n.Lt.Item,{onSelect:()=>m(!0),option:{value:A.deleteDraft,label:A.deleteDraft}})})]})]})]})]}),s&&(0,h.jsx)(c.Z,{handleDelete:z,onDismiss:E})]})}var g=o(216975);function x({draftsCount:e,draftsResource:t,scrollableDivRef:o}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileDraftCollages","/app/common/react/components/profile/ProfileCollages/Drafts/ProfileDraftCollages.tsx")},[]);let{isFetching:r,refresh:s,shuffles:d,fetchMore:c}=t,u=(0,p.Z)(),_=(0,a.s0)();if(!d||0===d.length)return null;let f=e>0?(0,g.Wc)(u.bt("Projetos ({{ value }})", "Drafts ({{ value }})", "profile.collagesTab.draftsCount", undefined, true),{value:e.toString()}):u.bt("Rascunhos", "Drafts", "profile.collagesTab.draftsCount", undefined, true);return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(n.xu,{marginBottom:4,children:(0,h.jsx)(n.qd,{size:"400",children:f})}),(0,h.jsx)(n.kC,{alignItems:"start",height:"100%",justifyContent:"start",width:"100%",wrap:!0,children:d?(0,h.jsx)(n.Rk,{columnWidth:157,gutterWidth:16,items:d||[],layout:"flexible",loadItems:c,minCols:2,renderItem:({data:e})=>(0,h.jsx)(m,{onClick:()=>{var t;t=e.id??"",_(`/collage-creation-tool/?draftId=${t}`)},refreshDrafts:s,shuffle:e}),scrollContainer:()=>o.current||window}):(0,h.jsx)(n.xu,{margin:"auto",children:(0,h.jsx)(n.xH,{show:r})})})]})}var b=o(680616);function w(){(0,i.useEffect)(()=>{(0,l.Z)("ProfileCollagesEmptyState","/app/common/react/components/profile/ProfileCollages/ProfileCollagesEmptyState.tsx")},[]);let e=(0,p.Z)(),{logContextEvent:t}=(0,_.u)();return(0,h.jsx)(n.xu,{margin:"auto",children:(0,h.jsx)(n.xu,{padding:16,children:(0,h.jsxs)(n.kC,{direction:"column",children:[(0,h.jsx)(n.qd,{align:"center",size:"500",children:e.bt("Cria a tua primeira colagem", "Make your first collage", "collageBuilder.profile.collages.emptyState.title", undefined, true)}),(0,h.jsx)(n.xu,{marginTop:3,children:(0,h.jsx)(n.xe,{align:"center",size:"300",children:e.bt("Recorta e cola as melhores partes dos teus Pins favoritos e cria algo completamente novo.", "Snip-and-paste the best parts of your favorite Pins to create something completely new.", "collageBuilder.profile.collages.emptyState.message", undefined, true)})}),(0,h.jsx)(n.xu,{marginEnd:"auto",marginStart:"auto",marginTop:3,children:(0,h.jsx)(n.ZP,{color:"red",href:b.ZP,onClick:()=>{t({event_type:101,component:15085,element:13844,view_type:215})},size:"lg",text:e.bt("Criar colagem", "Create collage", "collageBuilder.profile.collages.emptyState.button", undefined, true)})})]})})})}var P=o(285676);function y({publishedCount:e,publishedCollagesResource:t,scrollableDivRef:o}){(0,i.useEffect)(()=>{(0,l.Z)("ProfilePublishedCollages","/app/common/react/components/profile/ProfileCollages/Published/ProfilePublishedCollages.tsx")},[]);let{fetchMore:r,isFetching:a,isRefreshing:s,publishedCollages:d}=t,c=(0,p.Z)();if(null===d)return null;let u=(0,g.Wc)(c.bt("Publicado ({{ value }})", "Published ({{ value }})", "profile.collagesTab.publishedCount", undefined, true),{value:e.toString()});return(0,h.jsx)(n.xu,{paddingY:4,children:!d||s?(0,h.jsx)(n.xu,{margin:"auto",children:(0,h.jsx)(n.xH,{show:a})}):(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(n.xu,{marginBottom:4,children:(0,h.jsx)(n.qd,{size:"400",children:u})}),(0,h.jsx)(n.Rk,{columnWidth:157,gutterWidth:16,items:d||[],layout:"flexible",loadItems:r,minCols:2,renderItem:({data:e,itemIdx:t})=>(0,h.jsx)(n.xu,{marginBottom:2,marginEnd:4,width:157,children:(0,h.jsx)(P.Z,{duploQueryRef:null,pinId:e.id,slotIndex:t,surface:"PublishedCollages",viewType:1})},e.id),scrollContainer:()=>o.current||window})]})})}var v=o(75361);function C({user:e}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileCollagesPage","/app/common/react/components/profile/ProfileCollages/ProfileCollagesPage.tsx")},[]);let t=(0,s.Z)(),o=(0,v.Z)(),{shuffles:r}=t,{publishedCollages:a}=o,d=(r?.length||0)>0,c=(a?.length||0)>0,u=(0,i.useRef)(null),_=(0,i.useRef)(null),{collage_published_count:p=0,collage_draft_count:f=0}=e||{};return(0,h.jsx)(i.Fragment,{children:(0,h.jsx)(n.xu,{ref:u,height:"100%",marginEnd:"auto",marginStart:"auto",width:"85%",children:r&&a?(0,h.jsxs)(i.Fragment,{children:[r&&a&&0===r.length&&0===a.length&&(0,h.jsx)(w,{}),d&&(0,h.jsx)(n.xu,{ref:u,children:(0,h.jsx)(x,{draftsCount:f,draftsResource:t,scrollableDivRef:u})}),c&&(0,h.jsx)(n.xu,{ref:_,children:(0,h.jsx)(y,{publishedCollagesResource:o,publishedCount:p,scrollableDivRef:_})})]}):(0,h.jsx)(n.xH,{show:!0})})})}var j=o(982091),A=o(104999),E=o(943152),z=o(935059),B=o(264267),T=o(118376),Z=o(872003),I=o(18964),S=o(698681),k=o(9392),R=o(407504),D=o(753806),H=o(59111),O=o(501010),M=o(381500),L=o(510755),F=o(113463),N=o(92481);let G=`
.ProfileTabsFullName-enter {
  opacity: 0;
}

.ProfileTabsFullName-enter-active {
  opacity: 1;
  transition: opacity 300ms ease-in-out;
}

.ProfileTabsFullName-exit {
  opacity: 1;
}

.ProfileTabsFullName-exit-active {
  opacity: 0;
  transition: opacity 300ms ease-in-out;
}
`;function U({headerHeight:e,isOwnProfile:t,selectedTab:o,user:r}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileTabs","/app/www/profile/ProfileHeader/ProfileTabs.tsx")},[]);let{logContextEvent:s}=(0,_.u)(),d=(0,p.Z)(),c=(0,a.s0)(),u=(0,a.TH)(),{checkExperiment:f}=(0,O.Z)(),m=(0,i.useRef)(null),g=(0,i.useRef)(null),{eligible_profile_tabs:x=[],id:b,username:w}=r??{},P=new n.H3([new n.Ry(L.fe)]),y=u.pathname.includes(`/${N.qV}`),v=!1===r.is_partner&&t&&f("web_retrieval_hub_profile_split_").anyEnabled,C=v&&f("web_collage_creation").anyEnabled,j=v&&[N.sz.enabled_with_unorganized_feed,N.sz.enabled_with_log_fix].includes(f("web_retrieval_hub_profile_split_").group),[A,E]=(0,i.useState)(0),[z,B]=(0,i.useState)(!0),T=(0,i.useRef)(null),Z=()=>{E((0,M.S$)())},I=(0,i.useCallback)(e=>{e===F.un.RETRIEVAL_HUB_BOARDS?s({event_type:101,component:14461,element:j?void 0:10612,view_type:4,view_parameter:j?3106:4047}):e===F.un.RETRIEVAL_HUB_PINS?s({event_type:101,component:j?13668:14460,element:j?void 0:10612,view_type:4,view_parameter:j?3106:4047}):s({event_type:101,component:e in F.D1?F.D1[e]:void 0,object_id_str:b,view_type:4,view_parameter:t?3106:3107})},[j,t,s,b]);(0,i.useEffect)(()=>(window.addEventListener("scroll",Z),()=>{window.removeEventListener("scroll",Z)}));let S=(0,i.useMemo)(()=>({1:{tab:F.un.CREATED,text:d.bt("Criado", "Created", "profileHeader.tabs.created", undefined, true),ref:m},0:{tab:F.un.SAVED,text:d.bt("Guardado", "Saved", "profileHeader.tabs.saved", undefined, true)},3:{tab:F.un.TRIED,text:d.bt("Experimentado", "Tried", "profileHeader.tabs.tried", undefined, true)}}),[m,d]),k=(0,i.useCallback)(({isDefault:e=!1,ref:t,tab:l,text:i})=>({href:`/${w}/${l}/`,id:`${l}-profile-tab`,isActive:o===l,isDefault:e,onClick:()=>I(l),ref:t,text:i}),[o,I,w]),U=(0,i.useMemo)(()=>{let e=[];return v&&y?(e.push(k({...S[1],tab:F.un.PREVIEW_PROFILE_CREATED})),e.push(k({...S[0],tab:F.un.PREVIEW_PROFILE_SAVED}))):v?(e.push(k({ref:g,tab:F.un.RETRIEVAL_HUB_PINS,text:d.bt("Pins", "Pins", "profileHeader.tabs.selfProfilePins", undefined, true)})),e.push(k({ref:m,tab:F.un.RETRIEVAL_HUB_BOARDS,text:d.bt("Álbuns", "Boards", "profileHeader.tabs.selfProfileBoards", undefined, true)})),C&&e.push(k({tab:F.un.COLLAGES,text:d.bt("Colagens", "Collages", "profileHeader.tabs.collages", undefined, true)}))):x.forEach(t=>{let{is_default:o,tab_type:l}=t,i=void 0!==l&&l in S?S[l]:null;i&&e.push(k({...i,isDefault:o}))}),e},[x,k,d,C,y,v,S]),V=(0,i.useMemo)(()=>U.some(e=>e.id===`${F.un.CREATED}-profile-tab`&&e.isActive),[U]),$=(0,i.useMemo)(()=>{let e=U.findIndex(({isActive:e})=>e);return -1!==e?e:Math.max(U.findIndex(({isDefault:e})=>e),0)},[U]);return U.length<2?(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(H.Z,{unsafeCSS:G}),(0,h.jsx)(R.Z,{classNames:"ProfileTabsFullName",in:!!e&&A>e,nodeRef:T,timeout:300,unmountOnExit:!0,children:(0,h.jsx)(n.xu,{ref:T,children:(0,h.jsx)(n.qd,{size:"400",children:r.full_name})})})]}):(0,h.jsxs)(n.xu,{children:[(0,h.jsx)(n.mQ,{activeTabIndex:$,onChange:({event:e,activeTabIndex:t})=>{let o=U[t];!o.isActive&&(o.onClick&&o.onClick(),"button"in e&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&(e.preventDefault(),c(o.href)))},tabs:U.map(({href:e,id:t,ref:o,text:l,isActive:i})=>i?{id:t,ref:o,text:l,href:""}:{href:e,id:t,ref:o,text:l})}),t&&V&&m.current&&(0,h.jsx)(n.mh,{zIndex:P,children:(0,h.jsx)(D.Qp,{anchor:m.current,experienceIds:[505363],idealDirection:"down",placementId:1000464,positionRelativeToAnchor:!1,showCaret:!0})}),v&&o===F.un.RETRIEVAL_HUB_BOARDS&&z&&(0,h.jsx)(D.a3,{eligibleIds:[N.Lz],placementId:19,children:(0,h.jsx)(n.mh,{zIndex:P,children:(0,h.jsx)(n.pl,{accessibilityLabel:d.bt("Apresentamos uma nova forma de veres todos os teus Pins", "Introducing a new way to view all of your Pins", "profileHeader.tooltip.selfProfileEducationalTooltip", undefined, true),anchor:g.current,id:"self-profile-educational-tooltip",idealDirection:"down",message:d.bt("Apresentamos uma nova forma de veres todos os teus Pins", "Introducing a new way to view all of your Pins", "profileHeader.tooltip.selfProfileEducationalTooltip", undefined, true),onDismiss:()=>B(!1)})})})]})}var V=o(920343),$=o(962875);function W({headerHeight:e,selectedTab:t,user:o}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileHeaderActionBar","/app/www/profile/ProfileHeader/ProfileHeaderActionBar.tsx")},[]);let r=(0,z.Z)(),a=(0,V.Z)({user:o,viewer:r}),n=(0,k.G)(o),s=t===F.un.PREVIEW_PROFILE?F.un.PREVIEW_PROFILE_SAVED:t,d=n?S.TL:0;return(0,h.jsx)(I.Z,{buttonsLeft:[],buttonsRight:[],headerHeight:e,offset:d,shouldStick:!0,stickyZIndex:$.Zu,children:(0,h.jsx)(U,{headerHeight:e,isOwnProfile:a,selectedTab:s,user:o})})}var J=o(739405),q=o(810356),Q=o(470205),K=o(80769),X=o(909575),Y=o(710001),ee=o(247387),et=o(385114),eo=o(200619),el=o(601871),ei=o(959327),er=o(114024),ea=o(667389),en=o(271875),es=o(894307),ed=o(993697),ec=o(791349),eu=o(14179),e_=o(819005),ep=o(52258),ef=o(935763),eh=o(431465),em=o(304264),eg=o(509400),ex=o(765661),eb=o(151308),ew=o(831431),eP=o(38581),ey=o(9065);let ev=(0,ey.Z)(()=>Promise.resolve().then(o.bind(o,938359)),void 0,e=>938359,"app-www-profile-ProfileHeader-ViewerCount",e=>[]),eC=(0,ey.Z)(()=>Promise.all([o.e("37251"),o.e("80294")]).then(o.bind(o,439782)),{fallback:(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"-60px"}},height:ei.Z,position:"relative"})},e=>439782,"ProfileCover",e=>["37251","80294"]),ej=(0,ey.Z)(()=>o.e("12531").then(o.bind(o,93762)),{ssr:!1},e=>93762,void 0,void 0),eA=(0,ey.Z)(()=>o.e("18787").then(o.bind(o,831311)),{ssr:!1},e=>831311,void 0,void 0),eE="none",ez="messageUpsell",eB="shareUpsell";function eT({onClickReportProfile:e,onCreatePincodeClick:t,onToggleBlock:o,onToggleFollow:r,setHeaderHeight:a,user:s}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileHeaderAuthDesktop","/app/www/profile/ProfileHeader/ProfileHeaderAuthDesktop.tsx")},[]);let{logContextEvent:d}=(0,_.u)(),c=(0,p.Z)(),u=(0,z.Z)(),f=(0,i.useRef)(null),m=(0,i.useRef)(null),[g,x]=(0,i.useState)(eE),[b,w]=(0,i.useState)(!1),P=(0,eo.Z)(),y=(0,E.Z)(),v=(0,V.Z)({user:s,viewer:u}),C=(0,i.useRef)(null);!function(e,t){let o=null,l=null,r=null,a=null,n=()=>{if(!o)return;let t=o.clientHeight,i=o.clientWidth;(l!==t||r!==i)&&(l=t,r=i,e(o)),a=window.requestAnimationFrame(n)};(0,i.useEffect)(()=>{var i;return t.current&&(i=t.current,o&&o===i||(o=i,l=i.clientHeight,r=i.clientWidth,e(o),n())),()=>{o=null,a&&window.cancelAnimationFrame(a)}},[t])}(e=>{a?.(e.clientHeight)},f);let{is_primary_website_verified:j,full_name:A,impressum_url:B,is_private_profile:T,is_verified_merchant:Z,username:I,instagram_data:S,verified_identity:k,website_url:R,amazon_data:H}=s??{},{amazon_storefront_url:M,amazon_storefront_name:L,amazon_account_linking_status:F,amazon_linking_consent_status:N}=H||{},G=(0,q.Z)({linkingStatus:F,consentStatus:N})&&M&&L,U=v||(0,el.N1)(u,s,P),{checkExperiment:$}=(0,O.Z)(),W=!(0,el.N1)(u,s,P),{dropdownOpen:J,setObjectAttachment:ei}=(0,en.Z)(),[ey,eT]=(0,i.useState)(!1),eZ=(0,eb.Z)(s),eI=u.isLimitedLogin,eS=(0,K.j3)()&&!!B,ek=k?.verified||Z,eR=(0,Y.l)(s),eD="";eD=v?c.bt("O teu perfil é privado. Só os seguidores aprovados podem ver o teu perfil, Pins, álbuns, seguidores e listas a seguir.", "Your profile is private. Only approved followers can view your profile, Pins, boards, followers and following lists.", "privateProfileHeaderAuthDesktop.privateIcon.tooltip.self", undefined, true):c.bt("Este perfil é privado.  Só os seguidores aprovados podem ver o respetivo perfil, Pins, álbuns, seguidores e listas a seguir.", "This profile is private. Only approved followers can view their profile, Pins, boards, followers and following lists.", "privateProfileHeaderAuthDesktop.privateIcon.tooltip.external", undefined, true);let eH=R?.length||0,eO=B?.length||0,eM=eh.U-eH-eO,eL=s?.about?(0,h.jsx)(eh.Z,{maxLength:eM,setShowMessageFlyout:w,user:s}):null,eF=eS?(0,h.jsx)(n.rU,{display:"inlineBlock",href:B||"",underline:"hover",children:(0,h.jsx)(X.Z,{inline:!0,weight:"bold"})}):null,eN=R?(0,h.jsx)(i.Fragment,{children:(0,h.jsx)(n.xv,{inline:!0,weight:"bold",children:(0,h.jsxs)(n.rU,{display:"inlineBlock",href:R,onClick:()=>{d({event_type:101,component:13056,element:12890,view_type:4,view_parameter:v?3106:3107,aux_data:{website_link:R}})},rel:"nofollow",target:"blank",underline:"hover",children:[j&&!ek&&(0,h.jsx)(eu.Z,{})," ",(0,ex.Z)(R)]})})}):null;return!T||v||s?.explicitly_followed_by_me?(0,h.jsx)(i.Fragment,{children:(0,h.jsx)(n.xu,{ref:f,"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,children:(0,h.jsx)(n.xu,{marginTop:eZ?void 0:3,maxWidth:eZ?656:488,width:"100%",children:(0,h.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},justifyContent:"center",children:[(0,h.jsxs)(n.xu,{width:eZ?656:void 0,children:[eZ&&!eI&&(0,h.jsx)(eC,{user:s}),(0,h.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,h.jsx)(ec.Z,{ref:C,onTouch:t,user:s,viewer:u}),(0,h.jsx)(D.N,{anchors:{3020:C.current},idealDirection:"down",onAnchorTouch:"complete",placementId:19,scrollToDismiss:!0})]})]}),(0,h.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,h.jsxs)(n.qd,{accessibilityLevel:1,align:"center",size:"700",children:[(0,h.jsx)(n.xu,{"data-test-id":"profile-name",display:"inlineBlock",children:A}),ek&&(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},display:"inlineBlock",marginStart:2,children:(0,h.jsx)(ea.Z,{isVerifiedIdentity:!!k?.verified,isVerifiedMerchant:Z,size:"lg"})}),Z&&(0,h.jsx)(ea.O,{children:(0,h.jsx)(n.xv,{align:"center",color:"default",size:"200",children:c.bt("Comerciante verificado", "Verified Merchant", "profileHeader.verifiedMerchantText", undefined, true)})}),T&&T&&(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(n.xu,{display:"inlineBlock",marginTop:4,paddingX:2,children:(0,h.jsx)(n.u,{link:(0,h.jsx)(n.xv,{color:"inverse",size:"100",weight:"bold",children:(0,h.jsx)(n.rU,{href:ee.Pm9,target:"blank",children:c.bt("Saber mais", "Learn more", "privateProfileHeaderAuthDesktop.privateIcon.learnMoreLink", undefined, true)})}),text:eD,zIndex:new n.Ry(10),children:(0,h.jsx)(n.xu,{"data-test-id":"profile-lock-icon",children:(0,h.jsx)(n.JO,{accessibilityLabel:c.bt("ícone privado", "private icon", "privateProfileHeaderAuthDesktop.privateIcon", undefined, true),icon:"lock",size:24})})})}),!v&&(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},display:"inlineBlock",children:(0,h.jsx)(eg.Z,{onClickReportProfile:e,onToggleBlock:o,showUnblockOption:!0,user:s})})]})]}),!!s?.is_inspirational_merchant&&(0,h.jsx)(Q.Z,{name:"InspirationalBadges",children:(0,h.jsx)(ep.Z,{isOwnProfile:v,userId:s.id})}),eN||eF||eL?(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:2,children:(0,h.jsx)(et.Z,{inline:!0,items:[eN,eF,null,eL]})}):void 0,(0,h.jsx)(ew.Z,{amazonStorefrontName:G?L:void 0,amazonStorefrontUrl:G?M:void 0,color:"subtle",instagramUsername:S?.username,pronounsText:eR,textSize:"200",username:I})]}),(0,h.jsx)(e_.Z,{user:s}),eZ&&s?.profile_views!==-1&&(0,h.jsx)(ev,{user:s}),W&&(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,h.jsxs)(n.kC,{gap:{row:7,column:0},children:[!T&&(0,h.jsx)(eP.Z,{user:s}),(0,h.jsxs)(n.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(em.Z,{setShowMessageFlyout:w,showMessageFlyout:b,user:s}),ey&&(0,h.jsx)(er.Z,{onCancel:()=>{eT(!1)},onConfirm:()=>{eT(!1)},onToggleBlock:o,user:s}),s?.blocked_by_me?(0,h.jsx)(n.zx,{onClick:()=>{eT(!0)},size:"lg",text:c.bt("Desbloquear", "Unblock", "profileHeader.unblockButton", undefined, true)}):(0,h.jsx)(es.Z,{button:({followText:e,onClick:t})=>(0,h.jsx)(n.xu,{"data-test-id":s?.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,h.jsx)(n.Fm,{color:"primary",onClick:t,selected:s?.explicitly_followed_by_me??!1,size:"lg",text:e})}),fullName:A,id:s?.id??"",imageUrl:s?.image_large_url??"",isOwnProfile:!1,onUserFollow:r,profileUrl:`/${s?.username??""}/`,userFollowed:s?.explicitly_followed_by_me})]}),!T&&(0,h.jsx)(ed.Z,{userId:s?.id??"",children:({showSendMessageFlyout:t})=>(0,h.jsx)(eg.Z,{onClickReportProfile:e,onToggleBlock:o,showSendMessageFlyout:t,user:s})})]})}),s&&u&&g===ez&&(0,h.jsx)(ej,{followee:s,follower:u,onDismiss:()=>x(eE),viewParameter:3107,viewType:4}),s&&u&&u.isAuth&&u.id&&g===eB&&(0,h.jsx)(eA,{followee:s,follower:u,onClickShareLink:()=>{x(eE),ei({type:"follow_invite",id:u.id}),J()},onDismiss:()=>x(eE),viewParameter:3107,viewType:4}),U&&(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,h.jsxs)(n.kC,{gap:{row:2,column:0},children:[(0,h.jsx)(eP.Z,{labelVariant:(()=>{let e=$("ce_dweb_profile_share_button").group;return"enabled_share_profile"===e?"shareProfile":"enabled_icon_share_profile"===e||"enabled_icon_share_edit_profile"===e?"iconShareProfile":"share"})(),useGestaltButton:!0,user:s}),v&&(0,h.jsx)(n.xu,{"data-test-id":"edit-button",children:(0,h.jsxs)(n.kC,{gap:{row:2,column:0},children:[(0,h.jsx)(n.ZP,{ref:m,href:"/settings#profile",iconStart:"enabled_icon_share_edit_profile"===$("ce_dweb_profile_share_button").group?"edit":void 0,onClick:({event:e})=>{if(y){e.stopPropagation(),y();return}d({event_type:101,element:94})},size:"lg",text:c.bt("Editar perfil", "Edit profile", "profileHeader.editProfileButton", undefined, true)}),(0,h.jsx)(D.N,{anchors:{3019:m.current},idealDirection:"down",onAnchorTouch:"complete",placementId:19,scrollToDismiss:!0})]})})]})})]})})})}):(0,h.jsx)(ef.Z,{handleFollowSuccessFromInvite:()=>{x(s?.explicitly_following_me?ez:eB)},onClickReportProfile:e,onToggleBlock:o,onToggleFollow:r,user:s,viewParameter:v?3106:3107,viewType:4})}var eZ=o(565168),eI=o(582857),eS=o(770218),ek=o(417681),eR=o(866986),eD=o(249459),eH=o(440077),eO=o(319226),eM=o(661376),eL=o(893957),eF=o(691198),eN=o(329577);let eG=(0,ey.Z)(()=>o.e("6332").then(o.bind(o,113229)),void 0,e=>113229,"app-www-followersAuthDesktop-FollowersModalContainer",e=>["6332"]),eU=(0,ey.Z)(()=>Promise.all([o.e("25418"),o.e("56595"),o.e("94898")]).then(o.bind(o,923459)),void 0,e=>923459,"app-www-ProfileFollowers-ProfileFollowersModalGraphQL",e=>["25418","56595","94898"]),eV=(0,i.lazy)(()=>o.e("89638").then(o.bind(o,763994))),e$=new n.H3([$.c6]);function eW(e){(0,i.useEffect)(()=>{(0,l.Z)("SelfProfileHeader","/app/www/profile/ProfileHeader/SelfProfileHeader/SelfProfileHeader.tsx")},[]);let{tab:t,user:o}=e,r=(0,p.Z)(),s=(0,a.s0)(),{logContextEvent:d}=(0,_.u)(),c=(0,eN.WG)(),[u,f]=(0,i.useState)(null),[m,g]=(0,i.useState)(!1),[x,b]=(0,i.useState)(!1),{checkExperiment:w}=(0,O.Z)(),P=w("web_curation_board_create_entry_points").anyEnabled,y=w("ce_dweb_profile_share_saved_ideas").anyEnabled,{selfProfileBoardFilter:v,setSelfProfileBoardFilter:C,selfProfilePinFilter:j,setSelfProfilePinFilter:A}=c??{selfProfileBoardFilter:null,selfProfilePinFilter:eN.JH.NONE,setSelfProfileBoardFilter:()=>{}},E=e=>{e===v?C(void 0):C(e)},[z,B]=(0,i.useState)(!1),T=[N.sz.enabled_with_unorganized_feed,N.sz.enabled_with_log_fix].includes(w("web_retrieval_hub_profile_split_").group),Z=t===F.un.SAVED?F.un.RETRIEVAL_HUB_BOARDS:t;(0,eL.Z)(()=>{Z===F.un.RETRIEVAL_HUB_PINS?d({event_type:13,view_type:4,view_parameter:T?3106:4047,component:T?13668:14460}):Z===F.un.RETRIEVAL_HUB_BOARDS&&d({event_type:13,view_type:4,view_parameter:4047,component:14461})});let{about:S,archived_board_count:k=0,secret_board_count:R=0,image_xlarge_url:D,full_name:H="",follower_count:M=0,following_count:L=0,avatar_color_index:G,username:V,interest_following_count:$=0}=o,W=(0,eM.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!0,page_size:eD.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:!0,username:V}}),J=L-($??0),q=()=>{f(null)},Q=()=>{d({event_type:101,view_type:4,view_parameter:T?3106:4047,component:13056,element:12601})},K=`/${V}/${N.qV}/`,X=e=>{f(e),d({event_type:101,view_type:4,view_parameter:T?3106:4047,component:13056,element:"followers"===e?42:41})},Y=[],ee=[];if(Z===F.un.RETRIEVAL_HUB_PINS){let e=[];o.pin_count&&(e=[(0,h.jsx)(n.xu,{children:(0,h.jsx)(n.Fm,{dataTestId:"favorites_pins_button",iconStart:"star",onClick:function(){if(A)switch(d({event_type:101,view_type:4,view_parameter:T?3106:4047,component:T?13668:14460,element:14264,aux_data:{profile_filter:eN.JH.FAVORITED}}),j){case eN.JH.CREATED_BY_ME:A(eN.JH.FAVORITED_AND_CREATED);break;case eN.JH.FAVORITED:A(eN.JH.NONE);break;case eN.JH.FAVORITED_AND_CREATED:A(eN.JH.CREATED_BY_ME);break;case eN.JH.NONE:A(eN.JH.FAVORITED);break;default:A(eN.JH.NONE)}},selected:j===eN.JH.FAVORITED||j===eN.JH.FAVORITED_AND_CREATED,text:r.bt("Favoritos", "Favorites", "SelfProfileHeader.favorites", undefined, true)})},1),(0,h.jsx)(n.xu,{children:(0,h.jsx)(n.Fm,{dataTestId:"created_by_you_button",onClick:function(){if(A)switch(d({event_type:101,view_type:4,view_parameter:T?3106:4047,component:T?13668:14460,element:14264,aux_data:{profile_filter:eN.JH.CREATED_BY_ME}}),j){case eN.JH.CREATED_BY_ME:A(eN.JH.NONE);break;case eN.JH.FAVORITED:A(eN.JH.FAVORITED_AND_CREATED);break;case eN.JH.FAVORITED_AND_CREATED:A(eN.JH.FAVORITED);break;case eN.JH.NONE:A(eN.JH.CREATED_BY_ME);break;default:A(eN.JH.NONE)}},selected:j===eN.JH.CREATED_BY_ME||j===eN.JH.FAVORITED_AND_CREATED,text:r.bt("Criado por ti", "Created by you", "SelfProfileHeader.createdbyyou", undefined, true)})},2)]),Y=[(0,h.jsx)(eR.Z,{},0),...e],ee=P?[(0,h.jsx)(eI.Z,{currentTab:Z},0)]:[(0,h.jsx)(ek.Z,{},0)]}else Z===F.un.COLLAGES?Y=[]:(Y=[(0,h.jsx)(eS.Z,{setVisibilityControlsModalOpen:B,user:o},0),(0,h.jsx)(n.xu,{children:(0,h.jsx)(n.Fm,{onClick:()=>E(eN.ET.GROUP),selected:v===eN.ET.GROUP,text:r.bt("Grupo", "Group", "SelfProfileHeader.group", undefined, true)})},1)],R>0&&Y.push((0,h.jsx)(n.xu,{children:(0,h.jsx)(n.Fm,{onClick:()=>E(eN.ET.SECRET),selected:v===eN.ET.SECRET,text:r.bt("Secreto", "Secret", "SelfProfileHeader.secret", undefined, true)})},2)),k>0&&Y.push((0,h.jsx)(n.xu,{children:(0,h.jsx)(n.Fm,{onClick:()=>E(eN.ET.ARCHIVED),selected:v===eN.ET.ARCHIVED,text:r.bt("Arquivado", "Archived", "SelfProfileHeader.archived", undefined, true)})},3)),ee=[(0,h.jsx)(eI.Z,{currentTab:Z},0)]);let eo=(0,h.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:y&&m?eH.F_B:void 0}},display:"flex",height:"100%",justifyContent:"center",padding:4*!!y,rounding:6,width:"100%",children:[(0,h.jsx)(n.xu,{alignItems:"center",display:"flex",height:60,justifyContent:"center",marginEnd:3,rounding:"circle",width:60,children:(0,h.jsx)(eO.qE,{color:G,name:H,size:"lg",src:D})}),(0,h.jsxs)(n.xu,{direction:"column",marginEnd:y?13:6,mdDisplay:"flex",smDisplay:"none",children:[(0,h.jsx)(n.xu,{"data-test-id":"profile-name",maxWidth:500,children:(0,h.jsx)(n.xv,{lineClamp:2,size:"400",weight:"bold",children:H})}),(0,h.jsx)(n.xu,{marginBottom:1,marginTop:1,maxWidth:500,children:(0,h.jsx)(n.xv,{align:"start",lineClamp:2,size:"200",children:S})}),(0,h.jsx)(n.xu,{flex:"grow",children:(0,h.jsx)(et.Z,{items:[M&&M>=0?(0,h.jsx)(eF.Z,{count:M,onClick:(e,t)=>{t.stopPropagation(),t.preventDefault(),X("followers")},size:"200",variant:"followers"}):null,J>=0?(0,h.jsx)(eF.Z,{count:J,onClick:(e,t)=>{t.stopPropagation(),t.preventDefault(),X("following")},size:"200",variant:"following"}):null]})})]}),y?(0,h.jsx)(eP.Z,{labelVariant:"shareProfile",updateSharesheetOpenRef:e=>b(e),useGestaltButton:!0,user:o}):(0,h.jsx)(n.zx,{color:"gray",dataTestId:"selfProfileHeader-view-profile-button",fullWidth:!0,onClick:()=>{Q(),s(K)},size:"md",text:r.bt("Ver perfil", "View profile", "SelfProfileHeader.button", undefined, true)})]});return(0,h.jsx)(n.Le,{top:80,zIndex:e$,children:(0,h.jsxs)(n.xu,{color:"default",width:"100%",children:[(0,h.jsxs)(n.xu,{alignItems:"center","data-test-id":"self-profile-header",display:"flex",justifyContent:"between",marginEnd:"auto",marginStart:"auto",paddingY:5,width:"85%",wrap:!0,children:[(0,h.jsxs)(n.kC,{justifyContent:"between",width:"100%",children:[(0,h.jsx)(n.kC,{alignItems:"center",height:"inherit",justifyContent:"start",minWidth:300,children:(0,h.jsx)(n.qd,{children:r.bt("As tuas ideias guardadas", "Your saved ideas", "SelfProfileHeader.title", undefined, true)})}),(0,h.jsx)(n.xu,{margin:y?-4:void 0,children:y?(0,h.jsx)(n.Tg,{href:x?"":K,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onTap:x?()=>{}:Q,rounding:6,children:eo}):eo})]}),(0,h.jsx)(n.xu,{marginTop:3,children:(0,h.jsx)(U,{isOwnProfile:!0,selectedTab:Z,user:o})})]}),(0,h.jsx)(n.xu,{marginEnd:"auto",marginStart:"auto",width:"85%",children:(0,h.jsx)(I.Z,{buttonsLeft:Y,buttonsRight:ee,paddingX:0,shouldStick:!1})}),"followers"===u&&(0,h.jsx)(eU,{onDismiss:q,totalFollowersCount:M}),"following"===u&&(0,h.jsx)(eG,{followersResource:W,onDismiss:q,totalFollowersCount:J,user:o,variant:u}),z&&(0,h.jsx)(i.Suspense,{children:(0,h.jsx)(eV,{setVisibilityControlsModalOpen:B})})]})})}let eJ=(0,ey.Z)(()=>Promise.all([o.e("37251"),o.e("64913")]).then(o.bind(o,334337)),void 0,e=>334337,"app-www-profile-ProfileHeader-BusinessProfileHeader-BusinessProfileHeader",e=>["37251","64913"]);function eq(e){(0,i.useEffect)(()=>{(0,l.Z)("UnifiedProfileHeader","/app/www/profile/ProfileHeader/UnifiedProfileHeader.tsx")},[]);let t=(0,J.HG)(),o=(0,z.Z)(),{tab:r,user:a,isRetrievalHub:n}=e;return(0,k.G)(a)?(0,h.jsx)(eJ,{...e}):n?(0,h.jsx)(eW,{tab:r,user:a}):o?.isAuth&&t?(0,h.jsx)(eT,{...e}):(0,h.jsx)(eZ.Z,{...e})}function eQ({avatarUrl:e,contentsRight:t,merchantName:o,text:r,username:a,accessibilityLevel:s}){return(0,i.useEffect)(()=>{(0,l.Z)("MinimalPartnerHeader","/app/www/profile/storefront/MerchantStorefront/common/MinimalPartnerHeader.tsx")},[]),(0,h.jsxs)(n.kC,{alignItems:"stretch",height:80,justifyContent:"between",children:[(0,h.jsx)(n.xu,{column:2,"data-test-id":"minimal-partner-header"}),(0,h.jsxs)(n.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,h.jsx)(n.xu,{marginEnd:2,children:(0,h.jsx)(n.Tg,{href:`/${a}`,rounding:"circle",children:(0,h.jsx)(eO.qE,{name:o,size:"md",src:e})})}),(0,h.jsx)(n.rU,{href:`/${a}/`,underline:"none",children:(0,h.jsx)(n.qd,{accessibilityLevel:s,size:"600",children:r})})]}),(0,h.jsx)(n.xu,{alignItems:"center",column:2,display:"flex",justifyContent:"end",children:t})]})}var eK=o(826681),eX=o(157498);function eY(e,t,o){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var l=o.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let e0=(0,i.lazy)(()=>o.e("98251").then(o.bind(o,704282)));class e1 extends i.Component{constructor(...e){super(...e),eY(this,"state",{currentModal:null}),eY(this,"handleClickCreatePincode",()=>{let{requireAuth:e}=this.props;if(e)return void e();this.setState({currentModal:"createPincode"})}),eY(this,"handleClickReportProfile",()=>{let{requireAuth:e}=this.props;if(e)return void e();this.setState({currentModal:"reportProfile"})}),eY(this,"handleHideModal",()=>this.setState({currentModal:null})),eY(this,"handleToggleBlock",()=>{let{isUserBlocked:e,requireAuth:t}=this.props;if(t)return void t();e?this.unblockUser():this.setState({currentModal:"blockUser"})}),eY(this,"unblockUser",()=>{let{unblockUser:e,user:t}=this.props;e(t.id||"")}),eY(this,"handleBlockUser",()=>{let{blockUser:e,user:t}=this.props;e(t.id||""),this.props.showBlockToastMessage(),this.setState({currentModal:null})}),eY(this,"handleToggleFollow",()=>{let e=!this.props.user.explicitly_followed_by_me;this.props.onToggleFollow?.(e)}),eY(this,"handleBlockAndReport",async()=>{let{blockUser:e,user:t}=this.props;t.id&&(await e(t.id),this.setState({currentModal:"reportProfile"}))})}renderModal(){let{currentModal:e}=this.state,{user:t,isUserBlocked:o,unblockUser:l,blockUser:r}=this.props;return(0,h.jsx)(i.Suspense,{children:(0,h.jsx)(e0,{blockUser:r,currentModal:e,handleBlockUser:this.handleBlockUser,handleHideModal:this.handleHideModal,isUserBlocked:o,onBlockAndReport:this.handleBlockAndReport,unblockUser:l,user:t})})}render(){let{minimalPartnerHeader:e,tab:t,user:o,headerHeight:l,ownProfile:r,setHeaderHeight:a,showContent:n,isRetrievalHub:s}=this.props,{currentModal:d}=this.state,c=r||(o.eligible_profile_tabs?.length??0)>1;return e?(0,h.jsx)(eQ,{avatarUrl:o.image_medium_url??"",merchantName:o.full_name??"",text:o.full_name??"",username:o.username??""}):(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(eq,{isRetrievalHub:s,onClickReportProfile:this.handleClickReportProfile,onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,setHeaderHeight:a,tab:t,user:o}),n&&!s&&c&&(0,h.jsx)(W,{headerHeight:l,selectedTab:t,user:o}),d&&this.renderModal()]})}componentDidMount(){(0,l.Z)("ProfileHeaderContainer","/app/common/react/components/profile/ProfileHeader/ProfileHeaderContainer.tsx")}}function e6(e){(0,i.useEffect)(()=>{(0,l.Z)("ProfileHeaderContainer","/app/common/react/components/profile/ProfileHeader/ProfileHeaderContainer.tsx")},[]);let t=(0,r.I0)(),o=(0,eX.dM)(),{user:a}=e,n=o?.[a.id??""]||a,s=(0,E.Z)(),{aggregatedCommentsHiddenForUser:d}=(0,B.nf)(),{nativeEngagementsHiddenForUser:c}=(0,Z.G)(),[u,_]=(0,i.useState)(null),p=(0,A.Z)(),f=(0,z.Z)(),m=(0,V.Z)({user:a,viewer:f}),g=(0,T.Z)();return(0,h.jsx)(e1,{...e,blockUser:async o=>{await t((0,eK.Ge)({id:o,blockSource:"profile",blockContext:o,logContextEvent:p})),d(o),c(o),e.onBlockUser?.()},headerHeight:u,isUserBlocked:!!n.blocked_by_me,ownProfile:m,requireAuth:s,setHeaderHeight:_,showBlockToastMessage:g,unblockUser:async e=>await t((0,eK.h2)(e,p)),user:n})}var e3=o(289935);let e4=({navigate:e,placementId:t})=>{(0,i.useEffect)(()=>{(0,l.Z)("ExperienceCommentTurnedOffEducationModal","/app/packages/comment/ExperienceCommentTurnedOffEducationModal.tsx")},[]);let o=(0,p.Z)();return(0,h.jsx)(D.a3,{eligibleIds:[505404],placementId:t,children:({complete:t,dismiss:l})=>(0,h.jsx)(n.mh,{zIndex:e3.b7,children:(0,h.jsx)(n.WB,{accessibilityModalLabel:o.bt("Comentários desativados módulo educação", "Comments turned off education modal", "modalEducation.commentsTurnedOff", undefined, true),heading:o.bt("Comentários desativados", "Comments are turned off", "modalEducation.commentsTurnedOff.heading", undefined, true),onDismiss:()=>{l()},primaryAction:{accessibilityLabel:o.bt("botão cancelar comentários desativado módulo educação", "button dismissing comments turned off education modal", "modalEducation.commentsTurnedOff.confirmButton.a11yLabel", undefined, true),label:o.bt("Abrir definições", "Open settings", "modalEducation.commentsTurnedOff.confirmButton", undefined, true),onClick:()=>{t(),e("/settings/permissions")}},children:(0,h.jsx)(n.xe,{children:(0,g.nk)(o.bt("Queres autorizar comentários nos teus Pins? {{ turnOn }}", "Want to allow comments on your Pins? {{ turnOn }}", "modalEducation.commentsTurnedOff.description", undefined, true),{turnOn:(0,h.jsx)(n.xe,{inline:!0,weight:"bold",children:o.bt("Ativa em Autorizações em redes sociais.", "Turn them on in social permissions.", "modalEducation.commentsTurnedOff.description.socialPermissions", undefined, true)})})})})})})};var e2=o(382802),e9=o(924591),e7=o(176714),e8=o(112658),e5=o(439048),te=o(577356),tt=o(614400),to=o(969178),tl=o(289100),ti=o(49254),tr=o(277455);let ta=({tab:e,userData:t})=>{if(t&&e===F.un.DECIDER){let e=t.eligible_profile_tabs?.find(e=>e.is_default);return F.IL[e?.tab_type]||F.un.SAVED}return e};var tn=o(986174),ts=o(171039),td=o(883097);let tc=(0,D.RL)(19,({clickedFollowingButton:e,tab:t},o)=>({clickedFollowingButton:e,profile_ownership:o.profile_ownership,profile_user_id:o.profile_user_id,tab:t}))(function({children:e,clickedFollowingButton:t,minimalPartnerHeader:o,renderError:r,setPlacementExtraContext:s,tab:d,unsetError:c,username:u}){(0,i.useEffect)(()=>{(0,l.Z)("ProfilePage","/app/common/react/components/profile/ProfilePage/ProfilePage.tsx")},[]);let f=(0,a.s0)(),{logContextEvent:m}=(0,_.u)(),x=(0,p.Z)(),b=(0,z.Z)(),w=(0,i.useRef)(!1),P=(0,i.useRef)(t),y=(0,tr.R)(),{checkExperiment:v}=(0,O.Z)(),C=(0,te.dI)(),j=(0,eX.dM)(),A=(0,a.TH)(),E=(0,ts.Z)(),{refresh:B}=E,T=j[E.data?.id||""]||E.data,{explicitly_followed_by_me:Z,full_name:I,id:S,is_ads_only_profile:k,is_partner:R,is_private_profile:H}=T||{},M=y.id,L=b&&b.isAuth&&T&&b.id===S,F=b.isAuth&&u===b.username,G=H&&!F,U=!G||Z,V=ta({tab:d,userData:T}),$=!1===R&&F&&A.pathname.includes(`/${u}/${N.qV}`)&&v("web_retrieval_hub_profile_split_").anyEnabled,W=!1===R&&F&&v("web_retrieval_hub_profile_split_").anyEnabled,J=W&&[N.sz.enabled_with_unorganized_feed,N.sz.enabled_with_log_fix].includes(v("web_retrieval_hub_profile_split_").group),q=e=>{G&&e&&(0,tt.Z)(1e3).then(E.refresh)};if((0,i.useEffect)(()=>{(0,e7.Z)()},[]),(0,i.useEffect)(()=>{r?.apiHandler!=="v3_get_board"||r?.http_status!==404||w.current||!T||E.error?E.error&&404===E.error.httpStatus&&f("/?show_error=true",{replace:!0}):(w.current=!0,e2.Z.showHtmlError((0,g.nk)(x.bt("Mas aqui estão alguns dos outros álbuns do(a) {{ fullName }}!", "But here are some of {{ fullName }}'s other boards!", " - ", undefined, true),{fullName:I}).join(""),c(),x.bt("Não foi possível encontrar essa página.", "We couldn't find that page.", " - ", undefined, true)))}),(0,i.useEffect)(()=>{m({event_type:13,view_type:4,aux_data:{pin_id:M}})},[m,M]),(0,i.useEffect)(()=>{if(E.isLoaded){let e={profile_ownership:L?"own":"other",profile_user_id:S||""};t&&t!==P.current&&(e={...e,clickedFollowingButton:!0}),s(e)}},[t,E.isLoaded]),(0,i.useEffect)(()=>{$&&C.showOneToast(({hideToast:e})=>(0,h.jsx)(e9.Z,{dismissButton:{onDismiss:()=>{e(),m({event_type:101,view_type:4,view_parameter:J?3106:4047,component:20,element:75})}},duration:5e3,onHide:e,text:x.bt("É assim que o teu perfil é apresentado publicamente", "This is how your profile looks to others", "profilePage.selfProfile.retrievalHub.toast.educational", undefined, true)}))},[$]),!E||!E.isLoaded||!T)return null;let K=F?3106:3107,X=(0,h.jsx)(tn.aG,{children:(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(D.dr,{placementId:19}),(0,h.jsx)(D.u3,{placementId:19}),(0,h.jsx)(D.nj,{placementId:19}),(0,h.jsx)(D._f,{placementId:19}),(0,h.jsx)(e4,{navigate:f,placementId:19}),$&&(0,h.jsx)(e5.Z,{left:0,onClick:()=>f(-1)}),F&&k&&(0,h.jsx)(n.xu,{"data-test-id":"ad-only-profile-banner",display:"flex",justifyContent:"center",marginBottom:4,children:(0,h.jsx)(n.ci,{iconAccessibilityLabel:"Info",message:x.bt("Se usares um perfil publicitário impedirás que os utilizadores do Pinterest descubram a tua página de perfil. A tua página de perfil ficará escondida nos resultados de pesquisa no Pinterest e motores de pesquisa.", "Using an ad-only profile will prevent Pinners from discovering your profile page. Your profile page will be hidden in search results on Pinterest and on search engines.", "profilePage.adOnlyProfile.callout.title", undefined, true),primaryAction:{accessibilityLabel:x.bt("Sabe mais sobre perfis publicitários", "Learn more about ad-only profiles", "profilePage.adOnlyProfile.callout.primaryAction.accessibilityLabel", undefined, true),label:x.bt("Sabe mais", "Learn more", "profilePage.adOnlyProfile.callout.primaryAction.label", undefined, true),href:ee.SNA,target:"blank",role:"link"},title:x.bt("As definições da tua conta indicam que este é um perfil publicitário.", "Your account settings indicate that this is an ad-only profile.", "profilePage.adOnlyProfile.callout.title", undefined, true),type:"info"})}),(0,h.jsxs)(n.xu,{children:[(0,h.jsx)(Q.Z,{name:"ProfileHeaderContainer",children:(0,h.jsx)(ti.c,{children:e=>(0,h.jsx)(e6,{isRetrievalHub:W&&!$,minimalPartnerHeader:o,onBlockUser:B,onToggleFollow:q,showContent:U,tab:V,top:e,user:T})})}),U&&(0,h.jsx)(Q.Z,{name:"ProfileContent",children:(0,h.jsx)(n.xu,{children:e})})]})]})});return v("ps_blocking_profile_visibility",{dangerouslySkipActivation:!0}).anyEnabled&&!T?.is_private_profile&&tl.Z.includes(Number(T?.profile_view?.profile_view_id))?(0,h.jsx)(to.Z,{onToggleBlock:()=>B(),user:T}):(0,h.jsx)(e8.Z,{objectId:S,view:4,viewParameter:K,children:(0,h.jsx)(i.Fragment,{children:X})})});function tu(e){(0,i.useEffect)(()=>{(0,l.Z)("ProfilePage","/app/common/react/components/profile/ProfilePage/ProfilePage.tsx")},[]);let t=(0,td.X2)(),o=t&&Object.keys(t).map(e=>t[e]).filter(e=>e.showTooltip).length>0;return(0,h.jsx)(tc,{...e,clickedFollowingButton:o})}var t_=o(918750),tp=o(938605),tf=o(495839),th=o(23641),tm=o(619481),tg=o(890678),tx=o(550759),tb=o(812573),tw=o(798258),tP=o(816382),ty=o(798385),tv=o(381968),tC=o(374666),tj=o(305375),tA=o(520803);let tE=(0,ey.Z)(()=>Promise.all([o.e("38554"),o.e("89562"),o.e("66215"),o.e("35729")]).then(o.bind(o,678560)),void 0,e=>678560,"app-common-react-components-profile-ProfileHeader-BusinessProfileSection",e=>["38554","89562","66215","35729"]),tz=(0,ey.Z)(()=>o.e("55610").then(o.bind(o,459515)),void 0,e=>459515,"app-common-react-components-profile-ProfileCreated-ProfileCreatedContainer",e=>["55610"]),tB=(0,ey.Z)(()=>o.e("34220").then(o.bind(o,592532)),void 0,e=>592532,"app-www-pages-duplo-ProfileCreated",e=>["34220"]),tT=(0,ey.Z)(()=>o.e("56595").then(o.bind(o,10885)),void 0,e=>10885,"app-www-ProfileFollowers-ProfileFollowersControllerGraphQL",e=>["56595"]),tZ=(0,ey.Z)(()=>o.e("85682").then(o.bind(o,250995)),void 0,e=>250995,"app-www-pages-duplo-ProfileFollowing",e=>["85682"]),tI=(0,ey.Z)(()=>Promise.all([o.e("38554"),o.e("89562")]).then(o.bind(o,417770)),void 0,e=>417770,"app-common-react-components-do-aggregated-pins-did-it-DidItProfileFeed-DidItProfileFeedContainer",e=>["38554","89562"]),tS=(0,ey.Z)(()=>o.e("21720").then(o.bind(o,801084)),void 0,e=>801084,"app-www-pages-duplo-ProfileTried",e=>["21720"]),tk=(0,ey.Z)(()=>Promise.all([o.e("25176"),o.e("56876")]).then(o.bind(o,499979)),void 0,e=>499979,"app-www-pages-duplo-ProfileBoards",e=>["25176","56876"]),tR=(0,ey.Z)(()=>o.e("66215").then(o.bind(o,42763)),void 0,e=>42763,"app-www-profile-ProfileTopics-ProfileTopics",e=>["66215"]),tD=(0,ey.Z)(()=>o.e("70261").then(o.bind(o,121553)),void 0,e=>121553,"app-common-react-components-profile-ProfileStoryPins-ProfileStoryPinsContainer",e=>["70261"]),tH=(0,ey.Z)(()=>o.e("9868").then(o.bind(o,863962)),void 0,e=>863962,"app-common-react-components-profile-ProfileVideoPins-ProfileVideoPinsContainer",e=>["9868"]),tO=()=>{let e=(0,z.Z)(),t=(0,a.TH)();return e.isAuth&&t.pathname.startsWith(`/${e.username}/`)},tM=()=>{let[,,e,t]=(0,tA.Z)().path.split("/");return e===F.un.PREVIEW_PROFILE&&t?[e,t].join("/"):e},tL=()=>{let{username:e}=(0,tj.Z)(),{isAuthenticated:t}=(0,f.B)(),o=(0,ty.Z)(),l=t&&e&&o[e],i=tM(),r=l&&ta({tab:F.un.DECIDER,userData:l}),a=(()=>{let{isAuthenticated:e}=(0,f.B)(),t=(0,tA.Z)(),o=tO(),l=(0,ty.Z)()[t.params.username??""];return!!l&&function({isAuthenticated:e,isOwnProfile:t,user:o}){if(!o)return!1;let{eligible_profile_tabs:l=[],has_published_pins:i,is_partner:r,story_pin_count:a}=o,n=l.filter(({tab_type:e})=>1===e).length>0;return e&&n&&(r||!t)&&!(!r&&0===a||r&&!i&&0===a)}({isAuthenticated:e,isOwnProfile:o,user:l})})()?F.un.CREATED:F.un.SAVED,n=i||r||a;return{isRouteMachedTab:!!i,key:n,path:tw.kx[n]}};function tF(){let{path:e}=tL();return e===tw.Bj?(0,h.jsx)(tB,{}):(0,h.jsx)(tk,{})}let tN=()=>{let{isAuthenticated:e}=(0,f.B)(),t=(0,J.HG)();return e&&t};function tG({tab:e,user:t}){let o=tN();switch(e){case"_created":case F.un.PREVIEW_PROFILE_CREATED:return o?(0,h.jsx)(tz,{}):(0,h.jsx)(tB,{});case"_followers":return o?(0,h.jsx)(j.Z,{}):(0,h.jsx)(tT,{});case"_following":return o?(0,h.jsx)(j.Z,{}):(0,h.jsx)(tZ,{});case"_saved":case F.un.PREVIEW_PROFILE_SAVED:return o?(0,h.jsx)(t_.Z,{}):(0,h.jsx)(tk,{});case"tried":return o?(0,h.jsx)(tI,{}):(0,h.jsx)(tS,{});case"topics":return(0,h.jsx)(tR,{});case F.un.RETRIEVAL_HUB_PINS:return(0,h.jsx)(tp.ZP,{isOwnProfile:!0,surface:"RetrievalHub",user:t,username:t?.username||""});case F.un.RETRIEVAL_HUB_BOARDS:return o?(0,h.jsx)(t_.Z,{}):(0,h.jsx)(tF,{});case"story_pins":return o?(0,h.jsx)(tD,{}):null;case"video_pins":return o?(0,h.jsx)(tH,{}):null;case"_collages":return o?(0,h.jsx)(C,{user:t}):null;default:return o?(0,h.jsx)(j.Z,{}):(0,h.jsx)(tF,{})}}function tU({boardVisibilityDataRef:e}){let t=(0,a.TH)(),o=(0,tA.Z)(),l=tM(),n=(0,r.I0)(),{setSelfProfileBoardFilter:s}=(0,eN.WG)()||{setSelfProfileBoardFilter:()=>{}},{username:d}=(0,tj.Z)(),c=(0,r.v9)(({ui:e})=>e.mainComponent.locationToErrorMap);(0,tm.Z)(e);let{data:u}=(0,eM.Z)({name:"UserResource",options:{username:d,field_set_key:"profile"}}),p=tN(),f=(0,eb.Z)(u),m=tO(),g=(0,ty.Z)(),{logContextEvent:x}=(0,_.u)(),b=!m&&d&&g[d]&&g[d].is_ads_only_profile&&g[d].ads_only_profile_site;if((0,i.useEffect)(()=>{s(void 0),b&&(x({event_type:9371,element:13383,aux_data:{aop_origin:"ProfilePage"}}),window.location.replace(b))},[b,x,s]),b)return null;if(u?.username&&u.username!==d&&d){let e=(0,tP.Z)(u.username,d,t,p);return(0,h.jsx)(a.Fg,{replace:!0,to:e})}let w=l||ta({tab:F.un.DECIDER,userData:u})||F.un.DECIDER;return(0,h.jsx)(tC.M,{children:(0,h.jsx)(tu,{minimalPartnerHeader:u?.has_catalog&&RegExp(/\?pin=/).test(t.search),renderError:c[t.pathname],tab:w,unsetError:()=>n((0,tv.L)(t.pathname)),username:o.params.username||"",children:(0,h.jsx)(Q.Z,{name:"SafeSuspense_ProfilePage_ProfilePageTabContent",children:f&&u?(0,h.jsx)(tE,{businessProfileTab:w,deciderFallback:p?j.Z:tF}):(0,h.jsx)(tG,{tab:w,user:u})})})})}function tV(){let{username:e}=(0,tj.Z)(),{logContextEvent:t}=(0,_.u)(),o=(0,ty.Z)(),{key:l,isRouteMachedTab:r,path:a}=tL(),n=e&&o[e],s=n&&n.is_ads_only_profile&&n.ads_only_profile_site;return(0,i.useEffect)(()=>{s&&(t({event_type:9371,element:13383,aux_data:{aop_origin:"ProfilePage"}}),window.location.replace(s))},[s,t]),(0,h.jsx)(tb.ZP,{headerTab:a,children:(0,h.jsx)(Q.Z,{name:"SafeSuspense_ProfilePage_ProfileDefaultTabContent",children:(0,h.jsx)(tG,{tab:r?l:void 0})})})}function t$(){let e=tN(),t=tO(),o=(0,a.TH)(),l=(0,z.Z)(),{checkExperiment:r}=(0,O.Z)(),{username:n}=(0,tj.Z)(),{isFetching:s,isLoaded:d}=(0,eM.Z)({name:"UserResource",options:{username:n}}),{ref:c}=(0,tg.Z)(e?{name:"UserResource",options:{field_set_key:"board_visibility",username:n}}:null),u=(e=>{let{username:t}=(0,tj.Z)(),o=(0,ty.Z)(),l=t&&o[t],{path:i}=tL();if(!l||e)return!0;switch(i){case tw.c0:return(l.pin_count??0)>0||(l.board_count??0)>0;case tw.Bj:return l.has_published_pins||(l.story_pin_count??0)>0;default:return!0}})(s||!d),_=l.isAuth&&!1===l.isPartner&&t&&!o.pathname.includes(N.qV)&&r("web_retrieval_hub_profile_split_").anyEnabled&&r("web_retrieval_hub_profile_split_").group===N.sz.enabled_old,p=_?"self_profile":t?u?"own_profile":"own_profile_no_pins":u?"other_profile":"other_profile_no_pins";(0,th.qS)(p);let f=e?(0,h.jsx)(Q.Z,{name:"ProfilePage_ResourceError",children:(0,h.jsx)(i.Suspense,{fallback:(0,h.jsx)(tx.Z,{}),children:(0,h.jsx)(tU,{boardVisibilityDataRef:c})})}):(0,h.jsx)(tV,{});return(0,h.jsx)(tf.Z,{customEnabledNavigationTypes:["client_route_push","client_route_replace","initial_app_load"],measureGridVisuallyComplete:u,surface:p,children:f})}function tW(){(0,i.useEffect)(()=>{(0,l.Z)("ProfilePage","/app/www/pages/ProfilePage.tsx")},[]);let{isAuthenticated:e}=(0,f.B)();return(0,i.useEffect)(()=>{(0,e7.Z)()},[]),e?(0,h.jsx)(t$,{}):(0,h.jsx)(tV,{})}},325184:function(e,t,o){o.d(t,{Z:()=>h});var l=o(686659),i=o(667294),r=o(740097),a=o(59355),n=o(24246),s=o(774838),d=o(824751),c=o(832333),u=o(785893);function _({cover:e,height:t,image:o,width:a}){return((0,i.useEffect)(()=>{(0,l.Z)("BoardCollageCoverImage","/app/www/profile/ProfileBoardCard/BoardCollageCoverImage.tsx")},[]),e)?(0,u.jsx)(c.Z,{customCover:e.isCustom,height:t,imgPos:e.position||{width:0,height:0,x:0,y:0},imgUrl:e.url??"",width:a}):o&&o.url?(0,u.jsx)(r.zd,{height:t,wash:!0,width:a,children:(0,u.jsx)(r.Ee,{alt:"Board collage cover image",color:"#EFEFEF",fit:"cover",naturalHeight:o.height??1,naturalWidth:o.width??1,src:o.url})}):(0,u.jsx)(r.xu,{color:"secondary",height:t,width:a})}var p=o(313412),f=o(824141);function h({boardThumbs:e=[],cover:t,editButton:o,isActive:c,isSecret:h,layout:m,sensitivityScreenAuxData:g,showSensitivityScreen:x=!1}){(0,i.useEffect)(()=>{(0,l.Z)("BoardCollage","/app/www/profile/ProfileBoardCard/BoardCollage.tsx")},[]);let b=(0,n.Z)();(0,a.Q)(x?{component:13861,view_type:215,aux_data:g}:null);let{isRTL:w}=(0,s.B)(),{height:P,width:y}=(0,f.F)(m),v=Math.floor(P/2),C=Math.floor(y/3),j=t?void 0:e[0],A=e.slice(+!t);return(0,u.jsxs)(r.zd,{height:P,rounding:4,wash:c,width:y,children:[(0,u.jsx)(r.xu,{"aria-label":"Board",color:"default",dangerouslySetInlineStyle:{__style:x?{filter:"blur(20px)"}:{}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:(0,u.jsxs)(r.xu,{"aria-hidden":"true",dangerouslySetInlineStyle:{__style:{gap:"1px"}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:[(0,u.jsx)(_,{cover:t,height:P,image:j,width:Math.floor(y/3*2)}),(0,u.jsxs)(r.kC,{alignItems:"stretch",direction:"column",flex:"none",height:"100%",justifyContent:"between",children:[(0,u.jsx)(p.Z,{height:v,image:A[0],width:C}),(0,u.jsx)(p.Z,{height:v,image:A[1],width:C})]})]})}),h&&(0,u.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:32,justifyContent:"center",left:!w,marginStart:2,marginTop:2,position:"absolute",right:w,rounding:"circle",top:!0,width:32,children:(0,u.jsx)(d.Z,{})}),c&&o&&(0,u.jsx)(r.xu,{alignItems:"center",bottom:!0,color:"default",display:"flex",height:32,justifyContent:"center",left:w,marginBottom:2,marginEnd:2,position:"absolute",right:!w,rounding:"circle",width:32,children:o}),x&&(0,u.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,u.jsx)(r.qd,{align:"center",color:"light",size:"400",children:b.bt("Este álbum pode conter conteúdo sensível", "This board may contain sensitive content", "profileBoardCard.boardCollage.heading", undefined, true)})})]})}},313412:function(e,t,o){o.d(t,{Z:()=>n});var l=o(686659),i=o(667294),r=o(740097),a=o(785893);function n({image:e,width:t,height:o}){return(0,i.useEffect)(()=>{(0,l.Z)("BoardCollageImage","/app/www/profile/ProfileBoardCard/BoardCollageImage.tsx")},[]),e&&e.url?(0,a.jsx)(r.zd,{height:o,wash:!0,width:t,children:(0,a.jsx)(r.Ee,{alt:"Board collage image",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url})}):(0,a.jsx)(r.xu,{color:"secondary",height:o,width:t})}},824141:function(e,t,o){o.d(t,{F:()=>i,m:()=>r});let l={square:{width:236,height:157},wide:{width:320,height:213}};function i(e){return l["square"===e?"square":"wide"]}function r(e){return i(e).width+16}},592410:function(e,t,o){o.d(t,{Z:()=>d});var l=o(686659),i=o(667294),r=o(740097),a=o(24246),n=o(325184),s=o(785893);function d({boardThumbs:e,isChangeBoardModal:t,isSecret:o,name:d,onNameChange:c,onVisibilityChange:u,submitError:_}){(0,i.useEffect)(()=>{(0,l.Z)("CreateBoard","/app/www/profile/ProfileBoards/BoardlessPins/CreateBoard.tsx")},[]);let p=(0,a.Z)();return(0,s.jsx)(r.xu,{paddingX:8,children:(0,s.jsxs)(r.kC,{direction:"column",gap:{row:0,column:4},children:[e&&!t&&(0,s.jsx)(n.Z,{boardThumbs:e,editButton:null,isActive:!1,isSecret:!1,layout:"square"}),(0,s.jsxs)(r.kC,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsx)(r.xv,{size:"100",children:p.bt("Nome", "Name", "boardlessPins.createBoard.boardNameText", undefined, true)}),(0,s.jsx)(r.nv,{id:"boardName",name:"boardName",onChange:c,placeholder:p.bt("Escreve um título, como \"Bricolage\" ou \"Receitas\"", "Add a title, like “DIY” or “Recipes”", "boardlessPins.createBoard.boardNameTextPlaceholder", undefined, true),size:"lg",value:d})]}),(0,s.jsxs)(r.kC,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsx)(r.xv,{size:"100",children:p.bt("Visibilidade", "Visibility", "boardlessPins.createBoard.visibilityTitle", undefined, true)}),(0,s.jsxs)(r.kC,{gap:{row:4,column:0},children:[(0,s.jsx)(r.XZ,{checked:o,id:"boardVisibility",name:"boardVisibility",onChange:u}),(0,s.jsxs)(r.kC,{direction:"column",gap:{row:0,column:1},children:[(0,s.jsx)(r.xv,{children:p.bt("Manter este álbum como secreto", "Keep this board secret", "boardlessPins.createBoard.visibilityCheckbox", undefined, true)}),(0,s.jsx)(r.xv,{color:"subtle",children:p.bt("Para que só tu e os teus colaboradores consigam ver.", "So only you and collaborators can see it.", "boardlessPins.createBoard.visibilityCheckboxInfo", undefined, true)})]})]})]}),_&&(0,s.jsx)(r.xv,{color:"error",children:_})]})})}},378512:function(e,t,o){o.d(t,{Z:()=>l});function l({hasCustomOrder:e,hasGroupBoard:t,isOwnProfile:o,mostRecentBoardSortOrder:l,requestContext:i,updatedBoardOrder:r}){if(!o)return"last_pinned_to";if(r)return r;if(l)return l;let a=i?.experimentsClient.checkExperiment("web_gb_highlight_on_profile_default").anyEnabled;return e?"custom":!e&&t&&a?"group_boards_at_top":"last_pinned_to"}},312629:function(e,t,o){o.d(t,{Z:()=>r});var l=o(740097),i=o(785893);let r=function({children:e,itemWidth:t,maxColumns:o=12}){return(0,i.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[e,Array.from(Array(o)).map((e,o)=>(0,i.jsx)(l.xu,{width:t},o))]})}},293618:function(e,t,o){o.d(t,{Z:()=>n});var l=o(686659),i=o(667294),r=o(740097),a=o(785893);function n({accessibilityLabel:e,color:t="default",icon:o,info:n}){return(0,i.useEffect)(()=>{(0,l.Z)("AboutDrawerInfoRow","/app/www/profile/ProfileHeader/AboutDrawerInfoRow.tsx")},[]),(0,a.jsxs)(r.kC,{gap:{row:7,column:0},children:[(0,a.jsx)(r.JO,{accessibilityLabel:e,color:t,icon:o,size:20}),n]})}},791349:function(e,t,o){o.d(t,{Z:()=>u});var l=o(686659),i=o(667294),r=o(740097),a=o(319226),n=o(24246),s=o(920343),d=o(151308),c=o(785893);let u=({onTouch:e,size:t="xl",user:o,viewer:u,ref:_})=>{(0,i.useEffect)(()=>{(0,l.Z)("AvatarWithPincode","/app/www/profile/ProfileHeader/AvatarWithPincode.tsx")},[]);let p=(0,n.Z)(),{image_xlarge_url:f,username:h,avatar_color_index:m}=o??{},g=(0,d.Z)(o),x=(0,s.Z)({viewer:u,user:o})||u.isAuth&&u.isEmployee,b=(0,c.jsx)(a.qE,{color:m,name:h||"",outline:g,size:t,src:f??void 0});return x?(0,c.jsx)(r.iP,{ref:_,accessibilityLabel:p.bt("Clica para abrir o código Pin e partilhar o perfil", "Click to open pincode and share profile", "AvatarWithPincode.pincodeEnabled.accessibilityLabel", undefined, true),fullWidth:!1,onTap:e,rounding:"circle",children:b}):b}},698681:function(e,t,o){o.d(t,{I_:()=>a,Rf:()=>d,TL:()=>u,V1:()=>r,X9:()=>i,cO:()=>l,fk:()=>s,g:()=>c,wN:()=>_,wc:()=>n});let l=360,i=640,r=1244,a=488,n=275,s=488,d=80,c=211,u=64,_=1},819005:function(e,t,o){o.d(t,{Z:()=>B});var l,i=o(686659),r=o(667294),a=o(167912),n=o(740097),s=o(249459),d=o(470205),c=o(935059),u=o(24246),_=o(661376),p=o(825605),f=o(230201),h=o(774838),m=o(385114),g=o(739405),x=o(691198),b=o(293618),w=o(151308),P=o(938359),y=o(9065),v=o(785893);let C=(0,y.Z)(()=>o.e("6332").then(o.bind(o,113229)),void 0,e=>113229,"app-www-followersAuthDesktop-FollowersModalContainer",e=>["6332"]),j=(0,y.Z)(()=>Promise.all([o.e("25418"),o.e("56595"),o.e("94898")]).then(o.bind(o,923459)),void 0,e=>923459,"app-www-ProfileFollowers-ProfileFollowersModalGraphQL",e=>["25418","56595","94898"]);function A({followersTotalCount:e,followingResource:t,followingTotalCount:o,isAboutDrawerVariant:l,isViewingOwnProfile:a,size:s="300",user:d}){(0,r.useEffect)(()=>{(0,i.Z)("FollowerCountsGraphQL","/app/www/followersAuthDesktop/FollowerCountsGraphQL.tsx")},[]);let c=(0,u.Z)(),_=new URL(window.location.href),p=(()=>{let{isAuthenticated:e}=(0,h.B)(),t=(0,g.HG)();return e&&t})(),{logContextEvent:y}=(0,f.u)(),A=/_(followers|following)\/$/,E=_.pathname.match(A),z=p&&E?.[1]||null,[B,T]=(0,r.useState)(z),Z=()=>{T(null),z&&window.history.pushState({},"",_.pathname.replace(A,""))},I=e=>{T(e),a&&y({event_type:101,view_type:4,view_parameter:3106,component:13056,element:"followers"===e?42:41})},S=(0,w.Z)(d);return(0,v.jsxs)(r.Fragment,{children:[l?(0,v.jsxs)(n.kC,{direction:"column",gap:{row:0,column:6},children:[!!e&&e>=0&&(0,v.jsx)(b.Z,{accessibilityLabel:c.bt("Ícone de seguidores", "Followers icon", "profileHeader.followersIcon", undefined, true),icon:"person-add",info:(0,v.jsx)(m.Z,{items:[(0,v.jsx)(x.Z,{count:e,onClick:()=>I("followers"),size:s,variant:"followers"},"followersDisplay"),S?(0,v.jsx)(P.default,{user:d}):null]})}),o>=0&&(0,v.jsx)(b.Z,{accessibilityLabel:c.bt("Ícone de seguimento", "Following icon", "profileHeader.followingIcon", undefined, true),icon:"people",info:(0,v.jsx)(x.Z,{count:o,onClick:()=>I("following"),size:s,variant:"following"})})]}):(0,v.jsx)(m.Z,{items:[e&&e>=0?(0,v.jsx)(x.Z,{count:e,onClick:()=>I("followers"),size:s,variant:"followers"}):null,o>=0?(0,v.jsx)(x.Z,{count:o,onClick:()=>I("following"),size:s,variant:"following"}):null]}),"followers"===B&&(0,v.jsx)(j,{onDismiss:Z,totalFollowersCount:e}),"following"===B&&(0,v.jsx)(C,{followersResource:t,onDismiss:Z,totalFollowersCount:o,user:d,variant:B})]})}var E=o(920343);function z({isAboutDrawerVariant:e=!1,size:t="300",user:i}){let r=(0,c.Z)(),{id:n}=i,d=(void 0!==l||(l=o(768171)).hash&&"a23b0f7439754a2c42bb445168b9e510"!==l.hash&&console.error("The definition of 'FollowersControllerQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),u=(0,a.useLazyLoadQuery)(d,{userId:n}),{following_count:p=0,interest_following_count:f=0}=i,h=u.v3GetUserHandlerQuery?.__typename==="V3GetUserHandler"?u.v3GetUserHandlerQuery.data:null,{followerCount:m,username:g}=h||{},x=(0,E.Z)({user:i,viewer:r}),b=(0,_.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!!x||void 0,page_size:s.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:x,username:g}});return h?(0,v.jsx)(A,{followersTotalCount:m,followingResource:b,followingTotalCount:p-(f??0),isAboutDrawerVariant:e,isViewingOwnProfile:x,size:t,user:i}):null}function B(e){(0,r.useEffect)(()=>{(0,i.Z)("FollowersController","/app/www/profile/ProfileHeader/FollowersController.tsx")},[]);let t=(0,u.Z)(),{compactLoader:o=!1,size:l}=e,a=t.bt("A carregar a contagem de seguidores", "Loading follower counts", "profile.header.followerController", undefined, true);return(0,v.jsx)(d.Z,{name:"SafeSuspense_ProfileHeader_FollowersController",children:(0,v.jsx)(p.Z,{fallback:o?(0,v.jsx)(n.xv,{size:l,children:a}):(0,v.jsx)(n.xu,{padding:5,children:(0,v.jsx)(n.xH,{accessibilityLabel:a,show:!0})}),children:(0,v.jsx)(z,{...e})})})}},52258:function(e,t,o){o.d(t,{Z:()=>C});var l=o(686659),i=o(667294),r=o(740097),a=o(27399),n=o(496769),s=o(230201),d=o(24246),c=o(758714),u=o(216975),_=o(488661),p=o(510755),f=o(767415),h=o(785893);let m=new r.H3([new r.Ry(_.HW),new r.Ry(p.fe)]),g="/settings/account-settings/",x=({text:e})=>{let t=(0,i.useRef)(null),[o,l]=(0,i.useState)(!1);return o&&(0,f.nP)("client.profile.inspirational_badge_controls.info_tool_tip.rendered",{sampleRate:1}),(0,h.jsxs)(i.Fragment,{children:[o&&(0,h.jsx)(r.J2,{_deprecatedShowCaret:!0,anchor:t.current,color:"deprecatedBlue",idealDirection:"up",onDismiss:()=>l(!1),positionRelativeToAnchor:!1,size:"sm",children:(0,h.jsx)(r.xu,{padding:3,children:(0,h.jsx)(r.xv,{align:"center",color:"inverse",size:"200",children:e})})}),(0,h.jsx)(r.xu,{height:32,width:32,children:(0,h.jsx)(r.iP,{ref:t,fullHeight:!0,fullWidth:!0,onFocus:()=>l(!0),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:(0,h.jsx)(r.hU,{accessibilityLabel:e,icon:"info-circle",iconColor:"subtle",size:"sm"})})})]})},b=({badgeLabel:e,disabled:t,eligible:o,isChecked:l,setSelectedBadge:i})=>{let a=(0,h.jsx)(r.xu,{display:"inlineBlock",children:(0,h.jsx)(r.__,{htmlFor:`inspirational-badge-${e.id}`,children:(0,h.jsx)(r.xv,{overflow:"noWrap",children:(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n.QP["0"],color:o?"black":"gray"}},display:"inlineBlock",marginEnd:1,marginStart:1,paddingX:2,paddingY:1,rounding:1,children:e.label})})})});return(0,h.jsxs)(r.kC,{alignItems:"start",direction:"row",children:[(0,h.jsx)(r.xu,{display:"inlineBlock",marginBottom:2,marginEnd:2,children:(0,h.jsx)(r.XZ,{checked:l,disabled:t,id:`inspirational-badge-${e.id}`,name:"badges",onChange:({checked:t})=>i(e.id,t)},e.id)}),e.controlsTooltip?(0,h.jsx)(r.u,{idealDirection:"right",text:e.controlsTooltip,children:a}):a]},e.id)};function w({inspirationalSignal:e,onDismiss:t,onSubmit:o}){(0,i.useEffect)(()=>{(0,l.Z)("InspirationalBadgeControls","/app/www/profile/ProfileHeader/InspirationalBadgeControls.tsx")},[]);let{logContextEvent:a}=(0,s.u)(),_=(0,d.Z)(),p=_.bt("Mais informações", "Learn more", "InspoBadges.learnMore", undefined, true),w=_.bt("Contacta-nos", "Contact us", "InspoBadgeControls.contactUs", undefined, true),P=_.bt("Valores da marca", "Brand values", "InspoBadgeControls.brandValuesLegend", undefined, true),y=_.bt("O site da tua marca indica que a tua empresa segue os valores abaixo indicados", "Your brand's website indicates that your business is aligned with the values listed below", "InspoBadges.brandValuesTooltip", undefined, true),v=_.bt("Comunidades", "Communities", "InspoBadgeControls.communitiesLegend", undefined, true),C=_.bt("O proprietário da tua marca identifica-se como membro de um destes grupos. Estas informações só estão associadas com a tua conta de empresa. Não serão utilizadas para segmentar anúncios. ", "Your brand's owner self-identified as a member of these groups. This information is only associated with your business account and isn't used to target ads. ", "InspoBadges.communityTooltip", undefined, true),j=_.bt("cor predefinida", "default color", "InspoBadgeControls.defaultColor", undefined, true),A=(0,n.eT)(e),E=(0,n.hm)(e),z=(0,n.I)(_,A,e.badge_details),B=(0,n.I)(_,E,e.badge_details),T=z.filter(e=>n.yQ.includes(e.id)),Z=z.filter(e=>n.Dm.includes(e.id)),I=z.map(e=>e.id),S=B.map(e=>e.id),k=e.inspirational_badge_selection?.badgeColor||n.QP["0"],[R,D]=(0,i.useState)(S),[H,O]=(0,i.useState)(!1),[M,L]=(0,i.useState)(k),F=(0,i.useRef)(null),N=!!(0,c.oo)(M),G=N?M.toUpperCase():n.QP["0"],U=G===n.QP["0"]?`${G} (${j})`:G,V=I.filter(e=>!R.includes(e)),$=S.length!==R.length||!R.every(e=>S.includes(e))||M!==k,W=(e,t)=>{D(t?[...R,e]:R.filter(t=>t!==e)),a({event_type:t?9675:9676,component:13911})};return(0,f.nP)("client.profile.inspirational_badge_controls.rendered",{sampleRate:1}),(0,h.jsx)(r.mh,{zIndex:m,children:(0,h.jsx)(r.To,{accessibilityDismissButtonLabel:_.bt("Fechar folha de distintivos de inspiração", "Close Inspirational Badges sheet", "InspoBadgeControls.accessibilityDismissButtonLabel", undefined, true),accessibilityLabel:_.bt("Personalização de distintivos de inspiração para perfil empresarial", "Inspirational Badges customization for business profile", "InspoBadgeControls.accessibilitySheetLabel", undefined, true),footer:({onDismissStart:e})=>(0,h.jsxs)(r.kC,{direction:"row",justifyContent:"between",children:[(0,h.jsxs)(r.xu,{children:[(0,h.jsx)(r.xv,{color:"subtle",inline:!0,size:"200",children:_.bt("Tens alguma dúvida sobre os valores da marca?", "Have questions about brand values?", "InspoBadgeControls.haveQuestions", undefined, true)}),(0,h.jsx)("br",{}),(0,h.jsx)(r.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:(0,h.jsx)(r.rU,{accessibilityLabel:w,display:"inlineBlock",href:"https://help.pinterest.com/en/contact",target:"blank",underline:"hover",children:w})})]}),(0,h.jsx)(r.xu,{children:(0,h.jsxs)(r.hE,{children:[(0,h.jsx)(r.zx,{color:"gray",onClick:e,text:_.bt("Cancelar", "Cancel", "InspoBadgeControls.cancel", undefined, true)}),(0,h.jsx)(r.zx,{color:"red",disabled:!$,onClick:()=>o({badgeColor:M,badgeOptOut:V}),text:_.bt("Guardar", "Save", "InspoBadgeControls.save", undefined, true)})]})})]}),heading:_.bt("Editar detalhes do comerciante", "Edit merchant details", "InspoBadgeControls.title", undefined, true),onDismiss:t,size:"sm",children:(0,h.jsx)(r.kC,{direction:"column",gap:{row:0,column:12},children:(0,h.jsxs)(r.kC,{direction:"column",gap:{row:0,column:4},children:[(0,h.jsxs)(r.xu,{children:[(0,h.jsxs)(r.xv,{inline:!0,children:[_.bt("O Pinterest está comprometido em associar os seus utilizadores a comerciantes com valores semelhantes.", "Pinterest is committed to connecting shoppers and merchants with compatible values.", "InspoBadgeControls.description", undefined, true),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),_.bt("Coloca um máximo de três valores da tua marca e/ou comunidades no teu perfil para que os utilizadores do Pinterest conheçam os ideais da tua empresa.", "Feature up to three brand values and/or communities on your profile to let people on Pinterest know what your business represents.", "InspoBadgeControls.description2", undefined, true)]})," ",(0,h.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(r.rU,{accessibilityLabel:p,display:"inlineBlock",href:n._f,onClick:()=>{a({event_type:9677,component:13911})},target:"blank",underline:"hover",children:p})})]}),(0,h.jsxs)(r.kC,{direction:"column",children:[(0,h.jsxs)(r.kC,{alignItems:"center",children:[(0,h.jsx)(r.xv,{inline:!0,overflow:"noWrap",size:"200",children:P}),(0,h.jsx)(x,{text:y})]}),(0,h.jsx)(r.xu,{paddingY:1,children:(0,h.jsx)(r.pg,{legend:P,legendDisplay:"hidden",children:(0,h.jsx)(r.kC,{direction:"column",gap:{row:0,column:3},children:T.map(e=>{let t=R.includes(e.id),o=R.length>=n.S4&&!t;return(0,h.jsx)(b,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:W},e.id)})})})})]}),Z.length>0&&(0,h.jsxs)(r.kC,{direction:"column",children:[(0,h.jsxs)(r.kC,{alignItems:"center",children:[(0,h.jsx)(r.xv,{inline:!0,overflow:"noWrap",size:"200",children:v}),(0,h.jsx)(x,{text:C})]}),(0,h.jsx)(r.xu,{paddingY:1,children:(0,h.jsx)(r.pg,{legend:v,legendDisplay:"hidden",children:(0,h.jsx)(r.kC,{direction:"column",gap:{row:0,column:3},children:Z.map(e=>{let t=R.includes(e.id),o=R.length>=n.S4&&!t;return(0,h.jsx)(b,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:W},e.id)})})})}),(0,h.jsx)(r.xv,{color:"subtle",inline:!0,size:"200",children:(0,u.nk)(_.bt("Para alterares as informações da comunidade, visita {{ accountSettingsLink }}", "To change communities info, visit {{ accountSettingsLink }}", "InspoBadgeControls.changeCommunities", undefined, true),{accountSettingsLink:(0,h.jsx)(r.rU,{display:"inlineBlock",href:g,underline:"hover",children:(0,h.jsx)(r.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:_.bt("Definições da conta", "account settings", "InspoBadgeControls.accountSettingsLink", undefined, true)})},g)})})]}),(0,h.jsxs)(r.kC,{direction:"column",children:[(0,h.jsxs)(r.xu,{children:[(0,h.jsx)(r.xu,{marginBottom:4,marginTop:4,children:(0,h.jsx)(r.__,{htmlFor:"color-menu",children:(0,h.jsx)(r.xv,{size:"200",children:_.bt("Escolhe uma cor para a etiqueta", "Choose your label color", "InspoBadgeControls.labelColor", undefined, true)})})}),(0,h.jsx)(r.zx,{accessibilityControls:"color-menu",accessibilityExpanded:H,accessibilityHaspopup:!0,iconEnd:"arrow-down",onClick:()=>{a({event_type:9674,component:13911}),O(!0)},selected:H,size:"lg",text:U})]}),(0,h.jsx)(r.xu,{ref:F}),H&&(0,h.jsx)(r.mh,{children:(0,h.jsx)(r.J2,{anchor:F.current,idealDirection:"down",onDismiss:()=>O(!1),positionRelativeToAnchor:!1,role:"listbox",shouldFocus:!0,size:"flexible",children:(0,h.jsxs)(r.xu,{borderStyle:"shadow",id:"color-menu",padding:4,rounding:2,width:"100%",children:[(0,h.jsx)(r.kC,{alignItems:"start",gap:{row:4,column:0},children:n.QP.map(e=>(0,h.jsx)(r.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:M===e?"black":e,backgroundColor:e}},height:48,marginBottom:4,rounding:"circle",width:48,children:(0,h.jsx)(r.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>L(e),rounding:4})},e))}),(0,h.jsxs)(r.kC,{alignItems:"start",gap:{row:4,column:0},children:[(0,h.jsx)(r.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:N&&!n.QP.includes(M.toUpperCase())?"black":void 0,backgroundColor:G}},height:48,rounding:"circle",width:48}),(0,h.jsx)(r.nv,{id:"selected-color",onChange:({value:e})=>L(e.slice(0,7)),size:"lg",value:M})]})]})})})]})]})})})})}var P=o(661376),y=o(171039);let v=new r.Ry(10);function C(e){(0,i.useEffect)(()=>{(0,l.Z)("InspirationalBadgesAuthDesktop","/app/www/profile/ProfileHeader/InspirationalBadgesAuthDesktop.tsx")},[]);let{isOwnProfile:t,marginEnd:o=1,marginStart:c=1,userId:u,rounding:_=1,size:p="200"}=e,{logContextEvent:m}=(0,s.u)(),g=(0,d.Z)(),x=g.bt("Mais informações", "Learn more", "InspoBadges.learnMore", undefined, true),b=g.bt("Novo!", "New!", "InspoBadges.newText", undefined, true),C=g.bt("Apresenta os valores da tua marca e indica as comunidades das quais fazes parte", "Show shoppers your brand values and which communities you're a part of", "InspoBadges.editTooltipText", undefined, true),j=g.bt("Adicionar detalhes do comerciante", "Add merchant details", "InspoBadges.toggleEditBadges", undefined, true),A=function(){let e=(0,y.Z)(),t=e.data?.id;return(0,P.Z)({name:"VerifiedMerchantResource",options:{userId:t}})}(),E=A.data,z=(0,n.Bu)({verifiedMerchant:E}),B=(0,i.useRef)(null),[T,Z]=(0,i.useState)(n.Xe),[I,S]=(0,i.useState)(!1),[k,R]=(0,i.useState)(!0),D=z?(0,n.hm)(T):[],H=(0,n.I)(g,D,T.badge_details),O=T.inspirational_badge_selection?.badgeColor||n.QP["0"];(0,i.useEffect)(()=>{Z(E?.inspirational_signal||n.Xe)},[E?.inspirational_signal]),(0,i.useEffect)(()=>{D&&D.length&&m({event_type:9667,view_type:4,component:13910})});let M=()=>{S(!0),R(!1),m({event_type:9671,component:13911})},L=()=>{m({event_type:9668,component:13910})},F=()=>{m({event_type:9670,component:13910})};return z&&(0,f.nP)("client.profile.inspirational_badges.rendered",{sampleRate:1,tags:{is_own_profile:t,num_badges:H.length,badge_color:O,user_id:E?.id}}),z?(0,h.jsxs)(i.Fragment,{children:[(0,h.jsxs)(r.kC,{alignItems:"center",children:[H.map(e=>(0,h.jsx)(r.u,{link:(0,h.jsx)(r.xu,{"data-test-id":"inspirational-badge-tooltip-learn-more",children:(0,h.jsx)(r.rU,{accessibilityLabel:x,href:n.NG,onClick:F,target:"blank",children:(0,h.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:x})})}),text:e.description,zIndex:v,children:(0,h.jsx)(r.xv,{overflow:"noWrap",size:p,children:(0,h.jsx)(r.iP,{onMouseEnter:L,children:(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:(0,n.ym)(O)},"data-test-id":"inspirational-badge",display:"inlineBlock",marginEnd:o,marginStart:c,paddingX:2,paddingY:1,rounding:_,children:e.label})})})},e.label)),t&&(0,h.jsxs)(i.Fragment,{children:[k&&(0,h.jsx)(r.mh,{zIndex:v,children:(0,h.jsx)(r.J2,{_deprecatedShowCaret:!0,anchor:B.current,color:"deprecatedBlue",idealDirection:"up",onDismiss:()=>{R(!1),m({event_type:9673,component:13911})},positionRelativeToAnchor:!1,size:"xs",children:(0,h.jsx)(r.xu,{padding:3,children:(0,h.jsxs)(r.xv,{align:"center",color:"inverse",inline:!0,size:"200",children:[(0,h.jsx)(r.xv,{inline:!0,weight:"bold",children:b})," ",C]})})})}),0===H.length&&(0,h.jsx)(r.xu,{display:"inlineBlock",children:(0,h.jsx)(r.iP,{fullWidth:!0,onTap:M,children:(0,h.jsx)(r.xv,{color:"subtle",children:j})})}),(0,h.jsx)(r.hU,{ref:B,accessibilityLabel:j,icon:"edit",iconColor:"subtle",onClick:M,size:"sm"})]})]}),I&&(0,h.jsx)(w,{inspirationalSignal:T,onDismiss:()=>S(!1),onSubmit:({badgeColor:e,badgeOptOut:t})=>{S(!1),a.Z.create("VerifiedMerchantResource",{userId:u,inspirational_badge_selection:{badgeColor:e,badgeOptOut:t}}).callUpdate().then(()=>A.refresh()),Z({...T,inspirational_badge_selection:{badgeColor:e,badgeOptOut:t}}),m({event_type:9672,component:13911})}})]}):(0,h.jsx)(i.Fragment,{})}},304264:function(e,t,o){o.d(t,{Z:()=>v});var l=o(686659),i=o(667294),r=o(470205),a=o(935059),n=o(740097),s=o(230201),d=o(59355),c=o(24246),u=o(216975),_=o(582641),p=o(27399),f=o(271875),h=o(94950),m=o(785893);function g({children:e,flyoutDirection:t,setShowMessageFlyout:o,showMessageFlyout:r,userId:a}){(0,i.useEffect)(()=>{(0,l.Z)("ProfileMessageController","/app/www/profile/ProfileHeader/ProfileMessageController.tsx")},[]);let{logContextEvent:d}=(0,s.u)(),[c,u]=(0,i.useState)(""),_=(0,i.useRef)(null),{conversationCreate:g,conversationOpen:x}=(0,f.Z)(),b=async()=>{u(""),o(!1),d({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});let e=p.Z.create("ConversationsResource",{user_ids:[a],text:c}),t=await e.callCreate(),l=t?.resource_response.data;g(l),x(l.id)};return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(n.xu,{ref:_,children:e({toggleSendMessageFlyout:()=>{o(!r)}})}),r&&(0,m.jsx)(h.Z,{anchor:_.current,idealDirection:t,message:c,onDismiss:()=>o(!1),onMessageChange:u,onMessageSubmit:b})]})}var x=o(962875);function b({isOwnProfile:e,setShowMessageFlyout:t,size:r="lg",showMessageFlyout:a,user:p}){(0,i.useEffect)(()=>{(0,l.Z)("ContactMenuButton","/app/www/profile/ProfileHeader/ContactMenuButton.tsx")},[]);let{logContextEvent:f}=(0,s.u)(),h=(0,c.Z)(),b=(0,i.useRef)(null),[w,P]=(0,i.useState)(!1),[y,v]=(0,i.useState)(),C=(0,_.V)(e,p?.partner?.profile_place||{},h.bt("Endereço copiado", "Address copied", "profileHeader.contactButton.toastText", undefined, true)),j=()=>{P(!1)},{id:A,partner:E}=p,{contact_email:z="",contact_phone:B="",contact_phone_country:T="",enable_profile_address:Z,enable_profile_message:I,profile_place:S={}}=E??{},k=B?y?.(B,{defaultCallingCode:T&&"0"!==T.phone_code?T.phone_code:void 0}):null;(0,d.Q)({component:13673,element:11953,object_id_str:A,view_type:4,view_parameter:3107});let R=async()=>{if(P(e=>!e),B&&!y){let e=await o.e("59699").then(o.bind(o,932266));v(()=>e.parsePhoneNumberFromString)}f({event_type:101,component:13673,element:11953,object_id_str:A,view_type:4,view_parameter:3107})},D=e=>{f({event_type:101,component:13674,element:e,object_id_str:A,view_type:48,view_parameter:3107})},H=z||B,O={contact:h.bt("Contacto", "Contact", "profileHeader.contactButton", undefined, true),sectionTitle:h.bt("Opções de contacto", "Contact options", "profileHeader.contactButton.contactOptions", undefined, true),message:h.bt("Mensagem", "Message", "profileHeader.contactMenu.message", undefined, true),email:(0,u.nk)(h.bt("E-mail {{ contactEmail }}", "Email {{ contactEmail }}", "profileHeader.contactMenu.email", undefined, true),{contactEmail:z}),call:h.bt("Ligar", "Call", "profileHeader.contactMenu.phoneNumber", undefined, true)};if(!H&&!I)return null;let M=(0,_.T)(S||{});return(0,m.jsx)(g,{flyoutDirection:"up",setShowMessageFlyout:t,showMessageFlyout:a,userId:A,children:({toggleSendMessageFlyout:e})=>(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(n.xu,{ref:b,children:(0,m.jsx)(n.zx,{onClick:()=>{H?R():e()},selected:w,size:r,text:O.contact})}),w&&(0,m.jsxs)(n.Lt,{anchor:b.current,disableMobileUI:!0,id:"profileHeader_contactMenu",idealDirection:"up",onDismiss:j,zIndex:new n.H3([x.Zu]),children:[(0,m.jsxs)(n.Lt.Section,{label:O.sectionTitle,children:[I&&(0,m.jsx)(n.Lt.Item,{onSelect:()=>{e(),D(11956),j()},option:{label:O.message,value:O.message}}),z&&(0,m.jsx)(n.Lt.Link,{href:`mailto:${z}`,iconEnd:"visit",onClick:()=>{D(11954),j()},option:{label:O.email.join(""),value:O.email.join("")}}),k||B?(0,m.jsx)(n.Lt.Link,{href:`tel:${k?k.getURI():B}`,iconEnd:"visit",onClick:({dangerouslyDisableOnNavigation:e})=>{D(11955),e(),j()},option:{label:O.call,value:O.call}}):null]}),Z&&(0,m.jsx)(n.Lt.Section,{label:h.bt("Endereço", "Address", "profileHeader.contactButton.address", undefined, true),children:(0,m.jsx)(n.Lt.Item,{onSelect:C,option:{label:M,value:M}})})]})]})})}var w=o(548983),P=o(920343),y=o(151308);function v(e){(0,i.useEffect)(()=>{(0,l.Z)("ProfileHeaderContactButton","/app/www/profile/ProfileHeader/ProfileHeaderContactButton.tsx")},[]);let{setShowMessageFlyout:t,size:o,showMessageFlyout:n,user:s}=e,d=(0,a.Z)(),c=(0,y.Z)(s),u=(0,P.Z)({user:s,viewer:d}),{blocked_by_me:_,id:p,partner:f={},should_show_messaging:h}=s,{contact_email:x="",contact_phone:v="",enable_profile_message:C}=f||{},j=!_&&!!h&&!!(d.isAuth&&d.should_show_messaging);return j&&(x||v)?(0,m.jsx)(r.Z,{name:"ContactMenuButton",children:(0,m.jsx)(b,{isOwnProfile:u,setShowMessageFlyout:t,showMessageFlyout:n,size:o,user:s})}):j&&(C||!c)?(0,m.jsx)(g,{flyoutDirection:"up",setShowMessageFlyout:t,showMessageFlyout:n,userId:p,children:({toggleSendMessageFlyout:e})=>(0,m.jsx)(w.Z,{onClick:e,size:o,userId:p})}):null}},938359:function(e,t,o){o.r(t),o.d(t,{default:()=>p});var l=o(686659),i=o(667294),r=o(740097),a=o(753806),n=o(935059),s=o(24246),d=o(507006),c=o(216975),u=o(920343),_=o(785893);function p({color:e="default",user:t,inline:o=!1,size:p}){(0,i.useEffect)(()=>{(0,l.Z)("ViewerCount","/app/www/profile/ProfileHeader/ViewerCount.tsx")},[]);let f=(0,s.Z)(),h=(0,i.useRef)(null),m=(0,n.Z)(),g=new r.Ry(2);if(t?.profile_views===-1)return null;let x=t?.profile_views??0,b=x>=1e7?f.bt("Mais de 10 milhões de visualizações mensais", "10m+ monthly views", "viewerCount.overTenMillion", undefined, true):(0,c.nk)(f.bt("{{ count }} {{ label }}", "{{ count }} {{ label }}", "viewerCount.templateString", undefined, true),{count:(0,_.jsx)(d.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:x||0},"pretty_number"),label:f.bt("visualizações mensais", "monthly views", "viewerCount.monthlyViewsLabel", undefined, true)});return(0,_.jsx)(r.xu,{ref:h,children:(0,_.jsxs)(r.xv,{color:e,inline:o,size:p,weight:"normal",children:[b,(0,u.Z)({user:t,viewer:m})&&(0,_.jsx)(a.Qp,{anchor:h.current,customWrapper:({children:e})=>(0,_.jsx)(r.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:g,children:e}),experienceIds:[502925],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>window.open("https://www.pinterest.com/_/_/help/business/article/review-new-and-updated-reporting-metrics#section-15861","_blank"),placementId:19,showCaret:!0,textAlign:"center"})]})})}},582641:function(e,t,o){o.d(t,{T:()=>n,V:()=>s});var l=o(230201),i=o(924591),r=o(577356),a=o(785893);function n(e){let{street:t,extra_street:o,locality:l,region:i,postal_code:r,country:a}=e,n=t||"",s=o||"",d=l||"";return`${n}${s}${(n||s)&&","} ${d}${d&&","} ${i||""} ${r||""} ${a||""}`.trim()}function s(e,t,o){let{logContextEvent:s}=(0,l.u)(),{showToast:d}=(0,r.dI)();return()=>{s({event_type:101,element:12799,view_type:548,view_parameter:e?3106:3107}),navigator.clipboard.writeText(n(t)),d(({hideToast:e})=>(0,a.jsx)(i.Z,{onHide:e,text:o}))}}},329197:function(e,t,o){o.d(t,{Z:()=>i});var l=o(233597);function i(e,t,o){return(0,l.U)("BoardResource",{options:{board_id:e,field_set_key:t,...o?{orbac_subject_id:o}:{}}})}},679602:function(e,t,o){o.d(t,{S:()=>p,Z:()=>f});var l=o(27399),i=o(329197),r=o(773382),a=o(779686),n=o(148266),s=o(438274),d=o(382802);let c=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t.bt("Espera que a anterior ação no álbum termine.", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(t,e))},u=e=>(0,a.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId);function _(e,t){let{source:o,target:l}=e;l.boardId!==o.boardId?(t((0,i.Z)(o.boardId,"pin_count")),t((0,i.Z)(l.boardId,"pin_count"))):o.sectionId&&l.sectionId||t((0,i.Z)(l.boardId,"pin_count")),o.sectionId&&t((0,r.Z)(o.sectionId)),l.sectionId&&t((0,r.Z)(l.sectionId))}function p(e){return t=>{let{selectedPinIds:o,source:l,target:i}=e;t((0,a.EX)({feedId:l.sectionId||l.boardId,feedType:l.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"})),t((0,a.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"})),o.forEach(e=>{t((0,n.Vp)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),_(e,t)}}function f(e,t){return o=>{let{selectedPinIds:i,target:r}=e;return i.forEach(e=>{o((0,n.Vp)({pinId:e,boardId:r.boardId,sectionId:r.sectionId||void 0,title:r.name||""}))}),(function(e,t,o){let{inverseSelection:i,selectedPinIds:r,source:n,target:d,orbacSubjectId:_}=e;if(n.boardId===d.boardId&&(n.sectionId||null)===(d.sectionId||null))return Promise.reject();if(i){let e={board_id:n.boardId,new_board_id:d.boardId,old_section_id:n.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:r,orbac_subject_id:_};return l.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(n)),t(u(d))])).catch(c(o))}{let e=(e,o)=>{t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"})),t((0,a.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"}))};e(n,d);let i=()=>e(d,n);if(d.boardId===n.boardId)if(d.sectionId){let e={section_id:d.sectionId,pins:r,orbac_subject_id:_};return l.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{i(),c(o)(e)})}else{let e={section_id:n.sectionId,pins:r,orbac_subject_id:_};return l.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{i(),c(o)(e)})}{let e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:r,orbac_subject_id:_};return l.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{i(),c(o)(e)})}}})(e,o,t).then(()=>_(e,o))}}},381968:function(e,t,o){function l(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function i(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}o.d(t,{L:()=>i,m:()=>l})},38581:function(e,t,o){o.d(t,{Z:()=>f});var l=o(686659),i=o(667294),r=o(740097),a=o(104999),n=o(935059),s=o(24246),d=o(938967),c=o(271875),u=o(920343),_=o(500499),p=o(785893);function f(e){(0,i.useEffect)(()=>{(0,l.Z)("SendProfileButton","/app/www/sending/SendProfileButton.tsx")},[]);let{bgColor:t,dataTestId:o="share-profile-auth",iconColor:f,updateSharesheetOpenRef:h,labelVariant:m="share",size:g="lg",useGestaltButton:x,user:b}=e,w=(0,s.Z)(),[P,y]=(0,i.useState)(!1),v=(0,n.Z)(),C=(0,u.Z)({user:b,viewer:v}),j=(0,a.Z)(),A=v.isAuth&&C&&v.isPrivateProfile,{conversations:{showConversationsDropdown:E},dropdownOpen:z,setObjectAttachment:B}=(0,c.Z)(),T=w.bt("Enviar perfil", "Send Profile", "Accessible label for button to send this profile", undefined, true),Z="shareProfile"===m||"iconShareProfile"===m?w.bt("Partilhar perfil", "Share profile", "sendProfileButton.button.shareProfile", undefined, true):w.bt("Partilhar", "Share", "sendProfileButton.button", undefined, true);return(0,p.jsx)(_.Z,{flyoutDisplayOptions:{shownWithinProfileHeader:!0},isFlyoutOpen:P,loggingOptions:{component:13675,element:12631,viewType:4},onFlyoutDismiss:()=>{y(!1),h&&h(!1)},onToggleFlyout:()=>{j({event_type:101,component:13675,element:1079,object_id_str:b?.id,view_type:4,view_parameter:C?3106:3107}),A?!E&&b?.id&&(B({type:"follow_invite",id:b.id}),z()):(y(!P),h&&h(!P))},sendObject:{type:"user",description:"",name:b?.full_name,imageUrl:b?.image_large_url??"",url:`/${b?.username??""}/`,id:b?.id??""},children:({handleSendShareFlyoutButtonClick:e})=>(0,p.jsx)(r.xu,{"data-test-id":o,children:x?(0,p.jsx)(r.zx,{accessibilityLabel:T,iconStart:"iconShareProfile"===m?"share":void 0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation(),e()},selected:P,size:g,text:Z}):(0,p.jsx)(d.Z,{accessibilityLabel:T,bgColor:t,icon:"share",iconColor:f,onClick:()=>e(),selected:P})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/49254.pt_PT-956162d2039fc9c5.mjs.map